diff --git a/Makefile b/Makefile
index c600c1d..366e6b8 100644
--- a/Makefile
+++ b/Makefile
@@ -1,5 +1,7 @@
 SUBDIRS = rpmUtils yum etc docs po
 PYFILES = $(wildcard *.py)
+PYLINT_MODULES =  *.py yum rpmUtils
+PYLINT_IGNORE = oldUtils.py
 
 PKGNAME = yum
 VERSION=$(shell awk '/Version:/ { print $$2 }' ${PKGNAME}.spec)
@@ -53,6 +55,12 @@ test-skipbroken:
 
 check: test
 
+pylint:
+	@pylint --rcfile=test/yum-pylintrc --ignore=$(PYLINT_IGNORE) $(PYLINT_MODULES)
+
+pylint-short:
+	@pylint -r n --rcfile=test/yum-pylintrc --ignore=$(PYLINT_IGNORE) $(PYLINT_MODULES)
+
 changelog:
 	git log --since=2007-05-16 --pretty --numstat --summary | git2cl  > ChangeLog
 
diff --git a/cli.py b/cli.py
index 0374667..9a78e9b 100644
--- a/cli.py
+++ b/cli.py
@@ -25,7 +25,7 @@ import sys
 import time
 import random
 import logging
-from optparse import OptionParser
+from optparse import OptionParser,OptionGroup
 import rpm
 
 import output
@@ -35,17 +35,15 @@ import yum.Errors
 import yum.logginglevels
 import yum.misc
 import yum.plugins
-from yum.constants import TS_OBSOLETED
 import rpmUtils.arch
-from rpmUtils.arch import isMultiLibArch
 import rpmUtils.miscutils
-from yum.packages import parsePackages, YumLocalPackage
+from yum.packages import parsePackages
 from yum import _
 from yum.rpmtrans import RPMTransaction
 import signal
 import yumcommands
 
-from yum.misc import to_unicode, to_utf8
+from yum.i18n import to_unicode, to_utf8
 
 def sigquit(signum, frame):
     """ SIGQUIT handler for the yum cli. """
@@ -98,6 +96,7 @@ class YumBaseCli(yum.YumBase, output.YumOutput):
         self.registerCommand(yumcommands.RepoListCommand())
         self.registerCommand(yumcommands.HelpCommand())
         self.registerCommand(yumcommands.ReInstallCommand())        
+        self.registerCommand(yumcommands.DowngradeCommand())        
 
     def registerCommand(self, command):
         for name in command.getNames():
@@ -305,9 +304,9 @@ class YumBaseCli(yum.YumBase, output.YumOutput):
                 disk[m.group(2)] = int(m.group(1))
                 
         if disk:
-           summary += _('Disk Requirements:\n')
-           for k in disk:
-              summary += _('  At least %dMB needed on the %s filesystem.\n') % (disk[k], k)
+            summary += _('Disk Requirements:\n')
+            for k in disk:
+                summary += _('  At least %dMB needed on the %s filesystem.\n') % (disk[k], k)
 
         # TODO: simplify the dependency errors?
 
@@ -355,8 +354,8 @@ class YumBaseCli(yum.YumBase, output.YumOutput):
     
         # just make sure there's not, well, nothing to do
         if len(self.tsInfo) == 0:
-                self.verbose_logger.info(_('Trying to run the transaction but nothing to do. Exiting.'))
-                return 1
+            self.verbose_logger.info(_('Trying to run the transaction but nothing to do. Exiting.'))
+            return 1
 
         # NOTE: In theory we can skip this in -q -y mode, for a slight perf.
         #       gain. But it's probably doom to have a different code path.
@@ -501,14 +500,14 @@ class YumBaseCli(yum.YumBase, output.YumOutput):
                 continue            
 
             elif result == 1:
-               if not sys.stdin.isatty() and not self.conf.assumeyes:
-                  raise yum.Errors.YumBaseError, \
-                        _('Refusing to automatically import keys when running ' \
-                        'unattended.\nUse "-y" to override.')
+                if not sys.stdin.isatty() and not self.conf.assumeyes:
+                    raise yum.Errors.YumBaseError, \
+                            _('Refusing to automatically import keys when running ' \
+                            'unattended.\nUse "-y" to override.')
 
-               # the callback here expects to be able to take options which
-               # userconfirm really doesn't... so fake it
-               self.getKeyForPackage(po, lambda x, y, z: self.userconfirm())
+                # the callback here expects to be able to take options which
+                # userconfirm really doesn't... so fake it
+                self.getKeyForPackage(po, lambda x, y, z: self.userconfirm())
 
             else:
                 # Fatal error
@@ -564,7 +563,8 @@ class YumBaseCli(yum.YumBase, output.YumOutput):
         """Attempts to take the user specified list of packages/wildcards
            and install them, or if they are installed, update them to a newer
            version. If a complete version number if specified, attempt to 
-           downgrade them to the specified version"""
+           upgrade (or downgrade if they have been removed) them to the
+           specified version"""
         # get the list of available packages
         # iterate over the user's list
         # add packages to Transaction holding class if they match.
@@ -574,9 +574,6 @@ class YumBaseCli(yum.YumBase, output.YumOutput):
         
         oldcount = len(self.tsInfo)
         
-        toBeInstalled = {} # keyed on name
-        passToUpdate = [] # list of pkgtups to pass along to updatecheck
-
         for arg in userlist:
             if os.path.exists(arg) and arg.endswith('.rpm'): # this is hurky, deal w/it
                 val, msglist = self.localInstall(filelist=[arg])
@@ -647,6 +644,33 @@ class YumBaseCli(yum.YumBase, output.YumOutput):
         else:
             return 0, [_('No Packages marked for removal')]
     
+    def downgradePkgs(self, userlist):
+        """Attempts to take the user specified list of packages/wildcards
+           and downgrade them. If a complete version number if specified,
+           attempt to downgrade them to the specified version"""
+
+        oldcount = len(self.tsInfo)
+        
+        for arg in userlist:
+            # FIXME: We should allow local file downgrades too
+            #        even more important for Fedora.
+            if False and os.path.exists(arg) and arg.endswith('.rpm'):
+                val, msglist = self.localDowngrade(filelist=[arg])
+                continue # it was something on disk and it ended in rpm 
+                         # no matter what we don't go looking at repos
+
+            try:
+                self.downgrade(pattern=arg)
+            except yum.Errors.DowngradeError:
+                self.verbose_logger.log(yum.logginglevels.INFO_2,
+                                        _('No package %s%s%s available.'),
+                                        self.term.MODE['bold'], arg,
+                                        self.term.MODE['normal'])
+                self._maybeYouMeant(arg)
+        if len(self.tsInfo) > oldcount:
+            return 2, [_('Package(s) to downgrade')]
+        return 0, [_('Nothing to do')]
+        
     def localInstall(self, filelist, updateonly=0):
         """handles installs/updates of rpms provided on the filesystem in a 
            local dir (ie: not from a repo)"""
@@ -887,17 +911,26 @@ class YumBaseCli(yum.YumBase, output.YumOutput):
             self.verbose_logger.log(yum.logginglevels.INFO_2,
                 _('Installed Groups:'))
             for group in installed:
-                self.verbose_logger.log(yum.logginglevels.INFO_2, '   %s',
-                    group.ui_name)
+                if self.verbose_logger.isEnabledFor(yum.logginglevels.DEBUG_3):
+                    self.verbose_logger.log(yum.logginglevels.INFO_2,
+                                            '   %s (%s)', group.ui_name,
+                                            group.groupid)
+                else:
+                    self.verbose_logger.log(yum.logginglevels.INFO_2,
+                                            '   %s', group.ui_name)
         
         if len(available) > 0:
             self.verbose_logger.log(yum.logginglevels.INFO_2,
                 _('Available Groups:'))
             for group in available:
-                self.verbose_logger.log(yum.logginglevels.INFO_2, '   %s',
-                    group.ui_name)
+                if self.verbose_logger.isEnabledFor(yum.logginglevels.DEBUG_3):
+                    self.verbose_logger.log(yum.logginglevels.INFO_2,
+                                            '   %s (%s)', group.ui_name,
+                                            group.groupid)
+                else:
+                    self.verbose_logger.log(yum.logginglevels.INFO_2,
+                                            '   %s', group.ui_name)
 
-            
         return 0, [_('Done')]
     
     def returnGroupInfo(self, userlist):
@@ -1047,9 +1080,18 @@ class YumOptionParser(OptionParser):
     '''
 
     def __init__(self,base, **kwargs):
+        # check if this is called with a utils=True/False parameter
+        if 'utils' in kwargs:
+            self._utils = kwargs['utils']
+            del kwargs['utils'] 
+        else:
+            self._utils = False
         OptionParser.__init__(self, **kwargs)
         self.logger = logging.getLogger("yum.cli")
         self.base = base
+        self.plugin_option_group = OptionGroup(self, _("Plugin Options"))
+        self.add_option_group(self.plugin_option_group)
+
         self._addYumBasicOptions()
 
     def error(self, msg):
@@ -1221,71 +1263,76 @@ class YumOptionParser(OptionParser):
             dest = eval('parser.values.%s' % optobj.dest)
             dest.append((opt, value))
 
-
+        if self._utils:
+            group = OptionGroup(self, "Yum Base Options")
+            self.add_option_group(group)
+        else:
+            group = self
+    
         # Note that we can't use the default action="help" because of the
         # fact that print_help() unconditionally does .encode() ... which is
         # bad on unicode input.
-        self.conflict_handler = "resolve"
-        self.add_option("-h", "--help", action="callback",
+        group.conflict_handler = "resolve"
+        group.add_option("-h", "--help", action="callback",
                         callback=self._wrapOptParseUsage, 
                 help=_("show this help message and exit"))
-        self.conflict_handler = "error"
+        group.conflict_handler = "error"
 
-        self.add_option("-t", "--tolerant", action="store_true",
+        group.add_option("-t", "--tolerant", action="store_true",
                 help=_("be tolerant of errors"))
-        self.add_option("-C", dest="cacheonly", action="store_true",
+        group.add_option("-C", dest="cacheonly", action="store_true",
                 help=_("run entirely from cache, don't update cache"))
-        self.add_option("-c", dest="conffile", default='/etc/yum/yum.conf',
+        group.add_option("-c", dest="conffile", default='/etc/yum/yum.conf',
                 help=_("config file location"), metavar=' [config file]')
-        self.add_option("-R", dest="sleeptime", type='int', default=None,
+        group.add_option("-R", dest="sleeptime", type='int', default=None,
                 help=_("maximum command wait time"), metavar=' [minutes]')
-        self.add_option("-d", dest="debuglevel", default=None,
+        group.add_option("-d", dest="debuglevel", default=None,
                 help=_("debugging output level"), type='int',
                 metavar=' [debug level]')
-        self.add_option("--showduplicates", dest="showdupesfromrepos",
+        group.add_option("--showduplicates", dest="showdupesfromrepos",
                         action="store_true",
                 help=_("show duplicates, in repos, in list/search commands"))
-        self.add_option("-e", dest="errorlevel", default=None,
+        group.add_option("-e", dest="errorlevel", default=None,
                 help=_("error output level"), type='int',
                 metavar=' [error level]')
-        self.add_option("-q", "--quiet", dest="quiet", action="store_true",
+        group.add_option("-q", "--quiet", dest="quiet", action="store_true",
                         help=_("quiet operation"))
-        self.add_option("-v", "--verbose", dest="verbose", action="store_true",
+        group.add_option("-v", "--verbose", dest="verbose", action="store_true",
                         help=_("verbose operation"))
-        self.add_option("-y", dest="assumeyes", action="store_true",
+        group.add_option("-y", dest="assumeyes", action="store_true",
                 help=_("answer yes for all questions"))
-        self.add_option("--version", action="store_true", 
+        group.add_option("--version", action="store_true", 
                 help=_("show Yum version and exit"))
-        self.add_option("--installroot", help=_("set install root"), 
+        group.add_option("--installroot", help=_("set install root"), 
                 metavar='[path]')
-        self.add_option("--enablerepo", action='callback',
+        group.add_option("--enablerepo", action='callback',
                 type='string', callback=repo_optcb, dest='repos', default=[],
                 help=_("enable one or more repositories (wildcards allowed)"),
                 metavar='[repo]')
-        self.add_option("--disablerepo", action='callback',
+        group.add_option("--disablerepo", action='callback',
                 type='string', callback=repo_optcb, dest='repos', default=[],
                 help=_("disable one or more repositories (wildcards allowed)"),
                 metavar='[repo]')
-        self.add_option("-x", "--exclude", default=[], action="append",
+        group.add_option("-x", "--exclude", default=[], action="append",
                 help=_("exclude package(s) by name or glob"), metavar='[package]')
-        self.add_option("", "--disableexcludes", default=[], action="append",
+        group.add_option("", "--disableexcludes", default=[], action="append",
                 help=_("disable exclude from main, for a repo or for everything"),
                         metavar='[repo]')
-        self.add_option("--obsoletes", action="store_true", 
+        group.add_option("--obsoletes", action="store_true", 
                 help=_("enable obsoletes processing during updates"))
-        self.add_option("--noplugins", action="store_true", 
+        group.add_option("--noplugins", action="store_true", 
                 help=_("disable Yum plugins"))
-        self.add_option("--nogpgcheck", action="store_true",
+        group.add_option("--nogpgcheck", action="store_true",
                 help=_("disable gpg signature checking"))
-        self.add_option("", "--disableplugin", dest="disableplugins", default=[], 
+        group.add_option("", "--disableplugin", dest="disableplugins", default=[], 
                 action="append", help=_("disable plugins by name"),
                 metavar='[plugin]')
-        self.add_option("", "--enableplugin", dest="enableplugins", default=[], 
+        group.add_option("", "--enableplugin", dest="enableplugins", default=[], 
                 action="append", help=_("enable plugins by name"),
                 metavar='[plugin]')
-        self.add_option("--skip-broken", action="store_true", dest="skipbroken",
+        group.add_option("--skip-broken", action="store_true", dest="skipbroken",
                 help=_("skip packages with depsolving problems"))
-        self.add_option("", "--color", dest="color", default=None, 
+        group.add_option("", "--color", dest="color", default=None, 
                 help=_("control whether color is used"))
 
 
diff --git a/docs/yum.8 b/docs/yum.8
index 3818902..0e65dcb 100644
--- a/docs/yum.8
+++ b/docs/yum.8
@@ -59,7 +59,9 @@ gnome\-packagekit application\&.
 .br
 .I \fR * localupdate rpmfile1 [rpmfile2] [\&.\&.\&.] 
 .br
-.I \fR * reinstall package1
+.I \fR * reinstall package1 [package2] [\&.\&.\&.] 
+.br
+.I \fR * downgrade package1 [package2] [\&.\&.\&.] 
 .br
 .I \fR * deplist package1 [package2] [\&.\&.\&.] 
 .br
@@ -191,8 +193,14 @@ If required the enabled repositories will be used to resolve dependencies.
 .IP
 .IP "\fBreinstall\fP"
 Will reinstall the identically versioned package as is currently installed. 
-It will not necessarily work for all pkgs. Kernels, in particular are not
-going to play nicely with this.
+This does not work for "installonly" packages, like Kernels.
+.IP
+.IP "\fBdowngrade\fP"
+Will try and downgrade a package from the version currently installed to the
+previously highest version (or the specified version).
+The depsolver will not necessarily work, but if you specify all the packages it
+should work (and thus. all the simple cases will work). Also this does not
+work for "installonly" packages, like Kernels.
 .IP
 .IP "\fBdeplist\fP"
 Produces a list of all dependencies and what packages provide those
diff --git a/output.py b/output.py
index 62af285..669efce 100755
--- a/output.py
+++ b/output.py
@@ -29,7 +29,8 @@ import re # For YumTerm
 from urlgrabber.progress import TextMeter
 import urlgrabber.progress
 from urlgrabber.grabber import URLGrabError
-from yum.misc import sortPkgObj, prco_tuple_to_string, to_str, to_utf8, to_unicode, get_my_lang_code
+from yum.misc import prco_tuple_to_string
+from yum.i18n import to_str, to_utf8, to_unicode
 import yum.misc
 from rpmUtils.miscutils import checkSignals
 from yum.constants import *
@@ -293,6 +294,8 @@ class YumOutput:
             self.i18ndomains = ["redhat-dist"]
 
         self.term = YumTerm()
+        self._last_interrupt = None
+
     
     def printtime(self):
         months = [_('Jan'), _('Feb'), _('Mar'), _('Apr'), _('May'), _('Jun'),
@@ -865,14 +868,14 @@ class YumOutput:
                 size = int(pkg.size)
                 totsize += size
                 try:
-                   if pkg.verifyLocalPkg():
-                       locsize += size
+                    if pkg.verifyLocalPkg():
+                        locsize += size
                 except:
-                   pass
+                    pass
             except:
-                 error = True
-                 self.logger.error(_('There was an error calculating total download size'))
-                 break
+                error = True
+                self.logger.error(_('There was an error calculating total download size'))
+                break
 
         if (not error):
             if locsize:
@@ -1100,7 +1103,7 @@ Remove   %5.5s Package(s)
 
         now = time.time()
 
-        if not hasattr(self, '_last_interrupt'):
+        if not self._last_interrupt:
             hibeg = self.term.MODE['bold']
             hiend = self.term.MODE['normal']
             msg = _("""
diff --git a/po/de.po b/po/de.po
index 839bbe3..a7e2101 100644
--- a/po/de.po
+++ b/po/de.po
@@ -2,7 +2,7 @@
 # Copyright (C) 2006 Duke
 # This file is distributed under the same license as the yum package.
 #
-# Fabian Affolter <fab@fedoraproject.org>, 2007,2008,2009.
+# Fabian Affolter <fab@fedoraproject.org>, 2007-2009.
 # Dominik Sandjaja <dominiksandjaja@fedoraproject.org>, 2008,2009.
 # Thomas Spura <tomspur@fedoraproject.org>, 2008.
 #
@@ -10,9 +10,9 @@ msgid ""
 msgstr ""
 "Project-Id-Version: yum\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-04 01:24+0000\n"
-"PO-Revision-Date: 2009-02-20 23:38+0100\n"
-"Last-Translator: Dominik Sandjaja <dominiksandjaja@fedoraproject.org>\n"
+"POT-Creation-Date: 2009-03-28 19:19+0000\n"
+"PO-Revision-Date: 2009-03-29 22:00+0100\n"
+"Last-Translator: Fabian Affolter <fab@fedoraproject.org>\n"
 "Language-Team: German <fedora-trans-de@redhat.com>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
@@ -21,7 +21,7 @@ msgstr ""
 "X-Poedit-Language: German\n"
 
 #: ../callback.py:48
-#: ../output.py:909
+#: ../output.py:922
 #: ../yum/rpmtrans.py:71
 msgid "Updating"
 msgstr "Aktualisieren"
@@ -34,7 +34,7 @@ msgstr "Löschen"
 #: ../callback.py:50
 #: ../callback.py:51
 #: ../callback.py:53
-#: ../output.py:908
+#: ../output.py:921
 #: ../yum/rpmtrans.py:73
 #: ../yum/rpmtrans.py:74
 #: ../yum/rpmtrans.py:76
@@ -48,7 +48,7 @@ msgid "Obsoleted"
 msgstr "Veraltet"
 
 #: ../callback.py:54
-#: ../output.py:1014
+#: ../output.py:1029
 msgid "Updated"
 msgstr "Aktualisiert"
 
@@ -59,7 +59,7 @@ msgstr "Gelöscht"
 #: ../callback.py:56
 #: ../callback.py:57
 #: ../callback.py:59
-#: ../output.py:1012
+#: ../output.py:1027
 msgid "Installed"
 msgstr "Installiert"
 
@@ -70,7 +70,7 @@ msgstr "Kein Header - huh?"
 # Geht sicher auch besser..., Ideen? Fabian
 #: ../callback.py:168
 msgid "Repackage"
-msgstr "Neu verpackt"
+msgstr "Neu verpacken"
 
 #: ../callback.py:189
 #, python-format
@@ -83,7 +83,7 @@ msgid "Erased: %s"
 msgstr "Gelöscht: %s"
 
 #: ../callback.py:217
-#: ../output.py:910
+#: ../output.py:923
 msgid "Removing"
 msgstr "Entfernen"
 
@@ -105,109 +105,109 @@ msgstr "Repositories werden eingerichtet"
 msgid "Reading repository metadata in from local files"
 msgstr "Lese Repository-Metadaten aus lokalen Dateien ein"
 
-#: ../cli.py:191
+#: ../cli.py:192
 #: ../utils.py:79
 #, python-format
 msgid "Config Error: %s"
 msgstr "Konfigurationsfehler: %s"
 
-#: ../cli.py:194
-#: ../cli.py:1178
+#: ../cli.py:195
+#: ../cli.py:1190
 #: ../utils.py:82
 #, python-format
 msgid "Options Error: %s"
 msgstr "Optionenfehler: %s"
 
-#: ../cli.py:222
+#: ../cli.py:223
 #, python-format
 msgid "  Installed: %s-%s at %s"
 msgstr "  Installiert: %s-%s am %s"
 
-#: ../cli.py:224
+#: ../cli.py:225
 #, python-format
 msgid "  Built    : %s at %s"
 msgstr "  Gebaut    : %s am %s"
 
-#: ../cli.py:226
+#: ../cli.py:227
 #, python-format
 msgid "  Committed: %s at %s"
 msgstr "  Übermittelt: %s am %s"
 
-#: ../cli.py:263
+#: ../cli.py:266
 msgid "You need to give some command"
 msgstr "Sie müssen irgendeinen Befehl eingeben"
 
-#: ../cli.py:305
+#: ../cli.py:309
 msgid "Disk Requirements:\n"
 msgstr "Festplattenplatz-Anforderungen:\n"
 
-#: ../cli.py:307
+#: ../cli.py:311
 #, python-format
 msgid "  At least %dMB needed on the %s filesystem.\n"
 msgstr "  Mindestens %d MB werden auf dem Dateisystem %s benötigt.\n"
 
 #. TODO: simplify the dependency errors?
 #. Fixup the summary
-#: ../cli.py:312
+#: ../cli.py:316
 msgid ""
 "Error Summary\n"
 "-------------\n"
 msgstr ""
 "Fehler-Zusammenfassung\n"
-"-------------\n"
+"----------------------\n"
 
-#: ../cli.py:355
+#: ../cli.py:359
 msgid "Trying to run the transaction but nothing to do. Exiting."
 msgstr "Versuche Transaktion auszuführen, aber es ist nichts zu tun. Beende."
 
-#: ../cli.py:391
+#: ../cli.py:395
 msgid "Exiting on user Command"
 msgstr "Beende nach Befehl des Benutzers"
 
-#: ../cli.py:395
+#: ../cli.py:399
 msgid "Downloading Packages:"
 msgstr "Lade Pakete herunter:"
 
-#: ../cli.py:400
+#: ../cli.py:404
 msgid "Error Downloading Packages:\n"
 msgstr "Fehler beim Herunterladen der Pakete:\n"
 
-#: ../cli.py:414
-#: ../yum/__init__.py:3342
+#: ../cli.py:418
+#: ../yum/__init__.py:3362
 msgid "Running rpm_check_debug"
 msgstr "Führe rpm_check_debug durch"
 
-#: ../cli.py:417
-#: ../yum/__init__.py:3345
+#: ../cli.py:421
+#: ../yum/__init__.py:3365
 msgid "ERROR with rpm_check_debug vs depsolve:"
 msgstr "FEHLER mit rpm_check_debug gegen depsolve:"
 
-#: ../cli.py:421
+#: ../cli.py:425
 #, python-format
 msgid "Please report this error in %s"
 msgstr "Bitte melden Sie diesen Fehler unter %s"
 
-#: ../cli.py:427
+#: ../cli.py:431
 msgid "Running Transaction Test"
 msgstr "Führe Verarbeitungstest durch"
 
-#: ../cli.py:443
+#: ../cli.py:447
 msgid "Finished Transaction Test"
 msgstr "Verarbeitungstest beendet"
 
-#: ../cli.py:445
+#: ../cli.py:449
 msgid "Transaction Check Error:\n"
 msgstr "Prüffehler bei Verarbeitung:\n"
 
-#: ../cli.py:452
+#: ../cli.py:456
 msgid "Transaction Test Succeeded"
 msgstr "Verarbeitungstest erfolgreich"
 
-#: ../cli.py:473
+#: ../cli.py:477
 msgid "Running Transaction"
 msgstr "Führe Verarbeitung durch"
 
-#: ../cli.py:503
+#: ../cli.py:507
 msgid ""
 "Refusing to automatically import keys when running unattended.\n"
 "Use \"-y\" to override."
@@ -215,181 +215,181 @@ msgstr ""
 "Verweigere automatischen Import der Schlüssel, wenn unbeaufsichtigt ausgeführt.\n"
 "Benutze \"-y\" zum Überschreiben."
 
-#: ../cli.py:522
-#: ../cli.py:556
+#: ../cli.py:526
+#: ../cli.py:560
 msgid "  * Maybe you meant: "
-msgstr " * Meinten Sie vielleicht:"
+msgstr "  * Meinten Sie vielleicht:"
 
-#: ../cli.py:539
-#: ../cli.py:547
+#: ../cli.py:543
+#: ../cli.py:551
 #, python-format
 msgid "Package(s) %s%s%s available, but not installed."
 msgstr "Paket(e) %s%s%s verfügbar, aber nicht installiert."
 
-#: ../cli.py:553
-#: ../cli.py:586
+#: ../cli.py:557
+#: ../cli.py:590
 #, python-format
 msgid "No package %s%s%s available."
-msgstr "Kein Paket  %s%s%s verfügbar."
+msgstr "Kein Paket %s%s%s verfügbar."
 
-#: ../cli.py:591
-#: ../cli.py:666
-#: ../yumcommands.py:988
+#: ../cli.py:595
+#: ../cli.py:670
+#: ../yumcommands.py:1010
 msgid "Package(s) to install"
 msgstr "Paket(e) zum Installieren"
 
-#: ../cli.py:592
-#: ../cli.py:667
+#: ../cli.py:596
+#: ../cli.py:671
 #: ../yumcommands.py:159
-#: ../yumcommands.py:989
+#: ../yumcommands.py:1011
 msgid "Nothing to do"
 msgstr "Nichts zu tun"
 
-#: ../cli.py:625
+#: ../cli.py:629
 #, python-format
 msgid "%d packages marked for Update"
 msgstr "%d Pakete zur Aktualisierung markiert"
 
-#: ../cli.py:628
+#: ../cli.py:632
 msgid "No Packages marked for Update"
 msgstr "Keine Pakete für die Aktualisierung markiert"
 
-#: ../cli.py:642
+#: ../cli.py:646
 #, python-format
 msgid "%d packages marked for removal"
 msgstr "%d Pakete für die Entfernung markiert"
 
-#: ../cli.py:645
+#: ../cli.py:649
 msgid "No Packages marked for removal"
 msgstr "Keine Pakete für die Entfernung markiert"
 
-#: ../cli.py:657
+#: ../cli.py:661
 msgid "No Packages Provided"
 msgstr "Keine Pakete bereitgestellt"
 
-#: ../cli.py:712
+#: ../cli.py:716
 msgid "Matching packages for package list to user args"
 msgstr "Übereinstimmende Pakete für Paket-Liste nach Benutzer-Argument"
 
-#: ../cli.py:761
+#: ../cli.py:765
 #, python-format
 msgid "Warning: No matches found for: %s"
 msgstr "Warnung: Keine Übereinstimmung gefunden für: %s"
 
-#: ../cli.py:764
+#: ../cli.py:768
 msgid "No Matches found"
 msgstr "Keine Übereinstimmungen gefunden"
 
-# dies geht sicher auch noch verständlicher. Fabian
-#: ../cli.py:803
+#: ../cli.py:807
 #, python-format
 msgid ""
-"Warning: 3.0.x versions of yum would erronously match against filenames.\n"
+"Warning: 3.0.x versions of yum would erroneously match against filenames.\n"
 " You can use \"%s*/%s%s\" and/or \"%s*bin/%s%s\" to get that behaviour"
 msgstr ""
-"Warnung: 3.0.x Versionen von yum stimmen irrtümlicherweise gegen Dateinamen überein.\n"
+"Warnung: 3.0.x Versionen von yum stimmen irrtümlicherweise mit Dateinamen ab.\n"
 " Sie können \"%s*/%s%s\" und/oder \"%s*bin/%s%s\" benutzen, um dieses Verhalten zu bekommen"
 
-#: ../cli.py:819
+#: ../cli.py:823
 #, python-format
 msgid "No Package Found for %s"
 msgstr "Kein Paket gefunden für %s"
 
 # Räume auf, säubere...weiss jemand eine Übersetzung, welche nicht an den Staubsauger erinnert. Fabian
-#: ../cli.py:831
+#: ../cli.py:835
 msgid "Cleaning up Everything"
 msgstr "Räume alles auf"
 
-#: ../cli.py:845
+#: ../cli.py:849
 msgid "Cleaning up Headers"
 msgstr "Räume Header auf"
 
-#: ../cli.py:848
+#: ../cli.py:852
 msgid "Cleaning up Packages"
 msgstr "Räume Pakete auf"
 
-#: ../cli.py:851
+#: ../cli.py:855
 msgid "Cleaning up xml metadata"
 msgstr "Räume XML-Metadaten auf"
 
-#: ../cli.py:854
+#: ../cli.py:858
 msgid "Cleaning up database cache"
 msgstr "Räume Datenbank-Speicher auf"
 
-#: ../cli.py:857
+#: ../cli.py:861
 msgid "Cleaning up expire-cache metadata"
 msgstr "Räume Metadaten für abgelaufene Caches auf"
 
-#: ../cli.py:860
+#: ../cli.py:864
 msgid "Cleaning up plugins"
 msgstr "Räume Plugins auf"
 
-#: ../cli.py:885
+#: ../cli.py:889
 msgid "Installed Groups:"
 msgstr "Installierte Gruppen:"
 
-#: ../cli.py:892
+#: ../cli.py:896
 msgid "Available Groups:"
 msgstr "Verfügbare Gruppen:"
 
-#: ../cli.py:898
+#: ../cli.py:902
 msgid "Done"
 msgstr "Fertig"
 
-#: ../cli.py:909
-#: ../cli.py:927
-#: ../cli.py:933
-#: ../yum/__init__.py:2387
+#: ../cli.py:913
+#: ../cli.py:931
+#: ../cli.py:937
+#: ../yum/__init__.py:2410
 #, python-format
 msgid "Warning: Group %s does not exist."
 msgstr "Warnung: Gruppe %s existiert nicht."
 
-#: ../cli.py:937
+#: ../cli.py:941
 msgid "No packages in any requested group available to install or update"
 msgstr "Keine Pakete in irgendeiner Gruppe verfügbar zum Installieren oder Aktualisieren"
 
-#: ../cli.py:939
+#: ../cli.py:943
 #, python-format
 msgid "%d Package(s) to Install"
 msgstr "%d Paket(e) zum Installieren"
 
-#: ../cli.py:949
-#: ../yum/__init__.py:2399
+#: ../cli.py:953
+#: ../yum/__init__.py:2422
 #, python-format
 msgid "No group named %s exists"
 msgstr "Es existiert keine Gruppe mit dem Namen %s"
 
-#: ../cli.py:955
+#: ../cli.py:959
 msgid "No packages to remove from groups"
 msgstr "Keine Pakete zum Entfernen aus dem Gruppen gefunden"
 
-#: ../cli.py:957
+#: ../cli.py:961
 #, python-format
 msgid "%d Package(s) to remove"
 msgstr "%d Paket(e) zum Entfernen"
 
-#: ../cli.py:999
+#: ../cli.py:1003
 #, python-format
 msgid "Package %s is already installed, skipping"
 msgstr "Paket %s ist bereits installiert, überspringe"
 
-#: ../cli.py:1010
+# Meint das nicht eher übergehe? -tl
+#: ../cli.py:1014
 #, python-format
 msgid "Discarding non-comparable pkg %s.%s"
 msgstr "Verwerfe nicht vergleichbare Pakete %s.%s"
 
 #. we've not got any installed that match n or n+a
-#: ../cli.py:1036
+#: ../cli.py:1040
 #, python-format
 msgid "No other %s installed, adding to list for potential install"
 msgstr "Kein anderes %s installiert, füge es zur Liste für eine potentielle Installation hinzu"
 
-#: ../cli.py:1055
+#: ../cli.py:1059
 #, python-format
 msgid "Command line error: %s"
 msgstr "Kommandozeilen-Fehler: %s"
 
-#: ../cli.py:1068
+#: ../cli.py:1072
 #, python-format
 msgid ""
 "\n"
@@ -400,103 +400,103 @@ msgstr ""
 "\n"
 "%s: %s Option benötigt ein Argument"
 
-#: ../cli.py:1118
+#: ../cli.py:1130
 msgid "--color takes one of: auto, always, never"
 msgstr "--color kann einen der folgenden Werte haben: auto, always, never"
 
-#: ../cli.py:1220
+#: ../cli.py:1232
 msgid "show this help message and exit"
 msgstr "Hilfeinformation anzeigen und beenden"
 
-#: ../cli.py:1224
+#: ../cli.py:1236
 msgid "be tolerant of errors"
 msgstr "fehlertolerant sein"
 
-#: ../cli.py:1226
+#: ../cli.py:1238
 msgid "run entirely from cache, don't update cache"
 msgstr "laufe komplett aus dem Zwischenspeicher, aktualisiere Zwischenspeicher nicht"
 
-#: ../cli.py:1228
+#: ../cli.py:1240
 msgid "config file location"
 msgstr "Ort der Konfigurationsdatei"
 
-#: ../cli.py:1230
+#: ../cli.py:1242
 msgid "maximum command wait time"
 msgstr "maximale Befehlswartezeit"
 
-#: ../cli.py:1232
+#: ../cli.py:1244
 msgid "debugging output level"
 msgstr "Debugging-Ausgabe-Stufe"
 
-#: ../cli.py:1236
+#: ../cli.py:1248
 msgid "show duplicates, in repos, in list/search commands"
 msgstr "Zeige Duplikate, in Repos, in Listen/Suchen-Befehlen"
 
-#: ../cli.py:1238
+#: ../cli.py:1250
 msgid "error output level"
 msgstr "Fehler-Ausgabe-Stufe"
 
-#: ../cli.py:1241
+#: ../cli.py:1253
 msgid "quiet operation"
 msgstr "Stiller Betrieb"
 
-#: ../cli.py:1243
+#: ../cli.py:1255
 msgid "verbose operation"
 msgstr "Wortreicher Betrieb"
 
-#: ../cli.py:1245
+#: ../cli.py:1257
 msgid "answer yes for all questions"
 msgstr "Beantworte alle Fragen mit 'ja'"
 
-#: ../cli.py:1247
+#: ../cli.py:1259
 msgid "show Yum version and exit"
 msgstr "Yum-Version anzeigen und Programm beenden"
 
-#: ../cli.py:1248
+#: ../cli.py:1260
 msgid "set install root"
 msgstr "Wurzel-Installationsverzeichnis setzen"
 
-#: ../cli.py:1252
+#: ../cli.py:1264
 msgid "enable one or more repositories (wildcards allowed)"
-msgstr "aktiviere eines oder mehrere Repositories (Wildcards erlaubt)"
+msgstr "aktiviere ein oder mehrere Repositories (Wildcards erlaubt)"
 
-#: ../cli.py:1256
+#: ../cli.py:1268
 msgid "disable one or more repositories (wildcards allowed)"
-msgstr "deaktiviere eines oder mehrere Repositories (Wildcards erlaubt)"
+msgstr "deaktiviere ein oder mehrere Repositories (Wildcards erlaubt)"
 
-#: ../cli.py:1259
+#: ../cli.py:1271
 msgid "exclude package(s) by name or glob"
-msgstr "schließe Paket(e) nach Namen oder global aus"
+msgstr "schliesse Paket(e) nach Namen oder global aus"
 
-#: ../cli.py:1261
+#: ../cli.py:1273
 msgid "disable exclude from main, for a repo or for everything"
 msgstr "deaktiviere Ausschluss von 'main', einem Repository oder allem"
 
-#: ../cli.py:1264
+#: ../cli.py:1276
 msgid "enable obsoletes processing during updates"
 msgstr "aktiviere veraltetes Verarbeiten während Aktualisierung"
 
-#: ../cli.py:1266
+#: ../cli.py:1278
 msgid "disable Yum plugins"
 msgstr "deaktiviere Yum-Plugins"
 
-#: ../cli.py:1268
+#: ../cli.py:1280
 msgid "disable gpg signature checking"
 msgstr "deaktiviere GPG-Signatur-Prüfung"
 
-#: ../cli.py:1270
+#: ../cli.py:1282
 msgid "disable plugins by name"
 msgstr "deaktiviere Plugins nach Namen"
 
-#: ../cli.py:1273
+#: ../cli.py:1285
 msgid "enable plugins by name"
 msgstr "aktiviere Plugins nach Namen"
 
-#: ../cli.py:1276
+#: ../cli.py:1288
 msgid "skip packages with depsolving problems"
 msgstr "überspringe Pakete mit Abhängigkeitsauflösungsproblemen"
 
-#: ../cli.py:1278
+#: ../cli.py:1290
 msgid "control whether color is used"
 msgstr "kontrolliert, ob Farbe benutzt wird"
 
@@ -580,7 +580,7 @@ msgstr "Ausgabe    : %s"
 #: ../output.py:531
 #, python-format
 msgid "Size       : %s"
-msgstr "Größe     : %s"
+msgstr "Grösse     : %s"
 
 #: ../output.py:532
 #, python-format
@@ -625,27 +625,27 @@ msgstr "Lizenz     : %s"
 msgid "Description: "
 msgstr "Beschreibung:"
 
-#: ../output.py:607
+#: ../output.py:611
 msgid "y"
 msgstr "j"
 
-#: ../output.py:607
+#: ../output.py:611
 msgid "yes"
 msgstr "ja"
 
-#: ../output.py:608
+#: ../output.py:612
 msgid "n"
 msgstr "n"
 
-#: ../output.py:608
+#: ../output.py:612
 msgid "no"
 msgstr "nein"
 
-#: ../output.py:612
+#: ../output.py:616
 msgid "Is this ok [y/N]: "
 msgstr "Ist dies in Ordnung? [j/N] :"
 
-#: ../output.py:700
+#: ../output.py:704
 #, python-format
 msgid ""
 "\n"
@@ -654,138 +654,143 @@ msgstr ""
 "\n"
 "Gruppe: %s"
 
-#: ../output.py:707
+#: ../output.py:708
+#, python-format
+msgid " Group-Id: %s"
+msgstr " Gruppen-ID: %s"
+
+#: ../output.py:713
 #, python-format
 msgid " Description: %s"
 msgstr " Beschreibung: %s"
 
-#: ../output.py:709
+#: ../output.py:715
 msgid " Mandatory Packages:"
 msgstr " Obligatorische Pakete:"
 
-#: ../output.py:710
+#: ../output.py:716
 msgid " Default Packages:"
 msgstr " Standard-Pakete:"
 
-#: ../output.py:711
+#: ../output.py:717
 msgid " Optional Packages:"
 msgstr " Optionale Pakete:"
 
-#: ../output.py:712
+#: ../output.py:718
 msgid " Conditional Packages:"
 msgstr " Zwangsbedingte Pakete:"
 
-#: ../output.py:732
+#: ../output.py:738
 #, python-format
 msgid "package: %s"
 msgstr "Paket: %s"
 
-#: ../output.py:734
+#: ../output.py:740
 msgid "  No dependencies for this package"
 msgstr "  Keine Abhängigkeiten für dieses Paket"
 
-#: ../output.py:739
+#: ../output.py:745
 #, python-format
 msgid "  dependency: %s"
 msgstr "  Abhängigkeit: %s"
 
-#: ../output.py:741
+#: ../output.py:747
 msgid "   Unsatisfied dependency"
 msgstr "   Nicht erfüllte Abhängigkeit"
 
-#: ../output.py:813
+#: ../output.py:819
 #, python-format
 msgid "Repo        : %s"
 msgstr "Repo        : %s"
 
-#: ../output.py:814
+#: ../output.py:820
 msgid "Matched from:"
 msgstr "Übereinstimmung von:"
 
-#: ../output.py:822
+#: ../output.py:828
 msgid "Description : "
 msgstr "Beschreibung : "
 
-#: ../output.py:825
+#: ../output.py:831
 #, python-format
 msgid "URL         : %s"
 msgstr "URL        : %s"
 
-#: ../output.py:828
+#: ../output.py:834
 #, python-format
 msgid "License     : %s"
 msgstr "Lizenz     : %s"
 
-#: ../output.py:831
+#: ../output.py:837
 #, python-format
 msgid "Filename    : %s"
 msgstr "Dateiname     : %s"
 
-#: ../output.py:835
+#: ../output.py:841
 msgid "Other       : "
 msgstr "Andere     : "
 
-#: ../output.py:868
+#: ../output.py:874
 msgid "There was an error calculating total download size"
-msgstr "Fehler beim Berechnen der Gesamtgröße der Downloads"
+msgstr "Fehler beim Berechnen der Gesamtgrösse der Downloads"
 
-#: ../output.py:873
+#: ../output.py:879
 #, python-format
 msgid "Total size: %s"
-msgstr "Gesamtgröße: %s"
+msgstr "Gesamtgrösse: %s"
 
-#: ../output.py:876
+#: ../output.py:882
 #, python-format
 msgid "Total download size: %s"
-msgstr "Gesamte Downloadgröße: %s"
+msgstr "Gesamte Downloadgrösse: %s"
 
-#: ../output.py:911
+#: ../output.py:924
 msgid "Installing for dependencies"
 msgstr "Installiert für Abhängigkeiten"
 
-#: ../output.py:912
+#: ../output.py:925
 msgid "Updating for dependencies"
 msgstr "Aktualisiert für Abhängigkeiten"
 
-#: ../output.py:913
+#: ../output.py:926
 msgid "Removing for dependencies"
 msgstr "Entfernt für Abhängigkeiten"
 
-#: ../output.py:920
-#: ../output.py:1016
+#: ../output.py:933
+#: ../output.py:1031
 msgid "Skipped (dependency problems)"
 msgstr "Übersprungen (Abhängigkeitsprobleme)"
 
-#: ../output.py:941
+#: ../output.py:954
 msgid "Package"
 msgstr "Paket"
 
-#: ../output.py:941
+#: ../output.py:954
 msgid "Arch"
 msgstr "Arch"
 
-#: ../output.py:942
+#: ../output.py:955
 msgid "Version"
 msgstr "Version"
 
-#: ../output.py:942
+#: ../output.py:955
 msgid "Repository"
 msgstr "Repository"
 
-#: ../output.py:943
+#: ../output.py:956
 msgid "Size"
-msgstr "Größe"
+msgstr "Grösse"
 
-#: ../output.py:954
+#: ../output.py:968
 #, python-format
 msgid ""
-"     replacing  %s.%s %s\n"
+"     replacing  %s%s%s.%s %s\n"
 "\n"
 msgstr ""
-"     ersetze  %s.%s %s\n"
+"     ersetze  %s%s%s.%s %s\n"
 "\n"
 
-#: ../output.py:962
+#: ../output.py:977
 #, python-format
 msgid ""
 "\n"
@@ -802,31 +807,36 @@ msgstr ""
 "Aktualisieren     %5.5s Paket(e)         \n"
 "Entfernen          %5.5s Paket(e)         \n"
 
-#: ../output.py:1010
+#: ../output.py:1025
 msgid "Removed"
 msgstr "Entfernt"
 
-#: ../output.py:1011
+#: ../output.py:1026
 msgid "Dependency Removed"
 msgstr "Abhängigkeiten entfernt"
 
-#: ../output.py:1013
+#: ../output.py:1028
 msgid "Dependency Installed"
 msgstr "Abhängigkeit installiert"
 
-#: ../output.py:1015
+#: ../output.py:1030
 msgid "Dependency Updated"
 msgstr "Abhängigkeit aktualisiert"
 
-#: ../output.py:1017
+#: ../output.py:1032
 msgid "Replaced"
 msgstr "Ersetzt       "
 
-#: ../output.py:1018
+#: ../output.py:1033
 msgid "Failed"
 msgstr "Fehlgeschlagen"
 
-#: ../output.py:1091
+#. Delta between C-c's so we treat as exit
+#: ../output.py:1099
+msgid "two"
+msgstr "zwei"
+
+#: ../output.py:1106
 #, python-format
 msgid ""
 "\n"
@@ -835,68 +845,68 @@ msgstr ""
 "\n"
 " Aktueller Download abgebrochen, %s unterbrechen Sie (Ctrl-c) erneut %s innerhalb %s%s%s Sekunden zum Beenden.\n"
 
-#: ../output.py:1101
+#: ../output.py:1116
 msgid "user interrupt"
 msgstr "Benutzer-Unterbrechung"
 
-#: ../output.py:1117
+#: ../output.py:1132
 msgid "Total"
-msgstr "Total"
+msgstr "Gesamt"
 
-#: ../output.py:1131
+#: ../output.py:1146
 msgid "installed"
 msgstr "installiert"
 
-#: ../output.py:1132
+#: ../output.py:1147
 msgid "updated"
 msgstr "aktualisiert"
 
-#: ../output.py:1133
+#: ../output.py:1148
 msgid "obsoleted"
 msgstr "veraltet"
 
-#: ../output.py:1134
+#: ../output.py:1149
 msgid "erased"
 msgstr "gelöscht"
 
 # Dies ist das Sorgenkind. So weit ich weiss, werden die Verben von oben bezogen. Eventuell könnte auch eine radikale Änderung eine Lösung sein. Fabian
-#: ../output.py:1138
+#: ../output.py:1153
 #, python-format
 msgid "---> Package %s.%s %s:%s-%s set to be %s"
 msgstr "---> Paket %s.%s %s:%s-%s markiert, um %s zu werden"
 
-#: ../output.py:1145
+#: ../output.py:1160
 msgid "--> Running transaction check"
 msgstr "--> Führe Transaktionsprüfung aus"
 
-#: ../output.py:1150
+#: ../output.py:1165
 msgid "--> Restarting Dependency Resolution with new changes."
 msgstr "--> Starte Abhängigkeitsauflösung mit den neuen Änderungen neu."
 
-#: ../output.py:1155
+#: ../output.py:1170
 msgid "--> Finished Dependency Resolution"
 msgstr "--> Abhängigkeitsauflösung beendet"
 
-#: ../output.py:1160
+#: ../output.py:1175
 #, python-format
 msgid "--> Processing Dependency: %s for package: %s"
 msgstr "--> Verarbeite Abhängigkeiten: %s für Paket: %s"
 
-#: ../output.py:1165
+#: ../output.py:1180
 #, python-format
 msgid "--> Unresolved Dependency: %s"
 msgstr "--> Nicht aufgelöste Abhängigkeit: %s"
 
-#: ../output.py:1171
+#: ../output.py:1186
 #, python-format
 msgid "--> Processing Conflict: %s conflicts %s"
 msgstr "--> Verarbeite Konflikt: %s kollidiert mit %s"
 
-#: ../output.py:1174
+#: ../output.py:1189
 msgid "--> Populating transaction set with selected packages. Please wait."
 msgstr "--> Fülle Verarbeitungsset mit ausgewählten Paketen. Bitte warten."
 
-#: ../output.py:1178
+#: ../output.py:1193
 #, python-format
 msgid "---> Downloading header for %s to pack into transaction set."
 msgstr "---> Lade Header für %s herunter, um ins Verarbeitungsset zu packen."
@@ -929,11 +939,11 @@ msgstr ""
 "    rpm --import public.gpg.key\n"
 "\n"
 "\n"
-"Alternativ könnten Sie den URL zum Schlüssel, welcher Sie benutzen wollen\n"
+"Alternativ könnten Sie den URL zum Schlüssel, welchen Sie benutzen wollen\n"
 "für ein Repository, durch die 'gpgkey'-Option in einem Repository-Bereich\n"
-"angeben und yum wird ihn für Sie installieren.\n"
+"angeben, und yum wird ihn für Sie installieren.\n"
 "\n"
-"Für weitere Informationen kontaktieren Sie Ihre Distribution oder Ihren Paket-Anbieter.\n"
+"Für weitere Informationen kontaktieren Sie Ihren Distributions- oder Paket-Anbieter.\n"
 
 #: ../yumcommands.py:68
 #, python-format
@@ -1004,245 +1014,247 @@ msgstr "Einrichten des Aktualisierungsprozess"
 msgid "Display details about a package or group of packages"
 msgstr "Zeige Details über ein Paket oder einer Gruppe von Pakete an"
 
-#: ../yumcommands.py:284
+#: ../yumcommands.py:292
 msgid "Installed Packages"
 msgstr "Installierte Pakete"
 
-#: ../yumcommands.py:291
+#: ../yumcommands.py:300
 msgid "Available Packages"
 msgstr "Verfügbare Pakete"
 
-#: ../yumcommands.py:295
+#: ../yumcommands.py:304
 msgid "Extra Packages"
 msgstr "Extra-Pakete"
 
-#: ../yumcommands.py:297
+#: ../yumcommands.py:308
 msgid "Updated Packages"
 msgstr "Aktualisierte Pakete"
 
-#: ../yumcommands.py:304
-#: ../yumcommands.py:311
-#: ../yumcommands.py:578
+#. This only happens in verbose mode
+#: ../yumcommands.py:316
+#: ../yumcommands.py:323
+#: ../yumcommands.py:600
 msgid "Obsoleting Packages"
 msgstr "Veraltete Pakete"
 
-#: ../yumcommands.py:313
+#: ../yumcommands.py:325
 msgid "Recently Added Packages"
 msgstr "Kürzlich hinzugefügte Pakete"
 
-#: ../yumcommands.py:320
+#: ../yumcommands.py:332
 msgid "No matching Packages to list"
 msgstr "Keine übereinstimmenden Pakete zum Auflisten"
 
-#: ../yumcommands.py:334
+#: ../yumcommands.py:346
 msgid "List a package or groups of packages"
-msgstr "Liste von Pakete oder Gruppen von Paketen"
+msgstr "Liste von Paketen oder Gruppen von Paketen"
 
-#: ../yumcommands.py:346
+#: ../yumcommands.py:358
 msgid "Remove a package or packages from your system"
 msgstr "Entferne ein Paket oder Pakete auf Ihrem System"
 
-#: ../yumcommands.py:353
+#: ../yumcommands.py:365
 msgid "Setting up Remove Process"
 msgstr "Einrichten des Entfernungsprozess"
 
-#: ../yumcommands.py:367
+#: ../yumcommands.py:379
 msgid "Setting up Group Process"
 msgstr "Einrichten des Gruppenprozess"
 
-#: ../yumcommands.py:373
+#: ../yumcommands.py:385
 msgid "No Groups on which to run command"
 msgstr "Keine Gruppe, auf welcher der Befehl ausgeführt werden kann"
 
-#: ../yumcommands.py:386
+#: ../yumcommands.py:398
 msgid "List available package groups"
 msgstr "Verfügbare Gruppen anzeigen"
 
-#: ../yumcommands.py:403
+#: ../yumcommands.py:415
 msgid "Install the packages in a group on your system"
 msgstr "Installiere die Pakete in einer Gruppe auf Ihrem System"
 
-#: ../yumcommands.py:425
+#: ../yumcommands.py:437
 msgid "Remove the packages in a group from your system"
 msgstr "Entferne die Pakete in einer Gruppe von Ihrem System"
 
-#: ../yumcommands.py:452
+#: ../yumcommands.py:464
 msgid "Display details about a package group"
 msgstr "Zeigt Details über eine Paket-Gruppe an"
 
-#: ../yumcommands.py:476
+#: ../yumcommands.py:488
 msgid "Generate the metadata cache"
 msgstr "Generiere den Metadaten-Zwischenspeicher"
 
-#: ../yumcommands.py:482
+#: ../yumcommands.py:494
 msgid "Making cache files for all metadata files."
 msgstr "Erstelle Zwischenspeicherungsdatei für alle Metadaten-Dateien."
 
-#: ../yumcommands.py:483
+#: ../yumcommands.py:495
 msgid "This may take a while depending on the speed of this computer"
-msgstr "Dies kann eine Weile dauert, abhängig von der Geschwindigkeit dieses Computers"
+msgstr "Dies kann eine Weile dauern, abhängig von der Geschwindigkeit dieses Computers"
 
-#: ../yumcommands.py:504
+#: ../yumcommands.py:516
 msgid "Metadata Cache Created"
 msgstr "Metadaten-Zwischenspeicher erstellt"
 
-#: ../yumcommands.py:518
+#: ../yumcommands.py:530
 msgid "Remove cached data"
 msgstr "Entferne gespeicherte Daten"
 
-#: ../yumcommands.py:539
+#: ../yumcommands.py:551
 msgid "Find what package provides the given value"
-msgstr "Suche ein Paket, welches den gegebenen Wert bereitstellen"
+msgstr "Suche ein Paket, das den gegebenen Wert bereitstellt"
 
-#: ../yumcommands.py:559
+#: ../yumcommands.py:571
 msgid "Check for available package updates"
 msgstr "Überprüfe auf verfügbare Paket-Aktualisierungen"
 
-#: ../yumcommands.py:598
+#: ../yumcommands.py:620
 msgid "Search package details for the given string"
 msgstr "Suche nach Paket-Details für die gegebene Zeichenkette"
 
-#: ../yumcommands.py:604
+#: ../yumcommands.py:626
 msgid "Searching Packages: "
 msgstr "Suche Pakete:"
 
-#: ../yumcommands.py:621
+#: ../yumcommands.py:643
 msgid "Update packages taking obsoletes into account"
 msgstr "Aktualisiere Pakete, berücksichtige veraltete"
 
-#: ../yumcommands.py:629
+# Gibt es einen Unterschied zwischen Update und Upgrade Process? -tl
+#: ../yumcommands.py:651
 msgid "Setting up Upgrade Process"
-msgstr "Einrichten des Upgradeprozess"
+msgstr "Einrichten des Upgradeprozesses"
 
-#: ../yumcommands.py:643
+#: ../yumcommands.py:665
 msgid "Install a local RPM"
 msgstr "Installiere ein lokales RPM"
 
-#: ../yumcommands.py:651
+#: ../yumcommands.py:673
 msgid "Setting up Local Package Process"
 msgstr "Einrichten der lokalen Paketverarbeitung"
 
-#: ../yumcommands.py:670
+#: ../yumcommands.py:692
 msgid "Determine which package provides the given dependency"
 msgstr "Bestimme, welche Pakete die gegebenen Abhängigkeiten bereitstellen"
 
-#: ../yumcommands.py:673
+#: ../yumcommands.py:695
 msgid "Searching Packages for Dependency:"
 msgstr "Suche Pakete für Abhängigkeit:"
 
-#: ../yumcommands.py:687
+#: ../yumcommands.py:709
 msgid "Run an interactive yum shell"
 msgstr "Führe eine interaktive Yum-Shell aus"
 
-#: ../yumcommands.py:693
+#: ../yumcommands.py:715
 msgid "Setting up Yum Shell"
 msgstr "Einrichten der Yum-Shell"
 
-#: ../yumcommands.py:711
+#: ../yumcommands.py:733
 msgid "List a package's dependencies"
 msgstr "Liste von Paket-Abhängigkeiten"
 
-#: ../yumcommands.py:717
+#: ../yumcommands.py:739
 msgid "Finding dependencies: "
 msgstr "Suche Abhängigkeiten:"
 
-#: ../yumcommands.py:733
+#: ../yumcommands.py:755
 msgid "Display the configured software repositories"
 msgstr "Zeige die konfigurierten Software-Repositories an"
 
-#: ../yumcommands.py:781
-#: ../yumcommands.py:782
+#: ../yumcommands.py:803
+#: ../yumcommands.py:804
 msgid "enabled"
 msgstr "aktiviert"
 
-#: ../yumcommands.py:790
-#: ../yumcommands.py:791
+#: ../yumcommands.py:812
+#: ../yumcommands.py:813
 msgid "disabled"
 msgstr "deaktiviert"
 
-#: ../yumcommands.py:805
+#: ../yumcommands.py:827
 msgid "Repo-id     : "
 msgstr "Repo-ID       : "
 
-#: ../yumcommands.py:806
+#: ../yumcommands.py:828
 msgid "Repo-name   : "
 msgstr "Repo-Name   : "
 
-#: ../yumcommands.py:807
+#: ../yumcommands.py:829
 msgid "Repo-status : "
 msgstr "Repo-Status : "
 
-#: ../yumcommands.py:809
+#: ../yumcommands.py:831
 msgid "Repo-revision: "
 msgstr "Repo-Revision: "
 
-#: ../yumcommands.py:813
+#: ../yumcommands.py:835
 msgid "Repo-tags   : "
 msgstr "Repo-Tags   : "
 
-#: ../yumcommands.py:819
+#: ../yumcommands.py:841
 msgid "Repo-distro-tags: "
 msgstr "Repo-Distro-Tags: "
 
-#: ../yumcommands.py:824
+#: ../yumcommands.py:846
 msgid "Repo-updated: "
 msgstr "Repo aktualisiert:"
 
-#: ../yumcommands.py:826
+#: ../yumcommands.py:848
 msgid "Repo-pkgs   : "
 msgstr "Repo-PKGS   : "
 
-#: ../yumcommands.py:827
+#: ../yumcommands.py:849
 msgid "Repo-size   : "
-msgstr "Repo-Größe   : "
+msgstr "Repo-Grösse   : "
 
-#: ../yumcommands.py:834
+#: ../yumcommands.py:856
 msgid "Repo-baseurl: "
 msgstr "Repo BaseURL:"
 
-#: ../yumcommands.py:838
+#: ../yumcommands.py:860
 msgid "Repo-metalink: "
 msgstr "Repo-Metalink: "
 
-#: ../yumcommands.py:841
+#: ../yumcommands.py:863
 msgid "Repo-mirrors: "
 msgstr "Repo-Spiegel: "
 
-#: ../yumcommands.py:845
+#: ../yumcommands.py:867
 msgid "Repo-exclude: "
 msgstr "Repo ausgeschlossen:"
 
-#: ../yumcommands.py:849
+#: ../yumcommands.py:871
 msgid "Repo-include: "
 msgstr "Repo eingeschlossen:"
 
 #. Work out the first (id) and last (enabled/disalbed/count),
 #. then chop the middle (name)...
-#: ../yumcommands.py:859
-#: ../yumcommands.py:885
+#: ../yumcommands.py:881
+#: ../yumcommands.py:907
 msgid "repo id"
 msgstr "Repo-ID"
 
-#: ../yumcommands.py:873
-#: ../yumcommands.py:874
-#: ../yumcommands.py:888
+#: ../yumcommands.py:895
+#: ../yumcommands.py:896
+#: ../yumcommands.py:910
 msgid "status"
 msgstr "Status"
 
-#: ../yumcommands.py:886
+#: ../yumcommands.py:908
 msgid "repo name"
 msgstr "Repo-Name:"
 
-#: ../yumcommands.py:912
+#: ../yumcommands.py:934
 msgid "Display a helpful usage message"
 msgstr "Zeigt eine kurze Verwendungsinformation"
 
-#: ../yumcommands.py:946
+#: ../yumcommands.py:968
 #, python-format
 msgid "No help available for %s"
 msgstr "Keine Hilfe für %s vorhanden"
 
-#: ../yumcommands.py:951
+#: ../yumcommands.py:973
 msgid ""
 "\n"
 "\n"
@@ -1252,7 +1264,7 @@ msgstr ""
 "\n"
 "Aliase: "
 
-#: ../yumcommands.py:953
+#: ../yumcommands.py:975
 msgid ""
 "\n"
 "\n"
@@ -1262,11 +1274,11 @@ msgstr ""
 "\n"
 "Alias: "
 
-#: ../yumcommands.py:981
+#: ../yumcommands.py:1003
 msgid "Setting up Reinstall Process"
 msgstr "Einrichten des Neuinstallationsprozess"
 
-#: ../yumcommands.py:995
+#: ../yumcommands.py:1017
 msgid "reinstall a package"
 msgstr "Installiere Paket neu"
 
@@ -1290,76 +1302,90 @@ msgstr ""
 "\n"
 "Beende wegen defekter Pipe"
 
-#: ../yummain.py:124
+#: ../yummain.py:126
 msgid "Running"
 msgstr "Läuft"
 
-#: ../yummain.py:125
+#: ../yummain.py:127
 msgid "Sleeping"
 msgstr "Schläft"
 
-#: ../yummain.py:126
+#: ../yummain.py:128
 msgid "Uninteruptable"
 msgstr "Nicht unterbrechbar"
 
-#: ../yummain.py:127
+#: ../yummain.py:129
 msgid "Zombie"
 msgstr "Zombie"
 
-#: ../yummain.py:128
+#: ../yummain.py:130
 msgid "Traced/Stopped"
 msgstr "Verfolgt/Gestoppt"
 
-#: ../yummain.py:129
+#: ../yummain.py:131
 msgid "Unknown"
 msgstr "Unbekannt"
 
-#: ../yummain.py:133
+#: ../yummain.py:135
 msgid "  The other application is: PackageKit"
 msgstr "  Die andere Anwendung ist: PackageKit"
 
-#: ../yummain.py:135
+#: ../yummain.py:137
 #, python-format
 msgid "  The other application is: %s"
 msgstr "  Die andere Anwendung ist: %s"
 
-#: ../yummain.py:138
+#: ../yummain.py:140
 #, python-format
 msgid "    Memory : %5s RSS (%5sB VSZ)"
 msgstr "    Speicher : %5s RSS (%5sB VSZ)"
 
-#: ../yummain.py:142
+#: ../yummain.py:144
 #, python-format
 msgid "    Started: %s - %s ago"
 msgstr "  Gestartet: %s - vor %s"
 
-#: ../yummain.py:144
+#: ../yummain.py:146
 #, python-format
 msgid "    State  : %s, pid: %d"
 msgstr "    Status  : %s, pid: %d"
 
-#: ../yummain.py:169
+#: ../yummain.py:171
 msgid "Another app is currently holding the yum lock; waiting for it to exit..."
-msgstr "Eine andere Anwendung blockiert momentan yum. Warte, dass sie beendet wird..."
+msgstr "Eine andere Anwendung blockiert momentan yum. Warte, dass sie beendet wird ..."
 
-#: ../yummain.py:197
-#: ../yummain.py:236
+#: ../yummain.py:199
+#: ../yummain.py:238
 #, python-format
 msgid "Error: %s"
 msgstr "Fehler: %s"
 
-#: ../yummain.py:207
-#: ../yummain.py:243
+#: ../yummain.py:209
+#: ../yummain.py:250
 #, python-format
 msgid "Unknown Error(s): Exit Code: %d:"
-msgstr "Unbekannte(r) Fehlercode: Exit Code: %d:"
+msgstr "Unbekannte(r) Fehler: Exit Code: %d:"
 
 #. Depsolve stage
-#: ../yummain.py:214
+#: ../yummain.py:216
 msgid "Resolving Dependencies"
 msgstr "Löse Abhängigkeiten auf"
 
-#: ../yummain.py:249
+#: ../yummain.py:240
+msgid " You could try using --skip-broken to work around the problem"
+msgstr " Sie können versuchen --skip-broken zu benutzen, um das Problem zu umgehen."
+
+#: ../yummain.py:241
+msgid ""
+" You could try running: package-cleanup --problems\n"
+"                        package-cleanup --dupes\n"
+"                        rpm -Va --nofiles --nodigest"
+msgstr ""
+" Sie können versuchen das folgenden auszuführen: package-cleanup --problems\n"
+"                        package-cleanup --dupes\n"
+"                        rpm -Va --nofiles --nodigest"
+
+#: ../yummain.py:256
 msgid ""
 "\n"
 "Dependencies Resolved"
@@ -1367,12 +1393,12 @@ msgstr ""
 "\n"
 "Abhängigkeiten aufgelöst"
 
-#: ../yummain.py:263
+#: ../yummain.py:270
 msgid "Complete!"
 msgstr "Komplett!"
 
 # Ist eine ziemlich unschöne Übersetzung...Vorschläge? Fabian
-#: ../yummain.py:310
+#: ../yummain.py:325
 msgid ""
 "\n"
 "\n"
@@ -1384,11 +1410,11 @@ msgstr ""
 
 #: ../yum/depsolve.py:84
 msgid "doTsSetup() will go away in a future version of Yum.\n"
-msgstr "doTsSetup() wird in zukünftigen Version von Yum verschwinden.\n"
+msgstr "doTsSetup() wird in zukünftigen Versionen von Yum verschwinden.\n"
 
 #: ../yum/depsolve.py:99
 msgid "Setting up TransactionSets before config class is up"
-msgstr "Konfiguriere TransactionSets bevor die Konfigurationsklasse gestartet ist"
+msgstr "Konfiguriere TransactionSets, bevor die Konfigurationsklasse gestartet ist"
 
 #: ../yum/depsolve.py:150
 #, python-format
@@ -1443,7 +1469,7 @@ msgstr "Benötigte Anforderung wurde bereits nachgeschlagen, betrüge"
 #: ../yum/depsolve.py:343
 #, python-format
 msgid "Needed Require is not a package name. Looking up: %s"
-msgstr "Benötigte Anforderung ist kein Paket-Name. Schlagen nach: %s"
+msgstr "Benötigte Anforderung ist kein Paket-Name. Schlage nach: %s"
 
 #: ../yum/depsolve.py:350
 #, python-format
@@ -1463,12 +1489,12 @@ msgstr "Modus für pkg-Bereitstellung %s: %s"
 #: ../yum/depsolve.py:381
 #, python-format
 msgid "TSINFO: %s package requiring %s marked as erase"
-msgstr "TSINFO: %s Paket benötigt %s markiert als gelöscht"
+msgstr "TSINFO: %s Paket benötigt %s, welches als gelöscht markiert ist"
 
 #: ../yum/depsolve.py:394
 #, python-format
 msgid "TSINFO: Obsoleting %s with %s to resolve dep."
-msgstr "TSINFO: Veraltetes %s mit %s zum Auflösen der Abhängigkeit."
+msgstr "TSINFO: Ersetze %s durch %s zum Auflösen der Abhängigkeit."
 
 #: ../yum/depsolve.py:397
 #, python-format
@@ -1478,7 +1504,7 @@ msgstr "TSINFO: Aktualisiere %s zum Auflösen der Abhängigkeit."
 #: ../yum/depsolve.py:405
 #, python-format
 msgid "Cannot find an update path for dep for: %s"
-msgstr "Kann keine Aktualisierungspfad für Abhängigkeit finden für: %s"
+msgstr "Kann keinen Aktualisierungspfad finden für Abhängigkeit für: %s"
 
 #: ../yum/depsolve.py:415
 #, python-format
@@ -1496,38 +1522,38 @@ msgstr "Übereinstimmung von %s, welche gebraucht wird für %s"
 msgid "%s is in providing packages but it is already installed, removing."
 msgstr "%s ist in einem bereitgestellten Paket, aber bereits installiert, entferne."
 
-#: ../yum/depsolve.py:495
+#: ../yum/depsolve.py:496
 #, python-format
 msgid "Potential resolving package %s has newer instance in ts."
-msgstr "Potentielles aufgelöste Paket %s hat eine neuere Instanz in ts."
+msgstr "Potentielles aufgelöstes Paket %s hat eine neuere Instanz in ts."
 
-#: ../yum/depsolve.py:506
+#: ../yum/depsolve.py:507
 #, python-format
 msgid "Potential resolving package %s has newer instance installed."
 msgstr "Potentielles aufgelöste Paket %s hat eine neuere Instanz installiert."
 
-#: ../yum/depsolve.py:514
-#: ../yum/depsolve.py:563
+#: ../yum/depsolve.py:515
+#: ../yum/depsolve.py:564
 #, python-format
 msgid "Missing Dependency: %s is needed by package %s"
 msgstr "Fehlende Abhängigkeit: %s wird benötigt von Paket %s"
 
-#: ../yum/depsolve.py:527
+#: ../yum/depsolve.py:528
 #, python-format
 msgid "%s already in ts, skipping this one"
-msgstr "%s bereits in ts, überspringe dies"
+msgstr "%s bereits in ts, überspringe dieses"
 
-#: ../yum/depsolve.py:573
+#: ../yum/depsolve.py:574
 #, python-format
 msgid "TSINFO: Marking %s as update for %s"
 msgstr "TSINFO: Markiere %s als Aktualisierung für %s"
 
-#: ../yum/depsolve.py:581
+#: ../yum/depsolve.py:582
 #, python-format
 msgid "TSINFO: Marking %s as install for %s"
-msgstr "TSINFO: Markiert %s als Installation für %s"
+msgstr "TSINFO: Markiere %s als Installation für %s"
 
-#: ../yum/depsolve.py:674
+#: ../yum/depsolve.py:675
 #: ../yum/depsolve.py:756
 msgid "Success - empty transaction"
 msgstr "Erfolg - Leere Transaktion"
@@ -1558,7 +1584,7 @@ msgstr "Prüfe Abhängigkeiten für %s"
 #: ../yum/depsolve.py:854
 #, python-format
 msgid "looking for %s as a requirement of %s"
-msgstr "schauen nach %s als eine Anforderung von %s"
+msgstr "Suche nach %s als eine Anforderung von %s"
 
 #: ../yum/depsolve.py:996
 #, python-format
@@ -1571,129 +1597,130 @@ msgstr "Führe compare_providers() aus für %s"
 msgid "better arch in po %s"
 msgstr "bessere Architektur in po %s"
 
-#: ../yum/depsolve.py:1084
+#: ../yum/depsolve.py:1091
 #, python-format
 msgid "%s obsoletes %s"
-msgstr " %s veraltete %s"
+msgstr "%s ersetzt %s"
 
-#: ../yum/depsolve.py:1100
+#: ../yum/depsolve.py:1107
 #, python-format
 msgid ""
 "archdist compared %s to %s on %s\n"
 "  Winner: %s"
 msgstr ""
-"Archdist verglichen %s zu %s auf %s\n"
+"archdist verglichen %s zu %s auf %s\n"
 "  Gewinner: %s"
 
-#: ../yum/depsolve.py:1107
+#: ../yum/depsolve.py:1114
 #, python-format
 msgid "common sourcerpm %s and %s"
 msgstr "Gemeinsames Quellen-RPM %s und %s"
 
-#: ../yum/depsolve.py:1113
+#: ../yum/depsolve.py:1120
 #, python-format
 msgid "common prefix of %s between %s and %s"
 msgstr "Gemeinsamer Prefix von %s zwischen %s und %s"
 
 # Hat jemand eine Idee für eine bessere Übersetzung? Fabian
-#: ../yum/depsolve.py:1121
+#: ../yum/depsolve.py:1128
 #, python-format
 msgid "Best Order: %s"
 msgstr "Beste Bestellung: %s"
 
-#: ../yum/__init__.py:154
+#: ../yum/__init__.py:176
 msgid "doConfigSetup() will go away in a future version of Yum.\n"
-msgstr "doConfigSetup() wird in zukünftigen Version von Yum verschwinden.\n"
+msgstr "doConfigSetup() wird in zukünftigen Versionen von Yum verschwinden.\n"
 
-#: ../yum/__init__.py:350
+#. FIXME: Use critical? or exception?
+#: ../yum/__init__.py:386
 #, python-format
 msgid "Repository %r is missing name in configuration, using id"
 msgstr "Bei Repository %r fehlt der Name in der Konfiguration, benutze id"
 
-#: ../yum/__init__.py:388
+#: ../yum/__init__.py:424
 msgid "plugins already initialised"
 msgstr "Plugins bereits initialisiert"
 
-#: ../yum/__init__.py:395
+#: ../yum/__init__.py:431
 msgid "doRpmDBSetup() will go away in a future version of Yum.\n"
-msgstr "doRpmDBSetup() wird in zukünftigen Version von Yum verschwinden.\n"
+msgstr "doRpmDBSetup() wird in zukünftigen Versionen von Yum verschwinden.\n"
 
-#: ../yum/__init__.py:405
+#: ../yum/__init__.py:441
 msgid "Reading Local RPMDB"
 msgstr "Lese lokale RPMDB"
 
-#: ../yum/__init__.py:423
+#: ../yum/__init__.py:459
 msgid "doRepoSetup() will go away in a future version of Yum.\n"
-msgstr "doRepoSetup() wird in zukünftigen Version von Yum verschwinden.\n"
+msgstr "doRepoSetup() wird in zukünftigen Versionen von Yum verschwinden.\n"
 
-#: ../yum/__init__.py:443
+#: ../yum/__init__.py:479
 msgid "doSackSetup() will go away in a future version of Yum.\n"
-msgstr "doSackSetup() wird in zukünftigen Version von Yum verschwinden \n"
+msgstr "doSackSetup() wird in zukünftigen Versionen von Yum verschwinden \n"
 
-#: ../yum/__init__.py:460
+#: ../yum/__init__.py:496
 msgid "Setting up Package Sacks"
 msgstr "Einrichten des Paket-Behälters"
 
-#: ../yum/__init__.py:503
+#: ../yum/__init__.py:539
 #, python-format
 msgid "repo object for repo %s lacks a _resetSack method\n"
-msgstr "Repository-Objekt für Repository %s fehlt a _resetSack method\n"
+msgstr "Repository-Objekt für Repository %s fehlt eine _resetSack-Methode\n"
 
-#: ../yum/__init__.py:504
+#: ../yum/__init__.py:540
 msgid "therefore this repo cannot be reset.\n"
-msgstr "deshalb dieses Repository kann nicht zurückgesetzt werden.\n"
+msgstr "deshalb kann dieses Repository nicht zurückgesetzt werden.\n"
 
-#: ../yum/__init__.py:509
+#: ../yum/__init__.py:545
 msgid "doUpdateSetup() will go away in a future version of Yum.\n"
-msgstr "doUpdateSetup() wird in zukünftigen Version von Yum verschwinden.\n"
+msgstr "doUpdateSetup() wird in zukünftigen Versionen von Yum verschwinden.\n"
 
-#: ../yum/__init__.py:521
+#: ../yum/__init__.py:557
 msgid "Building updates object"
 msgstr "Baue Aktualisierungsobjekt"
 
-#: ../yum/__init__.py:552
+#: ../yum/__init__.py:588
 msgid "doGroupSetup() will go away in a future version of Yum.\n"
-msgstr "doGroupSetup() wird in zukünftigen Version von Yum verschwinden .\n"
+msgstr "doGroupSetup() wird in zukünftigen Versionen von Yum verschwinden .\n"
 
-#: ../yum/__init__.py:576
+#: ../yum/__init__.py:612
 msgid "Getting group metadata"
 msgstr "Beziehe Gruppen-Metadaten"
 
-#: ../yum/__init__.py:602
+#: ../yum/__init__.py:637
 #, python-format
 msgid "Adding group file from repository: %s"
 msgstr "Füge Gruppen-Datei von Repository hinzu: %s"
 
-#: ../yum/__init__.py:611
+#: ../yum/__init__.py:642
 #, python-format
 msgid "Failed to add groups file for repository: %s - %s"
 msgstr "Hinzufügen von Gruppen-Datei für Repository fehlgeschlagen: %s - %s"
 
-#: ../yum/__init__.py:617
+#: ../yum/__init__.py:648
 msgid "No Groups Available in any repository"
 msgstr "Keine Gruppen in irgendeinem Repository verfügbar"
 
-#: ../yum/__init__.py:667
+#: ../yum/__init__.py:698
 msgid "Importing additional filelist information"
 msgstr "Importiere zusätzlichen Dateilisten-Informationen"
 
-#: ../yum/__init__.py:676
+#: ../yum/__init__.py:706
 msgid "There are unfinished transactions remaining. You might consider running yum-complete-transaction first to finish them."
-msgstr "Es gibt noch nicht abgeschlossene Transaktionen. Sie sollten in Betracht ziehen, zuerst yum-complete-transaction auszuführen, um diese abzuschließen."
+msgstr "Es gibt noch nicht abgeschlossene Transaktionen. Sie sollten in Betracht ziehen, zuerst yum-complete-transaction auszuführen, um diese abzuschliessen."
 
 # Ob da die Übersetzung den Punkt trifft...Fabian
-#: ../yum/__init__.py:742
+#: ../yum/__init__.py:772
 #, python-format
 msgid "Skip-broken round %i"
 msgstr "Überspringe defekte Runde %i"
 
 # Ob da die Übersetzung den Punkt trifft...Fabian
-#: ../yum/__init__.py:794
+#: ../yum/__init__.py:824
 #, python-format
 msgid "Skip-broken took %i rounds "
 msgstr "Überspringen der defekte brachte %i Runden"
 
-#: ../yum/__init__.py:795
+#: ../yum/__init__.py:825
 msgid ""
 "\n"
 "Packages skipped because of dependency problems:"
@@ -1701,91 +1728,90 @@ msgstr ""
 "\n"
 "Pakete übersprungen wegen Abhängigkeitsproblemen:"
 
-#: ../yum/__init__.py:799
+#: ../yum/__init__.py:829
 #, python-format
 msgid "    %s from %s"
 msgstr "    %s von %s"
 
-#: ../yum/__init__.py:943
+#: ../yum/__init__.py:968
 msgid "Warning: scriptlet or other non-fatal errors occurred during transaction."
 msgstr "Warnung: Es sind Scriptlet- oder andere nicht-fatale Fehler bei der Verarbeitung aufgetreten."
 
-#: ../yum/__init__.py:958
+#: ../yum/__init__.py:983
 #, python-format
 msgid "Failed to remove transaction file %s"
 msgstr "Entfernen der Verarbeitungsdatei %s fehlgeschlagen"
 
 # verstehe ich nicht ganz, was gemeint ist. Fabian
-#: ../yum/__init__.py:999
+#: ../yum/__init__.py:1025
 #, python-format
 msgid "excluding for cost: %s from %s"
 msgstr "Ausschluss für Aufwand: %s von %s"
 
-# Dies gefällt auch nicht allen. Fabian
-#: ../yum/__init__.py:1030
+#: ../yum/__init__.py:1056
 msgid "Excluding Packages in global exclude list"
-msgstr "Schließe Pakete, welche in der globalen Ausschlussliste sind, aus"
+msgstr "Schliesse Pakete, die in der globalen Ausschlussliste sind, aus"
 
-#: ../yum/__init__.py:1032
+#: ../yum/__init__.py:1058
 #, python-format
 msgid "Excluding Packages from %s"
-msgstr "Schließe Pakete von %s aus"
+msgstr "Schliesse Pakete von %s aus"
 
-#: ../yum/__init__.py:1061
+#: ../yum/__init__.py:1085
 #, python-format
 msgid "Reducing %s to included packages only"
-msgstr "Reduziere %s nur zum Einbeziehen der Pakete"
+msgstr "Reduziere %s auf einbezogene Pakete"
 
-#: ../yum/__init__.py:1067
+#: ../yum/__init__.py:1091
 #, python-format
 msgid "Keeping included package %s"
 msgstr "Behalte integriertes Paket %s"
 
-#: ../yum/__init__.py:1073
+#: ../yum/__init__.py:1097
 #, python-format
 msgid "Removing unmatched package %s"
 msgstr "Entferne nicht übereinstimmendes Paket %s"
 
-#: ../yum/__init__.py:1076
+#: ../yum/__init__.py:1100
 msgid "Finished"
 msgstr "Abgeschlossen"
 
 #. Whoa. What the heck happened?
-#: ../yum/__init__.py:1106
+#: ../yum/__init__.py:1130
 #, python-format
 msgid "Unable to check if PID %s is active"
-msgstr "Unfähig zum Prüfen, ob PID %s ist aktiv"
+msgstr "Unfähig zu prüfen, ob PID %s ist aktiv"
 
 #. Another copy seems to be running.
-#: ../yum/__init__.py:1110
+#: ../yum/__init__.py:1134
 #, python-format
 msgid "Existing lock %s: another copy is running as pid %s."
 msgstr "Existierende Blockierung %s: eine andere Kopie läuft mit PID %s."
 
-#: ../yum/__init__.py:1177
+#: ../yum/__init__.py:1204
 msgid "Package does not match intended download"
 msgstr "Paket stimmt nicht mit dem vorgesehenen Herunterladen überein."
 
-#: ../yum/__init__.py:1192
+#: ../yum/__init__.py:1219
 msgid "Could not perform checksum"
 msgstr "Konnte Prüfsumme nicht bilden"
 
-#: ../yum/__init__.py:1195
+#: ../yum/__init__.py:1222
 msgid "Package does not match checksum"
 msgstr "Paket stimmt nicht mit der Prüfsumme überein"
 
-#: ../yum/__init__.py:1238
+#: ../yum/__init__.py:1265
 #, python-format
 msgid "package fails checksum but caching is enabled for %s"
-msgstr "Paket bei Checksumme-Prüfung durchgefallen, aber Zwischenspeicherung ist aktiviert für %s"
+msgstr "Paket bei Prüfsummen-Prüfung durchgefallen, aber Zwischenspeicherung ist aktiviert für %s"
 
-#: ../yum/__init__.py:1241
-#: ../yum/__init__.py:1270
+#: ../yum/__init__.py:1268
+#: ../yum/__init__.py:1297
 #, python-format
 msgid "using local copy of %s"
 msgstr "benutze lokale Kopie von %s"
 
-#: ../yum/__init__.py:1282
+#: ../yum/__init__.py:1309
 #, python-format
 msgid ""
 "Insufficient space in download directory %s\n"
@@ -1793,334 +1819,329 @@ msgid ""
 "    * needed %s"
 msgstr ""
 "Nicht genügend Platz im Download-Verzeichnis %s vorhanden\n"
-"    * frei   %s\n"
+"    * frei     %s\n"
 "    * benötigt %s"
 
-#: ../yum/__init__.py:1329
+#: ../yum/__init__.py:1356
 msgid "Header is not complete."
 msgstr "Header ist nicht vollständig."
 
-#: ../yum/__init__.py:1366
+#: ../yum/__init__.py:1393
 #, python-format
 msgid "Header not in local cache and caching-only mode enabled. Cannot download %s"
 msgstr "Header ist nicht im lokalen Zwischenspeicher und Nur-Zwischenspeicher-Modus aktiviert. Kann %s nicht herunterladen"
 
-#: ../yum/__init__.py:1421
+#: ../yum/__init__.py:1448
 #, python-format
 msgid "Public key for %s is not installed"
 msgstr "Öffentlicher Schlüssel für %s ist nicht installiert"
 
-#: ../yum/__init__.py:1425
+#: ../yum/__init__.py:1452
 #, python-format
 msgid "Problem opening package %s"
 msgstr "Problem beim Öffnen des Paketes %s"
 
-#: ../yum/__init__.py:1433
+#: ../yum/__init__.py:1460
 #, python-format
 msgid "Public key for %s is not trusted"
 msgstr "Öffentlicher Schlüssel für %s ist nicht vertrauenswürdig"
 
-#: ../yum/__init__.py:1437
+#: ../yum/__init__.py:1464
 #, python-format
 msgid "Package %s is not signed"
 msgstr "Paket %s ist nicht unterschrieben"
 
-#: ../yum/__init__.py:1475
+#: ../yum/__init__.py:1502
 #, python-format
 msgid "Cannot remove %s"
 msgstr "Kann %s nicht entfernen"
 
-#: ../yum/__init__.py:1479
+#: ../yum/__init__.py:1505
 #, python-format
 msgid "%s removed"
 msgstr "%s entfernt"
 
-#: ../yum/__init__.py:1515
+#: ../yum/__init__.py:1541
 #, python-format
 msgid "Cannot remove %s file %s"
-msgstr "Kann %s Datei nicht entfernt %s"
+msgstr "Kann %s Datei nicht entfernen %s"
 
-#: ../yum/__init__.py:1519
+#: ../yum/__init__.py:1544
 #, python-format
 msgid "%s file %s removed"
 msgstr "%s Datei %s entfernt"
 
-#: ../yum/__init__.py:1521
+#: ../yum/__init__.py:1546
 #, python-format
 msgid "%d %s files removed"
 msgstr "%d %s Dateien entfernt"
 
-#: ../yum/__init__.py:1590
+#: ../yum/__init__.py:1614
 #, python-format
 msgid "More than one identical match in sack for %s"
 msgstr "Mehr als eine identische Übereinstimmung im Behälter für %s"
 
-#: ../yum/__init__.py:1596
+#: ../yum/__init__.py:1619
 #, python-format
 msgid "Nothing matches %s.%s %s:%s-%s from update"
-msgstr "Keine Übereinstimmungen  %s.%s %s:%s-%s mit der Aktualisierung"
+msgstr "Keine Übereinstimmungen mit  %s.%s %s:%s-%s bei der Aktualisierung"
 
-#: ../yum/__init__.py:1814
+#: ../yum/__init__.py:1838
 msgid "searchPackages() will go away in a future version of Yum.                      Use searchGenerator() instead. \n"
-msgstr "searchPackages() wird in zukünftigen Version von Yum verschwinden.                      Benutze stattdessen searchGenerator(). \n"
+msgstr "searchPackages() wird in zukünftigen Versionen von Yum verschwinden.                      Benutze stattdessen searchGenerator(). \n"
 
-#: ../yum/__init__.py:1852
+#: ../yum/__init__.py:1876
 #, python-format
 msgid "Searching %d packages"
 msgstr "Suche %d Pakete"
 
-#: ../yum/__init__.py:1856
+#: ../yum/__init__.py:1879
 #, python-format
 msgid "searching package %s"
 msgstr "Suche Paket %s"
 
-#: ../yum/__init__.py:1868
+#: ../yum/__init__.py:1890
 msgid "searching in file entries"
 msgstr "Suche in Datei-Einträgen"
 
-#: ../yum/__init__.py:1875
+#: ../yum/__init__.py:1896
 msgid "searching in provides entries"
 msgstr "suche in bereitgestellten Einträgen"
 
-#: ../yum/__init__.py:1908
+#: ../yum/__init__.py:1929
 #, python-format
 msgid "Provides-match: %s"
 msgstr "Stelle Übereinstimmung bereit: %s"
 
-#: ../yum/__init__.py:1957
+#: ../yum/__init__.py:1978
 msgid "No group data available for configured repositories"
-msgstr "Keine Gruppe für konfigurierte Repositories verfügbar"
+msgstr "Keine Gruppendaten für konfigurierte Repositories verfügbar"
 
-#: ../yum/__init__.py:1988
-#: ../yum/__init__.py:2007
-#: ../yum/__init__.py:2038
-#: ../yum/__init__.py:2044
-#: ../yum/__init__.py:2117
-#: ../yum/__init__.py:2121
+#: ../yum/__init__.py:2009
+#: ../yum/__init__.py:2028
+#: ../yum/__init__.py:2058
+#: ../yum/__init__.py:2064
+#: ../yum/__init__.py:2143
+#: ../yum/__init__.py:2147
 #, python-format
 msgid "No Group named %s exists"
 msgstr "Kein Gruppe mit dem Namen %s vorhanden"
 
-#: ../yum/__init__.py:2019
-#: ../yum/__init__.py:2134
+#: ../yum/__init__.py:2039
+#: ../yum/__init__.py:2159
 #, python-format
 msgid "package %s was not marked in group %s"
 msgstr "Paket %s war nicht markiert in Gruppe %s"
 
-#: ../yum/__init__.py:2066
+#: ../yum/__init__.py:2085
 #, python-format
 msgid "Adding package %s from group %s"
 msgstr "Füge Paket %s aus Gruppe %s hinzu"
 
-#: ../yum/__init__.py:2070
+#: ../yum/__init__.py:2090
 #, python-format
 msgid "No package named %s available to be installed"
 msgstr "Kein Paket mit Namen %s verfügbar zum Installieren"
 
 # Paket-Behälter wird sicher nicht allen gefallen. Fabian
-#: ../yum/__init__.py:2159
+#: ../yum/__init__.py:2186
 #, python-format
 msgid "Package tuple %s could not be found in packagesack"
 msgstr "Paket-Tupel %s kann nicht gefunden werden im Paket-Behälter"
 
-#: ../yum/__init__.py:2174
+#: ../yum/__init__.py:2201
 msgid "getInstalledPackageObject() will go away, use self.rpmdb.searchPkgTuple().\n"
 msgstr "getInstalledPackageObject() wird verschwinden, benutze self.rpmdb.searchPkgTuple().\n"
 
-#: ../yum/__init__.py:2226
-#: ../yum/__init__.py:2269
-msgid "Invalid versioned dependency string, try quoting it."
-msgstr "Ungültig versionierte Abhängigkeitszeichenkette, versuche es zu notieren."
-
-#: ../yum/__init__.py:2228
-#: ../yum/__init__.py:2271
+#: ../yum/__init__.py:2253
+#: ../yum/__init__.py:2294
 msgid "Invalid version flag"
 msgstr "Ungültiges Versionsflag"
 
-#: ../yum/__init__.py:2243
-#: ../yum/__init__.py:2247
+#: ../yum/__init__.py:2268
+#: ../yum/__init__.py:2272
 #, python-format
 msgid "No Package found for %s"
 msgstr "Kein Paket gefunden für %s"
 
-#: ../yum/__init__.py:2426
+#: ../yum/__init__.py:2449
 msgid "Package Object was not a package object instance"
 msgstr "Paketobjekt war keine Paketobjektinstanz"
 
-#: ../yum/__init__.py:2430
+#: ../yum/__init__.py:2453
 msgid "Nothing specified to install"
 msgstr "Nichts angegeben zum Installieren"
 
-#: ../yum/__init__.py:2446
+#: ../yum/__init__.py:2469
 #, python-format
 msgid "Checking for virtual provide or file-provide for %s"
 msgstr "Überprüfe nach virtueller Bereitstellung oder Datei-Bereitstellung für %s"
 
-#: ../yum/__init__.py:2452
-#: ../yum/__init__.py:2705
-#: ../yum/__init__.py:2875
+#: ../yum/__init__.py:2475
+#: ../yum/__init__.py:2740
+#: ../yum/__init__.py:2900
 #, python-format
 msgid "No Match for argument: %s"
 msgstr "Kein Übereinstimmung für Argument: %s"
 
-#: ../yum/__init__.py:2523
+#: ../yum/__init__.py:2548
 #, python-format
 msgid "Package %s installed and not available"
 msgstr "Paket %s installiert und nicht verfügbar"
 
-#: ../yum/__init__.py:2526
+#: ../yum/__init__.py:2551
 msgid "No package(s) available to install"
 msgstr "Kein(e) Paket(e) zum Installieren verfügbar."
 
-#: ../yum/__init__.py:2538
+#: ../yum/__init__.py:2564
 #, python-format
 msgid "Package: %s  - already in transaction set"
 msgstr "Paket: %s - bereits im Transaktionsset"
 
-#: ../yum/__init__.py:2553
+#: ../yum/__init__.py:2580
 #, python-format
 msgid "Package %s is obsoleted by %s, trying to install %s instead"
-msgstr "Paket %s von %s ist veraltet, versuche stattdessen %s zu installieren."
+msgstr "Paket %s wurde ersetzt durch %s, versuche stattdessen %s zu installieren."
 
-#: ../yum/__init__.py:2561
+#: ../yum/__init__.py:2588
 #, python-format
 msgid "Package %s already installed and latest version"
-msgstr "Paket %s ist bereits installiert und ist in der neusten Version vorhanden."
+msgstr "Paket %s ist bereits in der neusten Version installiert."
 
-#: ../yum/__init__.py:2568
+#: ../yum/__init__.py:2595
 #, python-format
 msgid "Package matching %s already installed. Checking for update."
 msgstr "Paket, das auf %s passt, ist bereits installiert. Überprüfe auf Aktualisierung."
 
 #. update everything (the easy case)
-#: ../yum/__init__.py:2649
+#: ../yum/__init__.py:2675
 msgid "Updating Everything"
 msgstr "Aktualisiere alles"
 
-#: ../yum/__init__.py:2667
-#: ../yum/__init__.py:2777
-#: ../yum/__init__.py:2798
-#: ../yum/__init__.py:2824
+#: ../yum/__init__.py:2693
+#: ../yum/__init__.py:2802
+#: ../yum/__init__.py:2823
+#: ../yum/__init__.py:2849
 #, python-format
 msgid "Not Updating Package that is already obsoleted: %s.%s %s:%s-%s"
 msgstr "Aktualisiere Paket nicht, da es bereits veraltet ist: %s.%s %s:%s-%s"
 
-#: ../yum/__init__.py:2702
-#: ../yum/__init__.py:2872
+#: ../yum/__init__.py:2728
+#: ../yum/__init__.py:2897
 #, python-format
 msgid "%s"
 msgstr "%s"
 
-#: ../yum/__init__.py:2768
+#: ../yum/__init__.py:2793
 #, python-format
 msgid "Package is already obsoleted: %s.%s %s:%s-%s"
 msgstr "Paket ist bereits veraltet: %s.%s %s:%s-%s"
 
-#: ../yum/__init__.py:2801
-#: ../yum/__init__.py:2827
+#: ../yum/__init__.py:2826
+#: ../yum/__init__.py:2852
 #, python-format
 msgid "Not Updating Package that is already updated: %s.%s %s:%s-%s"
-msgstr "Aktualisiere Paket nicht, da es bereits veraltet ist:  %s.%s %s:%s-%s"
+msgstr "Aktualisiere Paket nicht, da es bereits aktualisiert ist:  %s.%s %s:%s-%s"
 
-#: ../yum/__init__.py:2888
+#: ../yum/__init__.py:2913
 msgid "No package matched to remove"
 msgstr "Kein Paket stimmt zum Entfernen überein"
 
-#: ../yum/__init__.py:2922
+#: ../yum/__init__.py:2947
 #, python-format
 msgid "Cannot open file: %s. Skipping."
-msgstr "Kann Datei nicht öffnen: %s. Überspringen."
+msgstr "Kann Datei nicht öffnen: %s. Überspringe."
 
-#: ../yum/__init__.py:2925
+#: ../yum/__init__.py:2949
 #, python-format
 msgid "Examining %s: %s"
 msgstr "Untersuche %s: %s"
 
-#: ../yum/__init__.py:2933
+#: ../yum/__init__.py:2957
 #, python-format
 msgid "Cannot add package %s to transaction. Not a compatible architecture: %s"
 msgstr "Kann Paket %s nicht zur Transaktion hinzufügen. Keine kompatible Architektur: %s"
 
-#: ../yum/__init__.py:2941
+#: ../yum/__init__.py:2965
 #, python-format
 msgid "Package %s not installed, cannot update it. Run yum install to install it instead."
 msgstr "Paket %s nicht installiert, kann es nicht aktualisieren. Führen Sie stattdessen yum install aus, um es zu installieren."
 
-#: ../yum/__init__.py:2974
+#: ../yum/__init__.py:2998
 #, python-format
 msgid "Excluding %s"
-msgstr "Exklusive %s"
+msgstr "Schliesse %s aus"
 
-#: ../yum/__init__.py:2979
+#: ../yum/__init__.py:3002
 #, python-format
 msgid "Marking %s to be installed"
 msgstr "Markiere %s zum Installieren"
 
-#: ../yum/__init__.py:2985
+#: ../yum/__init__.py:3007
 #, python-format
 msgid "Marking %s as an update to %s"
 msgstr "Markiere %s als eine Aktualisierung für %s"
 
-#: ../yum/__init__.py:2992
+#: ../yum/__init__.py:3012
 #, python-format
 msgid "%s: does not update installed package."
 msgstr "%s: aktualisiert installierte Pakete nicht."
 
-#: ../yum/__init__.py:3010
+#: ../yum/__init__.py:3029
 msgid "Problem in reinstall: no package matched to remove"
 msgstr "Probleme beim Neuinstallieren: kein Paket stimmt zum Entfernen überein"
 
-#: ../yum/__init__.py:3021
+#: ../yum/__init__.py:3040
 #, python-format
 msgid "Package %s is allowed multiple installs, skipping"
 msgstr "Paket %s darf mehrfach installiert sein, überspringe"
 
-#: ../yum/__init__.py:3028
+#: ../yum/__init__.py:3050
 msgid "Problem in reinstall: no package matched to install"
 msgstr "Probleme beim Neuinstallieren: kein Paket stimmt zum Installieren überein"
 
-#: ../yum/__init__.py:3063
+#: ../yum/__init__.py:3085
 #, python-format
 msgid "Retrieving GPG key from %s"
 msgstr "GPG-Schlüssel abrufen von %s"
 
-#: ../yum/__init__.py:3083
+#: ../yum/__init__.py:3105
 msgid "GPG key retrieval failed: "
 msgstr "GPG-Schlüssel-Abruf fehlgeschlagen:"
 
-#: ../yum/__init__.py:3094
+#: ../yum/__init__.py:3116
 #, python-format
 msgid "GPG key parsing failed: key does not have value %s"
 msgstr "GPG-Schlüssel-Analyse fehlgeschlagen: Schlüssel hat keinen Wert %s"
 
-#: ../yum/__init__.py:3126
+#: ../yum/__init__.py:3148
 #, python-format
 msgid "GPG key at %s (0x%s) is already installed"
 msgstr "GPG-Schlüssel unter %s (0x%s) ist bereits installiert"
 
 #. Try installing/updating GPG key
-#: ../yum/__init__.py:3131
-#: ../yum/__init__.py:3193
+#: ../yum/__init__.py:3153
+#: ../yum/__init__.py:3214
 #, python-format
 msgid "Importing GPG key 0x%s \"%s\" from %s"
 msgstr "Importiere GPG-Schlüssel 0x%s \"%s\" von %s"
 
-#: ../yum/__init__.py:3148
+#: ../yum/__init__.py:3169
 msgid "Not installing key"
 msgstr "Nicht installierter Schlüssel"
 
-#: ../yum/__init__.py:3154
+#: ../yum/__init__.py:3175
 #, python-format
 msgid "Key import failed (code %d)"
 msgstr "Schlüssel-Import fehlgeschlagen (Code %d)"
 
-#: ../yum/__init__.py:3155
-#: ../yum/__init__.py:3214
+#: ../yum/__init__.py:3176
+#: ../yum/__init__.py:3236
 msgid "Key imported successfully"
 msgstr "Schlüssel erfolgreich importiert"
 
-#: ../yum/__init__.py:3160
-#: ../yum/__init__.py:3219
+#: ../yum/__init__.py:3181
+#: ../yum/__init__.py:3241
 #, python-format
 msgid ""
 "The GPG keys listed for the \"%s\" repository are already installed but they are not correct for this package.\n"
@@ -2129,113 +2150,112 @@ msgstr ""
 "Die aufgelisteten GPG-Schlüssel für das \"%s\"-Repository sind bereits installiert, aber sie sind nicht korrekt für dieses Paket.\n"
 "Stellen Sie sicher, dass die korrekten Schlüssel-URLs für dieses Repository konfiguriert sind."
 
-#: ../yum/__init__.py:3169
+#: ../yum/__init__.py:3190
 msgid "Import of key(s) didn't help, wrong key(s)?"
 msgstr "Importieren der Schlüssel hat nicht geholfen, falsche Schlüssel?"
 
-#: ../yum/__init__.py:3188
+#: ../yum/__init__.py:3209
 #, python-format
 msgid "GPG key at %s (0x%s) is already imported"
 msgstr "GPG-Schlüssel unter %s (0x%s) ist bereits importiert"
 
-#: ../yum/__init__.py:3208
+#: ../yum/__init__.py:3228
 #, python-format
 msgid "Not installing key for repo %s"
-msgstr "Nicht installierter Schlüssel für Repo %s"
+msgstr "Installierte Schlüssel für Repo %s nicht"
 
-#: ../yum/__init__.py:3213
+#: ../yum/__init__.py:3235
 msgid "Key import failed"
 msgstr "Schlüssel-Import fehlgeschlagen"
 
-#: ../yum/__init__.py:3304
+#: ../yum/__init__.py:3325
 msgid "Unable to find a suitable mirror."
 msgstr "Es kann kein geeigneten Spiegelserver gefunden werden."
 
-#: ../yum/__init__.py:3306
+#: ../yum/__init__.py:3327
 msgid "Errors were encountered while downloading packages."
 msgstr "Beim Herunterladen der Pakete sind Fehler aufgetreten."
 
-#: ../yum/__init__.py:3347
+#: ../yum/__init__.py:3367
 #, python-format
 msgid "Please report this error at %s"
 msgstr "Bitte melden Sie diesen Fehler unter %s"
 
-#: ../yum/__init__.py:3371
+#: ../yum/__init__.py:3391
 msgid "Test Transaction Errors: "
-msgstr "Test-Transaktionsfehler"
+msgstr "Test-Transaktionsfehler: "
 
 #. Mostly copied from YumOutput._outKeyValFill()
-#: ../yum/plugins.py:201
+#: ../yum/plugins.py:204
 msgid "Loaded plugins: "
 msgstr "Geladene Plugins: "
 
-#: ../yum/plugins.py:215
-#: ../yum/plugins.py:221
+#: ../yum/plugins.py:218
+#: ../yum/plugins.py:224
 #, python-format
 msgid "No plugin match for: %s"
 msgstr "Kein Plugin für Argument: %s"
 
-#: ../yum/plugins.py:251
+#: ../yum/plugins.py:254
 #, python-format
-msgid "\"%s\" plugin is disabled"
-msgstr "\"%s\" Plugin ist deaktiviert"
+msgid "Not loading \"%s\" plugin, as it is disabled"
+msgstr "\"%s\"-Plugin ist deaktiviert"
 
 #. Give full backtrace:
-#: ../yum/plugins.py:263
+#: ../yum/plugins.py:266
 #, python-format
 msgid "Plugin \"%s\" can't be imported"
 msgstr "Plugin \"%s\" kann nicht importiert werden"
 
-#: ../yum/plugins.py:270
+#: ../yum/plugins.py:273
 #, python-format
 msgid "Plugin \"%s\" doesn't specify required API version"
 msgstr "Plugin \"%s\" gibt keine benötigte API-Version an"
 
-#: ../yum/plugins.py:275
+#: ../yum/plugins.py:278
 #, python-format
 msgid "Plugin \"%s\" requires API %s. Supported API is %s."
 msgstr "Plugin \"%s\" benötigt API %s. Unterstützte API ist %s."
 
-#: ../yum/plugins.py:308
+#: ../yum/plugins.py:311
 #, python-format
 msgid "Loading \"%s\" plugin"
-msgstr "Lade \"%s\" Plugin"
+msgstr "Lade \"%s\"-Plugin"
 
-#: ../yum/plugins.py:315
+#: ../yum/plugins.py:318
 #, python-format
 msgid "Two or more plugins with the name \"%s\" exist in the plugin search path"
 msgstr "Zwei oder mehr Plugins mit dem Namen \"%s\" existieren im Plugin-Suchpfad"
 
-#: ../yum/plugins.py:335
+#: ../yum/plugins.py:338
 #, python-format
 msgid "Configuration file %s not found"
 msgstr "Konfigurationsdatei %s nicht gefunden"
 
 #. for
 #. Configuration files for the plugin not found
-#: ../yum/plugins.py:338
+#: ../yum/plugins.py:341
 #, python-format
 msgid "Unable to find configuration file for plugin %s"
 msgstr "Kann Konfigurationsdatei für Plugin %s nicht finden"
 
-#: ../yum/plugins.py:492
+#: ../yum/plugins.py:495
 msgid "registration of commands not supported"
 msgstr "Registrierung von Befehlen nicht unterstützt"
 
-# Geht sicher auch besser..., Ideen? Fabian
 #: ../yum/rpmtrans.py:78
 msgid "Repackaging"
-msgstr "Neu verpacken"
+msgstr "Packe neu"
 
 #: ../rpmUtils/oldUtils.py:26
 #, python-format
 msgid "Header cannot be opened or does not match %s, %s."
-msgstr "Header kann nicht geöffnet werden oder stimmt nicht überein %s, %s."
+msgstr "Header kann nicht geöffnet werden oder stimmt nicht überein mit %s, %s."
 
 #: ../rpmUtils/oldUtils.py:46
 #, python-format
 msgid "RPM %s fails md5 check"
-msgstr "RPM %s kann md5 nicht überprüfen"
+msgstr "RPM %s besteht md5-Prüfung nicht"
 
 #: ../rpmUtils/oldUtils.py:144
 msgid "Could not open RPM database for reading. Perhaps it is already in use?"
@@ -2258,6 +2278,9 @@ msgstr "Defekter Header %s"
 msgid "Error opening rpm %s - error %s"
 msgstr "Fehler bei Öffnen des RPM %s - Fehler %s"
 
+#~ msgid "Invalid versioned dependency string, try quoting it."
+#~ msgstr ""
+#~ "Ungültig versionierte Abhängigkeitszeichenkette, versuche es zu notieren."
 #~ msgid "Parsing package install arguments"
 #~ msgstr "Analysiere Installationsargumente des Pakets"
 #~ msgid "Could not find update match for %s"
diff --git a/po/pl.po b/po/pl.po
index e1e4000..01bd931 100644
--- a/po/pl.po
+++ b/po/pl.po
@@ -5,15 +5,15 @@ msgid ""
 msgstr ""
 "Project-Id-Version: pl\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2008-11-22 03:51+0100\n"
-"PO-Revision-Date: 2008-11-22 03:55+0100\n"
+"POT-Creation-Date: 2009-03-05 15:36+0100\n"
+"PO-Revision-Date: 2009-03-05 19:06+0100\n"
 "Last-Translator: Piotr Drąg <piotrdrag@gmail.com>\n"
 "Language-Team: Polish <pl@li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 
-#: ../callback.py:48 ../output.py:914 ../yum/rpmtrans.py:71
+#: ../callback.py:48 ../output.py:922 ../yum/rpmtrans.py:71
 msgid "Updating"
 msgstr "Aktualizowanie"
 
@@ -21,7 +21,7 @@ msgstr "Aktualizowanie"
 msgid "Erasing"
 msgstr "Usuwanie"
 
-#: ../callback.py:50 ../callback.py:51 ../callback.py:53 ../output.py:913
+#: ../callback.py:50 ../callback.py:51 ../callback.py:53 ../output.py:921
 #: ../yum/rpmtrans.py:73 ../yum/rpmtrans.py:74 ../yum/rpmtrans.py:76
 msgid "Installing"
 msgstr "Instalowanie"
@@ -30,7 +30,7 @@ msgstr "Instalowanie"
 msgid "Obsoleted"
 msgstr "Przestarzałe"
 
-#: ../callback.py:54 ../output.py:1019
+#: ../callback.py:54 ../output.py:1029
 msgid "Updated"
 msgstr "Zaktualizowano"
 
@@ -38,7 +38,7 @@ msgstr "Zaktualizowano"
 msgid "Erased"
 msgstr "Usunięto"
 
-#: ../callback.py:56 ../callback.py:57 ../callback.py:59 ../output.py:1017
+#: ../callback.py:56 ../callback.py:57 ../callback.py:59 ../output.py:1027
 msgid "Installed"
 msgstr "Zainstalowano"
 
@@ -60,7 +60,7 @@ msgstr "Błąd: nieprawidłowy stan wyjścia: %s dla %s"
 msgid "Erased: %s"
 msgstr "Usunięto: %s"
 
-#: ../callback.py:217 ../output.py:915
+#: ../callback.py:217 ../output.py:923
 msgid "Removing"
 msgstr "Usuwanie"
 
@@ -81,47 +81,47 @@ msgstr "Ustawianie repozytoriów"
 msgid "Reading repository metadata in from local files"
 msgstr "Odczytywanie metadanych repozytoriów z lokalnych plików"
 
-#: ../cli.py:188 ../utils.py:79
+#: ../cli.py:191 ../utils.py:79
 #, python-format
 msgid "Config Error: %s"
 msgstr "Błąd konfiguracji: %s"
 
-#: ../cli.py:191 ../cli.py:1172 ../utils.py:82
+#: ../cli.py:194 ../cli.py:1189 ../utils.py:82
 #, python-format
 msgid "Options Error: %s"
 msgstr "Błąd opcji: %s"
 
-#: ../cli.py:219
+#: ../cli.py:222
 #, python-format
 msgid "  Installed: %s-%s at %s"
-msgstr "  Zainstalowane: %s-%s at %s"
+msgstr "  Zainstalowane: %s-%s o %s"
 
-#: ../cli.py:221
+#: ../cli.py:224
 #, python-format
 msgid "  Built    : %s at %s"
 msgstr "  Zbudowane    : %s o %s"
 
-#: ../cli.py:223
+#: ../cli.py:226
 #, python-format
 msgid "  Committed: %s at %s"
 msgstr "  Wysłane: %s o %s"
 
-#: ../cli.py:260
+#: ../cli.py:265
 msgid "You need to give some command"
 msgstr "Musisz podać jakieś polecenie"
 
-#: ../cli.py:302
+#: ../cli.py:308
 msgid "Disk Requirements:\n"
 msgstr "Wymagana przestrzeń na dysku:\n"
 
-#: ../cli.py:304
+#: ../cli.py:310
 #, python-format
 msgid "  At least %dMB needed on the %s filesystem.\n"
 msgstr "  Potrzeba co najmniej %d MB w systemie plików %s.\n"
 
 #. TODO: simplify the dependency errors?
 #. Fixup the summary
-#: ../cli.py:309
+#: ../cli.py:315
 msgid ""
 "Error Summary\n"
 "-------------\n"
@@ -129,64 +129,56 @@ msgstr ""
 "Podsumowanie błędów\n"
 "-------------------\n"
 
-#: ../cli.py:352
+#: ../cli.py:358
 msgid "Trying to run the transaction but nothing to do. Exiting."
 msgstr "Próbowano wykonać transakcję, ale nie ma nic do zrobienia. Zamykanie."
 
-#: ../cli.py:382
+#: ../cli.py:394
 msgid "Exiting on user Command"
 msgstr "Zamykanie na polecenie użytkownika"
 
-#: ../cli.py:386
+#: ../cli.py:398
 msgid "Downloading Packages:"
 msgstr "Pobieranie pakietów:"
 
-#: ../cli.py:391
+#: ../cli.py:403
 msgid "Error Downloading Packages:\n"
 msgstr "Błąd podczas pobierania pakietów:\n"
 
-#: ../cli.py:403
-msgid "Entering rpm code"
-msgstr "Przechodzenie do kodu RPM"
-
-#: ../cli.py:407 ../yum/__init__.py:3312
+#: ../cli.py:417 ../yum/__init__.py:3344
 msgid "Running rpm_check_debug"
 msgstr "Wykonywanie rpm_check_debug"
 
-#: ../cli.py:410 ../yum/__init__.py:3315
+#: ../cli.py:420 ../yum/__init__.py:3347
 msgid "ERROR with rpm_check_debug vs depsolve:"
 msgstr "BŁĄD rpm_check_debug i rozwiązywania zależności:"
 
-#: ../cli.py:414
+#: ../cli.py:424
 #, python-format
 msgid "Please report this error in %s"
 msgstr "Zgłoś ten błąd na %s"
 
-#: ../cli.py:420
+#: ../cli.py:430
 msgid "Running Transaction Test"
 msgstr "Wykonywanie testu transakcji"
 
-#: ../cli.py:436
+#: ../cli.py:446
 msgid "Finished Transaction Test"
 msgstr "Zakończono test transakcji"
 
-#: ../cli.py:438
+#: ../cli.py:448
 msgid "Transaction Check Error:\n"
 msgstr "Błąd podczas sprawdzania transakcji:\n"
 
-#: ../cli.py:445
+#: ../cli.py:455
 msgid "Transaction Test Succeeded"
 msgstr "Test transakcji został zakończony powodzeniem"
 
-#: ../cli.py:466
+#: ../cli.py:476
 msgid "Running Transaction"
 msgstr "Wykonywanie transakcji"
 
-#: ../cli.py:471
-msgid "Leaving rpm code"
-msgstr "Opuszczanie kodu RPM"
-
-#: ../cli.py:498
+#: ../cli.py:506
 msgid ""
 "Refusing to automatically import keys when running unattended.\n"
 "Use \"-y\" to override."
@@ -195,174 +187,170 @@ msgstr ""
 "uruchomienia.\n"
 "Użyj \"-y\", aby wymusić."
 
-#: ../cli.py:517 ../cli.py:550
+#: ../cli.py:525 ../cli.py:559
 msgid "  * Maybe you meant: "
 msgstr "  * Czy chodziło o: "
 
-#: ../cli.py:533 ../cli.py:541
+#: ../cli.py:542 ../cli.py:550
 #, python-format
 msgid "Package(s) %s%s%s available, but not installed."
 msgstr "Pakiety %s%s%s są dostępne, ale nie są zainstalowane."
 
-#: ../cli.py:547 ../cli.py:582
+#: ../cli.py:556 ../cli.py:589
 #, python-format
 msgid "No package %s%s%s available."
 msgstr "Nie ma pakietu %s%s%s."
 
-#: ../cli.py:572
-msgid "Parsing package install arguments"
-msgstr "Analizowanie parametrów instalacji pakietów"
-
-#: ../cli.py:587 ../cli.py:662 ../yumcommands.py:984
+#: ../cli.py:594 ../cli.py:669 ../yumcommands.py:1010
 msgid "Package(s) to install"
 msgstr "Pakiety do zainstalowania"
 
-#: ../cli.py:588 ../cli.py:663 ../yumcommands.py:151 ../yumcommands.py:985
+#: ../cli.py:595 ../cli.py:670 ../yumcommands.py:159 ../yumcommands.py:1011
 msgid "Nothing to do"
 msgstr "Nie ma niczego do zrobienia"
 
-#: ../cli.py:621
+#: ../cli.py:628
 #, python-format
 msgid "%d packages marked for Update"
 msgstr "%d pakietów oznaczonych do aktualizacji"
 
-#: ../cli.py:624
+#: ../cli.py:631
 msgid "No Packages marked for Update"
 msgstr "Brak pakietów oznaczonych do aktualizacji"
 
-#: ../cli.py:638
+#: ../cli.py:645
 #, python-format
 msgid "%d packages marked for removal"
 msgstr "%d pakietów oznaczonych do usunięcia"
 
-#: ../cli.py:641
+#: ../cli.py:648
 msgid "No Packages marked for removal"
 msgstr "Brak pakietów oznaczonych do usunięcia"
 
-#: ../cli.py:653
+#: ../cli.py:660
 msgid "No Packages Provided"
 msgstr "Nie podano pakietów"
 
-#: ../cli.py:706
+#: ../cli.py:715
 msgid "Matching packages for package list to user args"
 msgstr "Dopasowywanie listy pakietów do parametrów użytkownika"
 
-#: ../cli.py:755
+#: ../cli.py:764
 #, python-format
 msgid "Warning: No matches found for: %s"
 msgstr "Ostrzeżenie: nie znaleziono wyników dla: %s"
 
-#: ../cli.py:758
+#: ../cli.py:767
 msgid "No Matches found"
 msgstr "Brak wyników"
 
-#: ../cli.py:797
+#: ../cli.py:806
 #, python-format
 msgid ""
-"Warning: 3.0.x versions of yum would erronously match against filenames.\n"
+"Warning: 3.0.x versions of yum would erroneously match against filenames.\n"
 " You can use \"%s*/%s%s\" and/or \"%s*bin/%s%s\" to get that behaviour"
 msgstr ""
-"Ostrzeżenie: wersje yuma 3.0.x błędnie dopasowują nazwy plików.\n"
+"Ostrzeżenie: wersje 3.0.x yuma błędnie dopasowują nazwy plików.\n"
 " Można użyć \"%s*/%s%s\" i/lub \"%s*bin/%s%s\", aby uzyskać to zachowanie"
 
-#: ../cli.py:813
+#: ../cli.py:822
 #, python-format
 msgid "No Package Found for %s"
 msgstr "Nie znaleziono pakietów dla %s"
 
-#: ../cli.py:825
+#: ../cli.py:834
 msgid "Cleaning up Everything"
 msgstr "Czyszczenie wszystkiego"
 
-#: ../cli.py:839
+#: ../cli.py:848
 msgid "Cleaning up Headers"
 msgstr "Czyszczenie nagłówków"
 
-#: ../cli.py:842
+#: ../cli.py:851
 msgid "Cleaning up Packages"
 msgstr "Czyszczenie pakietów"
 
-#: ../cli.py:845
+#: ../cli.py:854
 msgid "Cleaning up xml metadata"
 msgstr "Czytanie metadanych XML"
 
-#: ../cli.py:848
+#: ../cli.py:857
 msgid "Cleaning up database cache"
 msgstr "Czyszczenie pamięci podręcznej bazy danych"
 
-#: ../cli.py:851
+#: ../cli.py:860
 msgid "Cleaning up expire-cache metadata"
 msgstr "Czytanie metadanych wygasłej pamięci podręcznej"
 
-#: ../cli.py:854
+#: ../cli.py:863
 msgid "Cleaning up plugins"
 msgstr "Czyszczenie wtyczek"
 
-#: ../cli.py:879
+#: ../cli.py:888
 msgid "Installed Groups:"
 msgstr "Zainstalowane grupy:"
 
-#: ../cli.py:886
+#: ../cli.py:895
 msgid "Available Groups:"
 msgstr "Dostępne grupy:"
 
-#: ../cli.py:892
+#: ../cli.py:901
 msgid "Done"
 msgstr "Zakończono"
 
-#: ../cli.py:903 ../cli.py:921 ../cli.py:927 ../yum/__init__.py:2387
+#: ../cli.py:912 ../cli.py:930 ../cli.py:936 ../yum/__init__.py:2386
 #, python-format
 msgid "Warning: Group %s does not exist."
 msgstr "Ostrzeżenie: grupa %s nie istnieje."
 
-#: ../cli.py:931
+#: ../cli.py:940
 msgid "No packages in any requested group available to install or update"
 msgstr ""
 "Brak pakietów dostępnych do instalacji lub aktualizacji w żadnej z żądanych "
 "grup"
 
-#: ../cli.py:933
+#: ../cli.py:942
 #, python-format
 msgid "%d Package(s) to Install"
 msgstr "%d pakietów do instalacji"
 
-#: ../cli.py:943 ../yum/__init__.py:2399
+#: ../cli.py:952 ../yum/__init__.py:2398
 #, python-format
 msgid "No group named %s exists"
 msgstr "Grupa o nazwie %s nie istnieje"
 
-#: ../cli.py:949
+#: ../cli.py:958
 msgid "No packages to remove from groups"
 msgstr "Brak pakietów do usunięcia z grup"
 
-#: ../cli.py:951
+#: ../cli.py:960
 #, python-format
 msgid "%d Package(s) to remove"
 msgstr "%d pakietów do usunięcia"
 
-#: ../cli.py:993
+#: ../cli.py:1002
 #, python-format
 msgid "Package %s is already installed, skipping"
 msgstr "Pakiet %s jest już zainstalowany, pomijanie"
 
-#: ../cli.py:1004
+#: ../cli.py:1013
 #, python-format
 msgid "Discarding non-comparable pkg %s.%s"
 msgstr "Odrzucanie pakietu %s.%s, którego nie można porównać"
 
 #. we've not got any installed that match n or n+a
-#: ../cli.py:1030
+#: ../cli.py:1039
 #, python-format
 msgid "No other %s installed, adding to list for potential install"
 msgstr ""
 "Inne %s nie są zainstalowane, dodawanie do listy potencjalnie instalowanych"
 
-#: ../cli.py:1049
+#: ../cli.py:1058
 #, python-format
 msgid "Command line error: %s"
 msgstr "Błąd wiersza poleceń: %s"
 
-#: ../cli.py:1062
+#: ../cli.py:1071
 #, python-format
 msgid ""
 "\n"
@@ -373,252 +361,252 @@ msgstr ""
 "\n"
 "%s: opcja %s wymaga parametru"
 
-#: ../cli.py:1112
+#: ../cli.py:1129
 msgid "--color takes one of: auto, always, never"
 msgstr "--color przyjmuje jedną z: auto, always, never"
 
-#: ../cli.py:1214
+#: ../cli.py:1231
 msgid "show this help message and exit"
 msgstr "wyświetla ten komunikat pomocy i wyłącza"
 
-#: ../cli.py:1218
+#: ../cli.py:1235
 msgid "be tolerant of errors"
 msgstr "toleruje błędy"
 
-#: ../cli.py:1220
+#: ../cli.py:1237
 msgid "run entirely from cache, don't update cache"
 msgstr "uruchamia wyłącznie z pamięci podręcznej i nie aktualizuje jej"
 
-#: ../cli.py:1222
+#: ../cli.py:1239
 msgid "config file location"
 msgstr "położenie pliku konfiguracji"
 
-#: ../cli.py:1224
+#: ../cli.py:1241
 msgid "maximum command wait time"
 msgstr "maksymalny czas oczekiwania na polecenie"
 
-#: ../cli.py:1226
+#: ../cli.py:1243
 msgid "debugging output level"
 msgstr "poziom wyjścia debugowania"
 
-#: ../cli.py:1230
+#: ../cli.py:1247
 msgid "show duplicates, in repos, in list/search commands"
 msgstr "wyświetla duplikaty w repozytoriach w poleceniach list/search"
 
-#: ../cli.py:1232
+#: ../cli.py:1249
 msgid "error output level"
 msgstr "poziom wyjścia błędów"
 
-#: ../cli.py:1235
+#: ../cli.py:1252
 msgid "quiet operation"
 msgstr "mało komunikatów"
 
-#: ../cli.py:1237
+#: ../cli.py:1254
 msgid "verbose operation"
 msgstr "dużo komunikatów"
 
-#: ../cli.py:1239
+#: ../cli.py:1256
 msgid "answer yes for all questions"
 msgstr "odpowiada tak na wszystkie pytania"
 
-#: ../cli.py:1241
+#: ../cli.py:1258
 msgid "show Yum version and exit"
 msgstr "wyświetla wersję yuma i wyłącza"
 
-#: ../cli.py:1242
+#: ../cli.py:1259
 msgid "set install root"
 msgstr "ustawia roota instalacji"
 
-#: ../cli.py:1246
+#: ../cli.py:1263
 msgid "enable one or more repositories (wildcards allowed)"
 msgstr "włącza jedno lub więcej repozytoriów (wieloznaczniki są dozwolone)"
 
-#: ../cli.py:1250
+#: ../cli.py:1267
 msgid "disable one or more repositories (wildcards allowed)"
 msgstr "wyłącza jedno lub więcej repozytoriów (wieloznaczniki są dozwolone)"
 
-#: ../cli.py:1253
+#: ../cli.py:1270
 msgid "exclude package(s) by name or glob"
 msgstr "wyklucza pakiety po nazwie lub wyrażeniu regularnym"
 
-#: ../cli.py:1255
+#: ../cli.py:1272
 msgid "disable exclude from main, for a repo or for everything"
 msgstr "wyłącza wykluczanie z głównego, dla repozytorium lub wszystkiego"
 
-#: ../cli.py:1258
+#: ../cli.py:1275
 msgid "enable obsoletes processing during updates"
 msgstr "włącza przetwarzanie przestarzałych pakietów podczas aktualizacji"
 
-#: ../cli.py:1260
+#: ../cli.py:1277
 msgid "disable Yum plugins"
 msgstr "wyłącza wtyczki yuma"
 
-#: ../cli.py:1262
+#: ../cli.py:1279
 msgid "disable gpg signature checking"
 msgstr "wyłącza sprawdzanie podpisu GPG"
 
-#: ../cli.py:1264
+#: ../cli.py:1281
 msgid "disable plugins by name"
 msgstr "wyłącza wtyczki po nazwie"
 
-#: ../cli.py:1267
+#: ../cli.py:1284
 msgid "enable plugins by name"
 msgstr "włącza wtyczki po nazwie"
 
-#: ../cli.py:1270
+#: ../cli.py:1287
 msgid "skip packages with depsolving problems"
 msgstr "pomija pakiety mające problemy z rozwiązaniem zależności"
 
-#: ../cli.py:1272
+#: ../cli.py:1289
 msgid "control whether color is used"
 msgstr "kontroluje użycie kolorów"
 
-#: ../output.py:301
+#: ../output.py:298
 msgid "Jan"
 msgstr "sty"
 
-#: ../output.py:301
+#: ../output.py:298
 msgid "Feb"
 msgstr "lut"
 
-#: ../output.py:301
+#: ../output.py:298
 msgid "Mar"
 msgstr "mar"
 
-#: ../output.py:301
+#: ../output.py:298
 msgid "Apr"
 msgstr "kwi"
 
-#: ../output.py:301
+#: ../output.py:298
 msgid "May"
 msgstr "maj"
 
-#: ../output.py:301
+#: ../output.py:298
 msgid "Jun"
 msgstr "cze"
 
-#: ../output.py:302
+#: ../output.py:299
 msgid "Jul"
 msgstr "lip"
 
-#: ../output.py:302
+#: ../output.py:299
 msgid "Aug"
 msgstr "sie"
 
-#: ../output.py:302
+#: ../output.py:299
 msgid "Sep"
 msgstr "wrz"
 
-#: ../output.py:302
+#: ../output.py:299
 msgid "Oct"
 msgstr "paź"
 
-#: ../output.py:302
+#: ../output.py:299
 msgid "Nov"
 msgstr "lis"
 
-#: ../output.py:302
+#: ../output.py:299
 msgid "Dec"
 msgstr "gru"
 
-#: ../output.py:312
+#: ../output.py:309
 msgid "Trying other mirror."
 msgstr "Próbowanie innego serwera lustrzanego."
 
-#: ../output.py:527
+#: ../output.py:525
 #, python-format
 msgid "Name       : %s%s%s"
 msgstr "Nazwa              : %s%s%s"
 
-#: ../output.py:528
+#: ../output.py:526
 #, python-format
 msgid "Arch       : %s"
 msgstr "Architektura       : %s"
 
-#: ../output.py:530
+#: ../output.py:528
 #, python-format
 msgid "Epoch      : %s"
 msgstr "Epoka              : %s"
 
-#: ../output.py:531
+#: ../output.py:529
 #, python-format
 msgid "Version    : %s"
 msgstr "Wersja             : %s"
 
-#: ../output.py:532
+#: ../output.py:530
 #, python-format
 msgid "Release    : %s"
 msgstr "Wydanie            : %s"
 
-#: ../output.py:533
+#: ../output.py:531
 #, python-format
 msgid "Size       : %s"
 msgstr "Rozmiar            : %s"
 
-#: ../output.py:534
+#: ../output.py:532
 #, python-format
 msgid "Repo       : %s"
 msgstr "Repozytorium       : %s"
 
-#: ../output.py:536
+#: ../output.py:534
 #, python-format
 msgid "Committer  : %s"
 msgstr "Twórca             : %s"
 
-#: ../output.py:537
+#: ../output.py:535
 #, python-format
 msgid "Committime : %s"
 msgstr "Czas wysłania      : %s"
 
-#: ../output.py:538
+#: ../output.py:536
 #, python-format
 msgid "Buildtime  : %s"
 msgstr "Czas zbudowania    : %s"
 
-#: ../output.py:540
+#: ../output.py:538
 #, python-format
 msgid "Installtime: %s"
 msgstr "Czas zainstalowania: %s"
 
-#: ../output.py:541
+#: ../output.py:539
 msgid "Summary    : "
 msgstr "Podsumowanie       : "
 
-#: ../output.py:543
+#: ../output.py:541
 #, python-format
 msgid "URL        : %s"
 msgstr "URL                : %s"
 
-#: ../output.py:544
+#: ../output.py:542
 #, python-format
 msgid "License    : %s"
 msgstr "Licencja           : %s"
 
-#: ../output.py:545
+#: ../output.py:543
 msgid "Description: "
 msgstr "Opis               : "
 
-#: ../output.py:609
+#: ../output.py:611
 msgid "y"
 msgstr "t"
 
-#: ../output.py:609
+#: ../output.py:611
 msgid "yes"
 msgstr "tak"
 
-#: ../output.py:610
+#: ../output.py:612
 msgid "n"
 msgstr "n"
 
-#: ../output.py:610
+#: ../output.py:612
 msgid "no"
 msgstr "nie"
 
-#: ../output.py:614
+#: ../output.py:616
 msgid "Is this ok [y/N]: "
 msgstr "W porządku? [t/N]: "
 
-#: ../output.py:702
+#: ../output.py:704
 #, python-format
 msgid ""
 "\n"
@@ -627,137 +615,142 @@ msgstr ""
 "\n"
 "Grupa: %s"
 
-#: ../output.py:709
+#: ../output.py:708
+#, python-format
+msgid " Group-Id: %s"
+msgstr " Identyfikator grupy: %s"
+
+#: ../output.py:713
 #, python-format
 msgid " Description: %s"
 msgstr " Opis: %s"
 
-#: ../output.py:711
+#: ../output.py:715
 msgid " Mandatory Packages:"
 msgstr " Pakiety obowiązkowe:"
 
-#: ../output.py:712
+#: ../output.py:716
 msgid " Default Packages:"
 msgstr " Domyślne pakiety:"
 
-#: ../output.py:713
+#: ../output.py:717
 msgid " Optional Packages:"
 msgstr " Pakiety opcjonalne:"
 
-#: ../output.py:714
+#: ../output.py:718
 msgid " Conditional Packages:"
 msgstr " Pakiety warunkowe:"
 
-#: ../output.py:734
+#: ../output.py:738
 #, python-format
 msgid "package: %s"
 msgstr "pakiet: %s"
 
-#: ../output.py:736
+#: ../output.py:740
 msgid "  No dependencies for this package"
 msgstr "  Brak zależności dla tego pakietu"
 
-#: ../output.py:741
+#: ../output.py:745
 #, python-format
 msgid "  dependency: %s"
 msgstr "  zależność: %s"
 
-#: ../output.py:743
+#: ../output.py:747
 msgid "   Unsatisfied dependency"
 msgstr "   Nierozwiązana zależność"
 
-#: ../output.py:818
+#: ../output.py:819
 #, python-format
 msgid "Repo        : %s"
 msgstr "Repozytorium: %s"
 
-#: ../output.py:819
+#: ../output.py:820
 msgid "Matched from:"
 msgstr "Dopasowano z:"
 
-#: ../output.py:827
+#: ../output.py:828
 msgid "Description : "
 msgstr "Opis        : "
 
-#: ../output.py:830
+#: ../output.py:831
 #, python-format
 msgid "URL         : %s"
 msgstr "URL         : %s"
 
-#: ../output.py:833
+#: ../output.py:834
 #, python-format
 msgid "License     : %s"
 msgstr "Licencja    : %s"
 
-#: ../output.py:836
+#: ../output.py:837
 #, python-format
 msgid "Filename    : %s"
 msgstr "Nazwa pliku : %s"
 
-#: ../output.py:840
+#: ../output.py:841
 msgid "Other       : "
 msgstr "Inne        : "
 
-#: ../output.py:873
+#: ../output.py:874
 msgid "There was an error calculating total download size"
 msgstr "Wystąpił błąd podczas obliczania całkowitego rozmiaru pobierania"
 
-#: ../output.py:878
+#: ../output.py:879
 #, python-format
 msgid "Total size: %s"
 msgstr "Całkowity rozmiar: %s"
 
-#: ../output.py:881
+#: ../output.py:882
 #, python-format
 msgid "Total download size: %s"
 msgstr "Całkowity rozmiar pobierania: %s"
 
-#: ../output.py:916
+#: ../output.py:924
 msgid "Installing for dependencies"
 msgstr "Instalowanie, aby rozwiązać zależności"
 
-#: ../output.py:917
+#: ../output.py:925
 msgid "Updating for dependencies"
 msgstr "Aktualizowanie, aby rozwiązać zależności"
 
-#: ../output.py:918
+#: ../output.py:926
 msgid "Removing for dependencies"
 msgstr "Usuwanie, aby rozwiązać zależności"
 
-#: ../output.py:925 ../output.py:1021
+#: ../output.py:933 ../output.py:1031
 msgid "Skipped (dependency problems)"
 msgstr "Pominięto (problemy z zależnościami)"
 
-#: ../output.py:946
+#: ../output.py:954
 msgid "Package"
 msgstr "Pakiet"
 
-#: ../output.py:946
+#: ../output.py:954
 msgid "Arch"
 msgstr "Architektura"
 
-#: ../output.py:947
+#: ../output.py:955
 msgid "Version"
 msgstr "Wersja"
 
-#: ../output.py:947
+#: ../output.py:955
 msgid "Repository"
 msgstr "Repozytorium"
 
-#: ../output.py:948
+#: ../output.py:956
 msgid "Size"
 msgstr "Rozmiar"
 
-#: ../output.py:959
+#: ../output.py:968
 #, python-format
 msgid ""
-"     replacing  %s.%s %s\n"
+"     replacing  %s%s%s.%s %s\n"
 "\n"
 msgstr ""
-"     zastępuje  %s.%s %s\n"
+"     zastępuje  %s%s%s.%s %s\n"
 "\n"
 
-#: ../output.py:967
+#: ../output.py:977
 #, python-format
 msgid ""
 "\n"
@@ -774,27 +767,36 @@ msgstr ""
 "Aktualizowanie %5.5s pakietów     \n"
 "Usuwanie       %5.5s pakietów     \n"
 
-#: ../output.py:1015
+#: ../output.py:1025
 msgid "Removed"
 msgstr "Usunięto"
 
-#: ../output.py:1016
+#: ../output.py:1026
 msgid "Dependency Removed"
 msgstr "Usunięto zależność"
 
-#: ../output.py:1018
+#: ../output.py:1028
 msgid "Dependency Installed"
 msgstr "Zainstalowano zależność"
 
-#: ../output.py:1020
+#: ../output.py:1030
 msgid "Dependency Updated"
 msgstr "Zaktualizowano zależność"
 
-#: ../output.py:1022
+#: ../output.py:1032
 msgid "Replaced"
 msgstr "Zastąpiono"
 
-#: ../output.py:1095
+#: ../output.py:1033
+msgid "Failed"
+msgstr "Nie powiodło się"
+
+#. Delta between C-c's so we treat as exit
+#: ../output.py:1099
+msgid "two"
+msgstr "dwóch"
+
+#: ../output.py:1106
 #, python-format
 msgid ""
 "\n"
@@ -805,67 +807,67 @@ msgstr ""
 " Obecne pobieranie zostało anulowane, %sprzerwij (Ctrl-C) ponownie%s w ciągu "
 "%s%s%s sekund, aby zakończyć.\n"
 
-#: ../output.py:1105
+#: ../output.py:1116
 msgid "user interrupt"
 msgstr "przerwane przez użytkownika"
 
-#: ../output.py:1121
+#: ../output.py:1132
 msgid "Total"
 msgstr "Razem"
 
-#: ../output.py:1135
+#: ../output.py:1146
 msgid "installed"
 msgstr "zainstalowany"
 
-#: ../output.py:1136
+#: ../output.py:1147
 msgid "updated"
 msgstr "zaktualizowany"
 
-#: ../output.py:1137
+#: ../output.py:1148
 msgid "obsoleted"
 msgstr "zastąpiony"
 
-#: ../output.py:1138
+#: ../output.py:1149
 msgid "erased"
 msgstr "usunięty"
 
-#: ../output.py:1142
+#: ../output.py:1153
 #, python-format
 msgid "---> Package %s.%s %s:%s-%s set to be %s"
 msgstr "---> Pakiet %s.%s %s:%s-%s zostanie %s"
 
-#: ../output.py:1149
+#: ../output.py:1160
 msgid "--> Running transaction check"
 msgstr "--> Wykonywanie sprawdzania transakcji"
 
-#: ../output.py:1154
+#: ../output.py:1165
 msgid "--> Restarting Dependency Resolution with new changes."
 msgstr "--> Ponowne uruchamianie rozwiązywania zależności z nowymi zmianami."
 
-#: ../output.py:1159
+#: ../output.py:1170
 msgid "--> Finished Dependency Resolution"
 msgstr "--> Zakończono rozwiązywanie zależności"
 
-#: ../output.py:1164
+#: ../output.py:1175
 #, python-format
 msgid "--> Processing Dependency: %s for package: %s"
 msgstr "--> Przetwarzanie zależności: %s dla pakietu: %s"
 
-#: ../output.py:1169
+#: ../output.py:1180
 #, python-format
 msgid "--> Unresolved Dependency: %s"
 msgstr "--> Nierozwiązana zależność: %s"
 
-#: ../output.py:1175
+#: ../output.py:1186
 #, python-format
 msgid "--> Processing Conflict: %s conflicts %s"
 msgstr "--> Przetwarzanie konfliktów: %s jest w konflikcie z %s"
 
-#: ../output.py:1178
+#: ../output.py:1189
 msgid "--> Populating transaction set with selected packages. Please wait."
 msgstr "--> Układanie zestawu transakcji z wybranymi pakietami. Proszę czekać."
 
-#: ../output.py:1182
+#: ../output.py:1193
 #, python-format
 msgid "---> Downloading header for %s to pack into transaction set."
 msgstr "---> Pobieranie nagłówka dla %s do umieszczenia w zestawie transakcji."
@@ -946,266 +948,267 @@ msgstr "Plik %s podany powłoce jako parametr nie istnieje."
 msgid "Error: more than one file given as argument to shell."
 msgstr "Błąd: podano powłoce więcej niż jeden plik jako parametr."
 
-#: ../yumcommands.py:161
+#: ../yumcommands.py:169
 msgid "PACKAGE..."
 msgstr "PAKIET..."
 
-#: ../yumcommands.py:164
+#: ../yumcommands.py:172
 msgid "Install a package or packages on your system"
 msgstr "Zainstaluj pakiet lub pakiety w systemie"
 
-#: ../yumcommands.py:173
+#: ../yumcommands.py:180
 msgid "Setting up Install Process"
 msgstr "Ustawianie procesu instalacji"
 
-#: ../yumcommands.py:184
+#: ../yumcommands.py:191
 msgid "[PACKAGE...]"
 msgstr "[PAKIET...]"
 
-#: ../yumcommands.py:187
+#: ../yumcommands.py:194
 msgid "Update a package or packages on your system"
 msgstr "Zaktualizuj pakiet lub pakiety w systemie"
 
-#: ../yumcommands.py:195
+#: ../yumcommands.py:201
 msgid "Setting up Update Process"
 msgstr "Ustawianie procesu aktualizacji"
 
-#: ../yumcommands.py:237
+#: ../yumcommands.py:243
 msgid "Display details about a package or group of packages"
 msgstr "Wyświetl szczegóły o pakiecie lub grupie pakietów"
 
-#: ../yumcommands.py:278
+#: ../yumcommands.py:292
 msgid "Installed Packages"
 msgstr "Zainstalowane pakiety"
 
-#: ../yumcommands.py:285
+#: ../yumcommands.py:300
 msgid "Available Packages"
 msgstr "Dostępne pakiety"
 
-#: ../yumcommands.py:289
+#: ../yumcommands.py:304
 msgid "Extra Packages"
 msgstr "Dodatkowe pakiety"
 
-#: ../yumcommands.py:291
+#: ../yumcommands.py:308
 msgid "Updated Packages"
 msgstr "Zaktualizowane pakiety"
 
-#: ../yumcommands.py:298 ../yumcommands.py:305 ../yumcommands.py:574
+#. This only happens in verbose mode
+#: ../yumcommands.py:316 ../yumcommands.py:323 ../yumcommands.py:600
 msgid "Obsoleting Packages"
 msgstr "Zastępowanie przestarzałych pakietów"
 
-#: ../yumcommands.py:307
+#: ../yumcommands.py:325
 msgid "Recently Added Packages"
 msgstr "Ostatnio dodane pakiety"
 
-#: ../yumcommands.py:314
+#: ../yumcommands.py:332
 msgid "No matching Packages to list"
 msgstr "Brak pakietów pasujących do listy"
 
-#: ../yumcommands.py:328
+#: ../yumcommands.py:346
 msgid "List a package or groups of packages"
 msgstr "Wyświetl listę pakietów lub grup pakietów"
 
-#: ../yumcommands.py:340
+#: ../yumcommands.py:358
 msgid "Remove a package or packages from your system"
 msgstr "Usuń pakiet lub pakiety z systemu"
 
-#: ../yumcommands.py:348
+#: ../yumcommands.py:365
 msgid "Setting up Remove Process"
 msgstr "Ustawianie procesu usuwania"
 
-#: ../yumcommands.py:363
+#: ../yumcommands.py:379
 msgid "Setting up Group Process"
 msgstr "Ustawianie procesu grup"
 
-#: ../yumcommands.py:369
+#: ../yumcommands.py:385
 msgid "No Groups on which to run command"
 msgstr "Brak grup, na których można wykonać polecenie"
 
-#: ../yumcommands.py:382
+#: ../yumcommands.py:398
 msgid "List available package groups"
 msgstr "Wyświetl listę dostępnych grup pakietów"
 
-#: ../yumcommands.py:399
+#: ../yumcommands.py:415
 msgid "Install the packages in a group on your system"
 msgstr "Zainstaluj pakiety z grupy w systemie"
 
-#: ../yumcommands.py:421
+#: ../yumcommands.py:437
 msgid "Remove the packages in a group from your system"
 msgstr "Usuń pakiety z grupy z systemu"
 
-#: ../yumcommands.py:448
+#: ../yumcommands.py:464
 msgid "Display details about a package group"
 msgstr "Wyświetl szczegóły o grupie pakietów"
 
-#: ../yumcommands.py:472
+#: ../yumcommands.py:488
 msgid "Generate the metadata cache"
 msgstr "Utwórz pamięć podręczną metadanych"
 
-#: ../yumcommands.py:478
+#: ../yumcommands.py:494
 msgid "Making cache files for all metadata files."
 msgstr "Tworzenie plików pamięci podręcznej ze wszystkich plików metadanych."
 
-#: ../yumcommands.py:479
+#: ../yumcommands.py:495
 msgid "This may take a while depending on the speed of this computer"
 msgstr "Może to chwilę zająć, z zależności od szybkości komputera"
 
-#: ../yumcommands.py:500
+#: ../yumcommands.py:516
 msgid "Metadata Cache Created"
 msgstr "Utworzono pamięć podręczną metadanych"
 
-#: ../yumcommands.py:514
+#: ../yumcommands.py:530
 msgid "Remove cached data"
 msgstr "Usunięto dane z pamięci podręcznej"
 
-#: ../yumcommands.py:535
+#: ../yumcommands.py:551
 msgid "Find what package provides the given value"
 msgstr "Znajdź pakiet dostarczający podaną wartość"
 
-#: ../yumcommands.py:555
+#: ../yumcommands.py:571
 msgid "Check for available package updates"
 msgstr "Sprawdź dostępne aktualizacje pakietów"
 
-#: ../yumcommands.py:594
+#: ../yumcommands.py:620
 msgid "Search package details for the given string"
 msgstr "Znajdź szczegóły pakietów dla podanego łańcucha tekstowego"
 
-#: ../yumcommands.py:600
+#: ../yumcommands.py:626
 msgid "Searching Packages: "
 msgstr "Wyszukiwanie pakietów: "
 
-#: ../yumcommands.py:617
+#: ../yumcommands.py:643
 msgid "Update packages taking obsoletes into account"
 msgstr "Zaktualizuj pakiety, w tym przestarzałe"
 
-#: ../yumcommands.py:626
+#: ../yumcommands.py:651
 msgid "Setting up Upgrade Process"
 msgstr "Ustawianie procesu aktualizacji"
 
-#: ../yumcommands.py:640
+#: ../yumcommands.py:665
 msgid "Install a local RPM"
 msgstr "Zainstaluj lokalny pakiet RPM"
 
-#: ../yumcommands.py:649
+#: ../yumcommands.py:673
 msgid "Setting up Local Package Process"
 msgstr "Ustawianie procesu lokalnego pakietu"
 
-#: ../yumcommands.py:668
+#: ../yumcommands.py:692
 msgid "Determine which package provides the given dependency"
 msgstr "Określ, który pakiet dostarcza podaną zależność"
 
-#: ../yumcommands.py:671
+#: ../yumcommands.py:695
 msgid "Searching Packages for Dependency:"
 msgstr "Wyszukiwanie pakietów dla zależności:"
 
-#: ../yumcommands.py:685
+#: ../yumcommands.py:709
 msgid "Run an interactive yum shell"
 msgstr "Uruchom interaktywną powłokę yuma"
 
-#: ../yumcommands.py:691
+#: ../yumcommands.py:715
 msgid "Setting up Yum Shell"
 msgstr "Ustawianie powłoki yuma"
 
-#: ../yumcommands.py:709
+#: ../yumcommands.py:733
 msgid "List a package's dependencies"
 msgstr "Wyświetl listę zależności pakietu"
 
-#: ../yumcommands.py:715
+#: ../yumcommands.py:739
 msgid "Finding dependencies: "
 msgstr "Wyszukiwanie zależności: "
 
-#: ../yumcommands.py:731
+#: ../yumcommands.py:755
 msgid "Display the configured software repositories"
 msgstr "Wyświetl skonfigurowane repozytoria oprogramowania"
 
-#: ../yumcommands.py:779 ../yumcommands.py:780
+#: ../yumcommands.py:803 ../yumcommands.py:804
 msgid "enabled"
 msgstr "włączone"
 
-#: ../yumcommands.py:788 ../yumcommands.py:789
+#: ../yumcommands.py:812 ../yumcommands.py:813
 msgid "disabled"
 msgstr "wyłączone"
 
-#: ../yumcommands.py:800
+#: ../yumcommands.py:827
 msgid "Repo-id     : "
 msgstr "Identyfikator repozytorium        : "
 
-#: ../yumcommands.py:801
+#: ../yumcommands.py:828
 msgid "Repo-name   : "
 msgstr "Nazwa repozytorium                : "
 
-#: ../yumcommands.py:802
+#: ../yumcommands.py:829
 msgid "Repo-status : "
 msgstr "Stan repozytorium                 : "
 
-#: ../yumcommands.py:804
+#: ../yumcommands.py:831
 msgid "Repo-revision: "
 msgstr "Wersja repozytorium               : "
 
-#: ../yumcommands.py:808
+#: ../yumcommands.py:835
 msgid "Repo-tags   : "
 msgstr "Znaczniki repozytorium            : "
 
-#: ../yumcommands.py:814
+#: ../yumcommands.py:841
 msgid "Repo-distro-tags: "
 msgstr "Znaczniki dystrybucji repozytorium: "
 
-#: ../yumcommands.py:819
+#: ../yumcommands.py:846
 msgid "Repo-updated: "
 msgstr "Aktualizacje repozytorium         : "
 
-#: ../yumcommands.py:821
+#: ../yumcommands.py:848
 msgid "Repo-pkgs   : "
 msgstr "Pakiety repozytorium              : "
 
-#: ../yumcommands.py:822
+#: ../yumcommands.py:849
 msgid "Repo-size   : "
 msgstr "Rozmiar repozytorium              : "
 
-#: ../yumcommands.py:829
+#: ../yumcommands.py:856
 msgid "Repo-baseurl: "
 msgstr "Podstawowy URL repozytorium       : "
 
-#: ../yumcommands.py:833
+#: ../yumcommands.py:860
 msgid "Repo-metalink: "
 msgstr "Metaodnośnik repozytorium         : "
 
-#: ../yumcommands.py:836
+#: ../yumcommands.py:863
 msgid "Repo-mirrors: "
 msgstr "Serwery lustrzane repozytorium    : "
 
-#: ../yumcommands.py:840
+#: ../yumcommands.py:867
 msgid "Repo-exclude: "
 msgstr "Wykluczenia z repozytorium        : "
 
-#: ../yumcommands.py:844
+#: ../yumcommands.py:871
 msgid "Repo-include: "
 msgstr "Dołączone z repozytorium          : "
 
 #. Work out the first (id) and last (enabled/disalbed/count),
 #. then chop the middle (name)...
-#: ../yumcommands.py:854 ../yumcommands.py:880
+#: ../yumcommands.py:881 ../yumcommands.py:907
 msgid "repo id"
 msgstr "ID repozytorium"
 
-#: ../yumcommands.py:868 ../yumcommands.py:869 ../yumcommands.py:883
+#: ../yumcommands.py:895 ../yumcommands.py:896 ../yumcommands.py:910
 msgid "status"
 msgstr "stan"
 
-#: ../yumcommands.py:881
+#: ../yumcommands.py:908
 msgid "repo name"
 msgstr "nazwa repozytorium"
 
-#: ../yumcommands.py:907
+#: ../yumcommands.py:934
 msgid "Display a helpful usage message"
 msgstr "Wyświetl pomocny komunikat o używaniu"
 
-#: ../yumcommands.py:941
+#: ../yumcommands.py:968
 #, python-format
 msgid "No help available for %s"
 msgstr "Brak pomocy dla %s"
 
-#: ../yumcommands.py:946
+#: ../yumcommands.py:973
 msgid ""
 "\n"
 "\n"
@@ -1215,7 +1218,7 @@ msgstr ""
 "\n"
 "aliasy: "
 
-#: ../yumcommands.py:948
+#: ../yumcommands.py:975
 msgid ""
 "\n"
 "\n"
@@ -1225,15 +1228,15 @@ msgstr ""
 "\n"
 "alias: "
 
-#: ../yumcommands.py:977
+#: ../yumcommands.py:1003
 msgid "Setting up Reinstall Process"
 msgstr "Ustawianie procesu ponownej instalacji"
 
-#: ../yumcommands.py:991
+#: ../yumcommands.py:1017
 msgid "reinstall a package"
 msgstr "ponownie zainstaluj pakiet"
 
-#: ../yummain.py:41
+#: ../yummain.py:42
 msgid ""
 "\n"
 "\n"
@@ -1243,7 +1246,7 @@ msgstr ""
 "\n"
 "Zamykanie na polecenie użytkownika"
 
-#: ../yummain.py:47
+#: ../yummain.py:48
 msgid ""
 "\n"
 "\n"
@@ -1253,27 +1256,87 @@ msgstr ""
 "\n"
 "Zamykanie na przerwanym potoku"
 
-#: ../yummain.py:98
+#: ../yummain.py:124
+msgid "Running"
+msgstr "Wykonywanie"
+
+#: ../yummain.py:125
+msgid "Sleeping"
+msgstr "Zasypianie"
+
+#: ../yummain.py:126
+msgid "Uninteruptable"
+msgstr "Nie można przerywać"
+
+#: ../yummain.py:127
+msgid "Zombie"
+msgstr "Zombie"
+
+#: ../yummain.py:128
+msgid "Traced/Stopped"
+msgstr "Śledzone/zatrzymane"
+
+#: ../yummain.py:129
+msgid "Unknown"
+msgstr "Nienznane"
+
+#: ../yummain.py:133
+msgid "  The other application is: PackageKit"
+msgstr "  Inna aplikacja to PackageKit"
+
+#: ../yummain.py:135
+#, python-format
+msgid "  The other application is: %s"
+msgstr "  Inna aplikacja to: %s"
+
+#: ../yummain.py:138
+#, python-format
+msgid "    Memory : %5s RSS (%5sB VSZ)"
+msgstr "    Pamięć: %5s RSS (%5sB VSZ)"
+
+#: ../yummain.py:142
+#, =python-format
+msgid "    Started: %s - %s ago"
+msgstr "    Uruchomiono: %s - %s temu"
+
+#: ../yummain.py:144
+#, python-format
+msgid "    State  : %s, pid: %d"
+msgstr "    Stan: %s, PID: %d"
+
+#: ../yummain.py:169
 msgid ""
 "Another app is currently holding the yum lock; waiting for it to exit..."
 msgstr "Inna aplikacja obecnie blokuje yuma. Oczekiwanie na jej zakończenie..."
 
-#: ../yummain.py:125 ../yummain.py:164
+#: ../yummain.py:197 ../yummain.py:236
 #, python-format
 msgid "Error: %s"
 msgstr "Błąd: %s"
 
-#: ../yummain.py:135 ../yummain.py:171
+#: ../yummain.py:207 ../yummain.py:247
 #, python-format
 msgid "Unknown Error(s): Exit Code: %d:"
 msgstr "Nieznane błędy: kod wyjścia: %d:"
 
 #. Depsolve stage
-#: ../yummain.py:142
+#: ../yummain.py:214
 msgid "Resolving Dependencies"
 msgstr "Rozwiązywanie zależności"
 
-#: ../yummain.py:177
+#: ../yummain.py:238
+msgid " You could try using --skip-broken to work around the problem"
+msgstr " Powinieneś spróbować użyć --skip-broken, aby obejść problem"
+
+#: ../yummain.py:239
+msgid ""
+" You could try running: package-cleanup --problems\n"
+"                        package-cleanup --dupes"
+msgstr ""
+" Można spróbować wykonać: package-cleanup --problems\n"
+"                        package-cleanup --dupes"
+
+#: ../yummain.py:253
 msgid ""
 "\n"
 "Dependencies Resolved"
@@ -1281,11 +1344,11 @@ msgstr ""
 "\n"
 "Rozwiązano zależności"
 
-#: ../yummain.py:191
+#: ../yummain.py:267
 msgid "Complete!"
 msgstr "Zakończono!"
 
-#: ../yummain.py:238
+#: ../yummain.py:314
 msgid ""
 "\n"
 "\n"
@@ -1328,7 +1391,7 @@ msgstr "%s pasuje jako wymaganie dla %s"
 msgid "Member: %s"
 msgstr "Członek: %s"
 
-#: ../yum/depsolve.py:247 ../yum/depsolve.py:733
+#: ../yum/depsolve.py:247 ../yum/depsolve.py:738
 #, python-format
 msgid "%s converted to install"
 msgstr "%s przekonwertowano do zainstalowania"
@@ -1377,118 +1440,118 @@ msgstr "Tryb dla pakietu dostarczającego %s: %s"
 msgid "TSINFO: %s package requiring %s marked as erase"
 msgstr "TSINFO: pakiet %s wymagający %s został oznaczony jako do usunięcia"
 
-#: ../yum/depsolve.py:393
+#: ../yum/depsolve.py:394
 #, python-format
 msgid "TSINFO: Obsoleting %s with %s to resolve dep."
 msgstr ""
 "TSINFO: zastępowanie przestarzałego pakietu %s pakietem %s, aby rozwiązać "
 "zależność."
 
-#: ../yum/depsolve.py:396
+#: ../yum/depsolve.py:397
 #, python-format
 msgid "TSINFO: Updating %s to resolve dep."
 msgstr "TSINFO: aktualizowanie %s, aby rozwiązać zależność."
 
-#: ../yum/depsolve.py:404
+#: ../yum/depsolve.py:405
 #, python-format
 msgid "Cannot find an update path for dep for: %s"
 msgstr "Nie można znaleźć ścieżki aktualizacji dla zależności dla: %s"
 
-#: ../yum/depsolve.py:414
+#: ../yum/depsolve.py:415
 #, python-format
 msgid "Unresolvable requirement %s for %s"
 msgstr "Nie można rozwiązać wymagania %s dla %s"
 
-#: ../yum/depsolve.py:437
+#: ../yum/depsolve.py:438
 #, python-format
 msgid "Quick matched %s to require for %s"
 msgstr "Szybko dopasowano %s jako wymaganie %s"
 
 #. is it already installed?
-#: ../yum/depsolve.py:479
+#: ../yum/depsolve.py:480
 #, python-format
 msgid "%s is in providing packages but it is already installed, removing."
 msgstr ""
 "%s jest w dostarczających pakietach, ale jest już zainstalowany, usuwanie."
 
-#: ../yum/depsolve.py:494
+#: ../yum/depsolve.py:495
 #, python-format
 msgid "Potential resolving package %s has newer instance in ts."
 msgstr ""
 "Pakiet %s potencjalnie rozwiązujący ma nowszą wersję w zestawie transakcji."
 
-#: ../yum/depsolve.py:505
+#: ../yum/depsolve.py:506
 #, python-format
 msgid "Potential resolving package %s has newer instance installed."
 msgstr "Pakiet %s potencjalnie rozwiązujący ma zainstalowaną nowszą wersję."
 
-#: ../yum/depsolve.py:513 ../yum/depsolve.py:562
+#: ../yum/depsolve.py:514 ../yum/depsolve.py:563
 #, python-format
 msgid "Missing Dependency: %s is needed by package %s"
 msgstr "Brakująca zależność: %s jest wymagane przez pakiet %s"
 
-#: ../yum/depsolve.py:526
+#: ../yum/depsolve.py:527
 #, python-format
 msgid "%s already in ts, skipping this one"
 msgstr "%s jest już w zestawie transakcji, pomijanie"
 
-#: ../yum/depsolve.py:572
+#: ../yum/depsolve.py:573
 #, python-format
 msgid "TSINFO: Marking %s as update for %s"
 msgstr "TSINFO: oznaczanie %s jako aktualizacji dla %s"
 
-#: ../yum/depsolve.py:580
+#: ../yum/depsolve.py:581
 #, python-format
 msgid "TSINFO: Marking %s as install for %s"
 msgstr "TSINFO: oznaczanie %s jako do zainstalowania dla %s"
 
-#: ../yum/depsolve.py:672 ../yum/depsolve.py:751
+#: ../yum/depsolve.py:674 ../yum/depsolve.py:756
 msgid "Success - empty transaction"
 msgstr "Powodzenie - pusta transakcja"
 
-#: ../yum/depsolve.py:710 ../yum/depsolve.py:723
+#: ../yum/depsolve.py:713 ../yum/depsolve.py:728
 msgid "Restarting Loop"
 msgstr "Ponowne uruchamianie pętli"
 
-#: ../yum/depsolve.py:739
+#: ../yum/depsolve.py:744
 msgid "Dependency Process ending"
 msgstr "Kończenie procesu zależności"
 
-#: ../yum/depsolve.py:745
+#: ../yum/depsolve.py:750
 #, python-format
 msgid "%s from %s has depsolving problems"
 msgstr "%s z %s ma problemy z rozwiązywaniem zależności"
 
-#: ../yum/depsolve.py:752
+#: ../yum/depsolve.py:757
 msgid "Success - deps resolved"
 msgstr "Powodzenie - rozwiązano zależności"
 
-#: ../yum/depsolve.py:766
+#: ../yum/depsolve.py:771
 #, python-format
 msgid "Checking deps for %s"
 msgstr "Sprawdzanie zależności dla %s"
 
-#: ../yum/depsolve.py:849
+#: ../yum/depsolve.py:854
 #, python-format
 msgid "looking for %s as a requirement of %s"
 msgstr "wyszukiwanie %s jako wymagania %s"
 
-#: ../yum/depsolve.py:989
+#: ../yum/depsolve.py:996
 #, python-format
 msgid "Running compare_providers() for %s"
 msgstr "Wykonywanie compare_providers() dla %s"
 
-#: ../yum/depsolve.py:1017 ../yum/depsolve.py:1023
+#: ../yum/depsolve.py:1024 ../yum/depsolve.py:1030
 #, python-format
 msgid "better arch in po %s"
 msgstr "lepsze arch w po %s"
 
-#: ../yum/depsolve.py:1062
+#: ../yum/depsolve.py:1091
 #, python-format
 msgid "%s obsoletes %s"
 msgstr "%s zastępuje %s"
 
-#: ../yum/depsolve.py:1078
+#: ../yum/depsolve.py:1107
 #, python-format
 msgid ""
 "archdist compared %s to %s on %s\n"
@@ -1497,17 +1560,17 @@ msgstr ""
 "archdist porównało %s do %s na %s\n"
 "  Zwycięzca: %s"
 
-#: ../yum/depsolve.py:1085
+#: ../yum/depsolve.py:1114
 #, python-format
 msgid "common sourcerpm %s and %s"
 msgstr "wspólny źródłowy pakiet RPM %s i %s"
 
-#: ../yum/depsolve.py:1091
+#: ../yum/depsolve.py:1120
 #, python-format
 msgid "common prefix of %s between %s and %s"
 msgstr "wspólny przedrostek %s dla %s i %s"
 
-#: ../yum/depsolve.py:1099
+#: ../yum/depsolve.py:1128
 #, python-format
 msgid "Best Order: %s"
 msgstr "Najlepszy porządek: %s"
@@ -1516,80 +1579,79 @@ msgstr "Najlepszy porządek: %s"
 msgid "doConfigSetup() will go away in a future version of Yum.\n"
 msgstr "doConfigSetup() zostanie usunięte w przyszłych wersjach yuma.\n"
 
-#. FIXME: Use critical? or exception?
-#: ../yum/__init__.py:335
+#: ../yum/__init__.py:350
 #, python-format
 msgid "Repository %r is missing name in configuration, using id"
 msgstr "Repozytorium %r nie posiada nazwy w konfiguracji, używanie ID"
 
-#: ../yum/__init__.py:373
+#: ../yum/__init__.py:388
 msgid "plugins already initialised"
 msgstr "wtyczki zostały już zainicjowane"
 
-#: ../yum/__init__.py:380
+#: ../yum/__init__.py:395
 msgid "doRpmDBSetup() will go away in a future version of Yum.\n"
 msgstr "doRpmDBSetup() zostanie usunięte w przyszłych wersjach yuma.\n"
 
-#: ../yum/__init__.py:390
+#: ../yum/__init__.py:406
 msgid "Reading Local RPMDB"
 msgstr "Odczytywanie lokalnej bazy danych RPM"
 
-#: ../yum/__init__.py:408
+#: ../yum/__init__.py:424
 msgid "doRepoSetup() will go away in a future version of Yum.\n"
 msgstr "doRepoSetup() zostanie usunięte w przyszłych wersjach yuma.\n"
 
-#: ../yum/__init__.py:428
+#: ../yum/__init__.py:444
 msgid "doSackSetup() will go away in a future version of Yum.\n"
 msgstr "doSackSetup() zostanie usunięte w przyszłych wersjach yuma.\n"
 
-#: ../yum/__init__.py:445
+#: ../yum/__init__.py:461
 msgid "Setting up Package Sacks"
 msgstr "Ustawianie zestawów pakietów"
 
-#: ../yum/__init__.py:488
+#: ../yum/__init__.py:504
 #, python-format
 msgid "repo object for repo %s lacks a _resetSack method\n"
 msgstr "obiekt repozytorium %s nie posiada metody _resetSack\n"
 
-#: ../yum/__init__.py:489
+#: ../yum/__init__.py:505
 msgid "therefore this repo cannot be reset.\n"
 msgstr "więc to repozytorium nie może zostać przywrócone.\n"
 
-#: ../yum/__init__.py:494
+#: ../yum/__init__.py:510
 msgid "doUpdateSetup() will go away in a future version of Yum.\n"
 msgstr "doUpdateSetup() zostanie usunięte w przyszłych wersjach yuma.\n"
 
-#: ../yum/__init__.py:506
+#: ../yum/__init__.py:522
 msgid "Building updates object"
 msgstr "Budowanie obiektu aktualizacji"
 
-#: ../yum/__init__.py:537
+#: ../yum/__init__.py:553
 msgid "doGroupSetup() will go away in a future version of Yum.\n"
 msgstr "doGroupSetup() zostanie usunięte w przyszłych wersjach yuma.\n"
 
-#: ../yum/__init__.py:561
+#: ../yum/__init__.py:578
 msgid "Getting group metadata"
 msgstr "Pobieranie metadanych grup"
 
-#: ../yum/__init__.py:586
+#: ../yum/__init__.py:604
 #, python-format
 msgid "Adding group file from repository: %s"
 msgstr "Dodawanie pliku grup z repozytorium: %s"
 
-#: ../yum/__init__.py:591
+#: ../yum/__init__.py:613
 #, python-format
 msgid "Failed to add groups file for repository: %s - %s"
 msgstr "Dodanie pliku grup dla repozytorium nie powiodło się: %s - %s"
 
-#: ../yum/__init__.py:597
+#: ../yum/__init__.py:619
 msgid "No Groups Available in any repository"
 msgstr "Brak dostępnych grup we wszystkich repozytoriach"
 
-#: ../yum/__init__.py:647
+#: ../yum/__init__.py:669
 msgid "Importing additional filelist information"
 msgstr "Importowanie dodatkowych informacji o liście plików"
 
-#: ../yum/__init__.py:655
+#: ../yum/__init__.py:678
 msgid ""
 "There are unfinished transactions remaining. You might consider running yum-"
 "complete-transaction first to finish them."
@@ -1597,17 +1659,17 @@ msgstr ""
 "Pozostały niezakończone transakcje. Rozważ wykonanie yum-complete-"
 "transaction, aby najpierw je zakończyć."
 
-#: ../yum/__init__.py:721
+#: ../yum/__init__.py:744
 #, python-format
 msgid "Skip-broken round %i"
 msgstr "Pierwsza runda pomijania uszkodzonych %i"
 
-#: ../yum/__init__.py:770
+#: ../yum/__init__.py:796
 #, python-format
 msgid "Skip-broken took %i rounds "
 msgstr "Pomijanie uszkodzonych zajęło %i rund "
 
-#: ../yum/__init__.py:771
+#: ../yum/__init__.py:797
 msgid ""
 "\n"
 "Packages skipped because of dependency problems:"
@@ -1615,92 +1677,92 @@ msgstr ""
 "\n"
 "Pakiety pominięto z powodu problemów z zależnościami:"
 
-#: ../yum/__init__.py:775
+#: ../yum/__init__.py:801
 #, python-format
 msgid "    %s from %s"
 msgstr "    %s z %s"
 
-#: ../yum/__init__.py:918
+#: ../yum/__init__.py:945
 msgid ""
 "Warning: scriptlet or other non-fatal errors occurred during transaction."
 msgstr ""
 "Ostrzeżenie: podczas transakcji wystąpił skrypt lub inne nie fatalne błędy."
 
-#: ../yum/__init__.py:934
+#: ../yum/__init__.py:960
 #, python-format
 msgid "Failed to remove transaction file %s"
 msgstr "Usunięcie pliku transakcji %s nie powiodło się"
 
-#: ../yum/__init__.py:975
+#: ../yum/__init__.py:1002
 #, python-format
 msgid "excluding for cost: %s from %s"
 msgstr "wykluczanie z kosztów: %s z %s"
 
-#: ../yum/__init__.py:1006
+#: ../yum/__init__.py:1033
 msgid "Excluding Packages in global exclude list"
 msgstr "Wykluczanie pakietów na globalnej liście wykluczonych pakietów"
 
-#: ../yum/__init__.py:1008
+#: ../yum/__init__.py:1035
 #, python-format
 msgid "Excluding Packages from %s"
 msgstr "Wykluczanie pakietów z %s"
 
-#: ../yum/__init__.py:1033
+#: ../yum/__init__.py:1064
 #, python-format
 msgid "Reducing %s to included packages only"
 msgstr "Zmniejszanie %s tylko do dołączonych pakietów"
 
-#: ../yum/__init__.py:1039
+#: ../yum/__init__.py:1070
 #, python-format
 msgid "Keeping included package %s"
 msgstr "Utrzymywanie dołączonego pakietu %s"
 
-#: ../yum/__init__.py:1045
+#: ../yum/__init__.py:1076
 #, python-format
 msgid "Removing unmatched package %s"
 msgstr "Usuwanie niepasującego pakietu %s"
 
-#: ../yum/__init__.py:1048
+#: ../yum/__init__.py:1079
 msgid "Finished"
 msgstr "Zakończono"
 
 #. Whoa. What the heck happened?
-#: ../yum/__init__.py:1078
+#: ../yum/__init__.py:1109
 #, python-format
 msgid "Unable to check if PID %s is active"
 msgstr "Nie można sprawdzić, czy PID %s jest aktywny"
 
 #. Another copy seems to be running.
-#: ../yum/__init__.py:1082
+#: ../yum/__init__.py:1113
 #, python-format
 msgid "Existing lock %s: another copy is running as pid %s."
 msgstr "Istnieje blokada %s: inna kopia jest uruchomiona jako PID %s."
 
-#: ../yum/__init__.py:1153
+#: ../yum/__init__.py:1180
 msgid "Package does not match intended download"
 msgstr "Pakiet nie zgadza się z zamierzonym pobieraniem"
 
-#: ../yum/__init__.py:1168
+#: ../yum/__init__.py:1195
 msgid "Could not perform checksum"
 msgstr "Nie można wykonać sprawdzenia sum kontrolnych"
 
-#: ../yum/__init__.py:1171
+#: ../yum/__init__.py:1198
 msgid "Package does not match checksum"
 msgstr "Sumy kontrolne pakietu nie zgadzają się"
 
-#: ../yum/__init__.py:1214
+#: ../yum/__init__.py:1241
 #, python-format
 msgid "package fails checksum but caching is enabled for %s"
 msgstr ""
 "sprawdzenie sum kontrolnych pakietu nie powiodło się, ale zapisywanie w "
 "pamięci podręcznej dla %s jest włączone"
 
-#: ../yum/__init__.py:1217 ../yum/__init__.py:1245
+#: ../yum/__init__.py:1244 ../yum/__init__.py:1273
 #, python-format
 msgid "using local copy of %s"
 msgstr "używanie lokalnej kopii %s"
 
-#: ../yum/__init__.py:1259
+#: ../yum/__init__.py:1285
 #, python-format
 msgid ""
 "Insufficient space in download directory %s\n"
@@ -1711,11 +1773,11 @@ msgstr ""
 "    * wolne   %s\n"
 "    * wymagane %s"
 
-#: ../yum/__init__.py:1306
+#: ../yum/__init__.py:1332
 msgid "Header is not complete."
 msgstr "Nagłówek nie jest kompletny."
 
-#: ../yum/__init__.py:1346
+#: ../yum/__init__.py:1369
 #, python-format
 msgid ""
 "Header not in local cache and caching-only mode enabled. Cannot download %s"
@@ -1723,62 +1785,62 @@ msgstr ""
 "Nagłówek nie jest w lokalnej pamięci podręcznej, a tryb używania tylko "
 "pamięci podręcznej jest włączony. Nie można pobrać %s"
 
-#: ../yum/__init__.py:1401
+#: ../yum/__init__.py:1424
 #, python-format
 msgid "Public key for %s is not installed"
 msgstr "Klucz publiczny dla %s nie jest zainstalowany"
 
-#: ../yum/__init__.py:1405
+#: ../yum/__init__.py:1428
 #, python-format
 msgid "Problem opening package %s"
 msgstr "Podczas otwierania pakietu %s wystąpił problem"
 
-#: ../yum/__init__.py:1413
+#: ../yum/__init__.py:1436
 #, python-format
 msgid "Public key for %s is not trusted"
 msgstr "Klucz publiczny dla %s nie jest zaufany"
 
-#: ../yum/__init__.py:1417
+#: ../yum/__init__.py:1440
 #, python-format
 msgid "Package %s is not signed"
 msgstr "Pakiet %s nie jest podpisany"
 
-#: ../yum/__init__.py:1455
+#: ../yum/__init__.py:1478
 #, python-format
 msgid "Cannot remove %s"
 msgstr "Nie można usunąć %s"
 
-#: ../yum/__init__.py:1458
+#: ../yum/__init__.py:1482
 #, python-format
 msgid "%s removed"
 msgstr "Usunięto %s"
 
-#: ../yum/__init__.py:1495
+#: ../yum/__init__.py:1518
 #, python-format
 msgid "Cannot remove %s file %s"
 msgstr "Nie można usunąć %s pliku %s"
 
-#: ../yum/__init__.py:1498
+#: ../yum/__init__.py:1522
 #, python-format
 msgid "%s file %s removed"
 msgstr "Usunięto %s plik %s"
 
-#: ../yum/__init__.py:1500
+#: ../yum/__init__.py:1524
 #, python-format
 msgid "%d %s files removed"
 msgstr "Usunięto %d %s plików"
 
-#: ../yum/__init__.py:1568
+#: ../yum/__init__.py:1593
 #, python-format
 msgid "More than one identical match in sack for %s"
 msgstr "Więcej niż jeden identyczny wynik znajduje się w zestawie dla %s"
 
-#: ../yum/__init__.py:1573
+#: ../yum/__init__.py:1599
 #, python-format
 msgid "Nothing matches %s.%s %s:%s-%s from update"
 msgstr "Nic nie pasuje do %s.%s %s:%s-%s z aktualizacji"
 
-#: ../yum/__init__.py:1792
+#: ../yum/__init__.py:1817
 msgid ""
 "searchPackages() will go away in a future version of "
 "Yum.                      Use searchGenerator() instead. \n"
@@ -1786,104 +1848,99 @@ msgstr ""
 "searchPackages()  zostanie usunięte w przyszłych wersjach "
 "yuma.                      Zamiast tego użyj searchGenerator(). \n"
 
-#: ../yum/__init__.py:1829
+#: ../yum/__init__.py:1855
 #, python-format
 msgid "Searching %d packages"
 msgstr "Wyszukiwanie %d pakietów"
 
-#: ../yum/__init__.py:1832
+#: ../yum/__init__.py:1859
 #, python-format
 msgid "searching package %s"
 msgstr "wyszukiwanie pakietu %s"
 
-#: ../yum/__init__.py:1843
+#: ../yum/__init__.py:1871
 msgid "searching in file entries"
 msgstr "wyszukiwanie we wpisach plików"
 
-#: ../yum/__init__.py:1849
+#: ../yum/__init__.py:1878
 msgid "searching in provides entries"
 msgstr "wyszukiwanie we wpisach dostarczania"
 
-#: ../yum/__init__.py:1882
+#: ../yum/__init__.py:1911
 #, python-format
 msgid "Provides-match: %s"
 msgstr "Wyniki dostarczania: %s"
 
-#: ../yum/__init__.py:1931
+#: ../yum/__init__.py:1960
 msgid "No group data available for configured repositories"
 msgstr "Brak dostępnych danych grup dla skonfigurowanych repozytoriów"
 
-#: ../yum/__init__.py:1962 ../yum/__init__.py:1981 ../yum/__init__.py:2011
-#: ../yum/__init__.py:2017 ../yum/__init__.py:2090 ../yum/__init__.py:2094
+#: ../yum/__init__.py:1991 ../yum/__init__.py:2010 ../yum/__init__.py:2041
+#: ../yum/__init__.py:2047 ../yum/__init__.py:2120 ../yum/__init__.py:2124
 #, python-format
 msgid "No Group named %s exists"
 msgstr "Grupa o nazwie %s nie istnieje"
 
-#: ../yum/__init__.py:1992 ../yum/__init__.py:2106
+#: ../yum/__init__.py:2022 ../yum/__init__.py:2137
 #, python-format
 msgid "package %s was not marked in group %s"
 msgstr "pakiet %s nie został oznaczony w grupie %s"
 
-#: ../yum/__init__.py:2038
+#: ../yum/__init__.py:2069
 #, python-format
 msgid "Adding package %s from group %s"
 msgstr "Dodawanie pakietu %s z grupy %s"
 
-#: ../yum/__init__.py:2043
+#: ../yum/__init__.py:2073
 #, python-format
 msgid "No package named %s available to be installed"
 msgstr "Brak dostępnego pakietu o nazwie %s do zainstalowania"
 
-#: ../yum/__init__.py:2131
+#: ../yum/__init__.py:2162
 #, python-format
 msgid "Package tuple %s could not be found in packagesack"
 msgstr "Nie można znaleźć krotki pakietu %s w zestawie pakietów"
 
-#: ../yum/__init__.py:2146
+#: ../yum/__init__.py:2177
 msgid ""
 "getInstalledPackageObject() will go away, use self.rpmdb.searchPkgTuple().\n"
 msgstr ""
 "getInstalledPackageObject() zostanie usunięte, użyj self.rpmdb.searchPkgTuple"
 "().\n"
 
-#: ../yum/__init__.py:2198 ../yum/__init__.py:2241
-msgid "Invalid versioned dependency string, try quoting it."
-msgstr "Nieprawidłowy łańcuch tekstowy wersji, spróbuj go zacytować."
-
-#: ../yum/__init__.py:2200 ../yum/__init__.py:2243
+#: ../yum/__init__.py:2229 ../yum/__init__.py:2270
 msgid "Invalid version flag"
 msgstr "Nieprawidłowa flaga wersji"
 
-#: ../yum/__init__.py:2215 ../yum/__init__.py:2219
+#: ../yum/__init__.py:2244 ../yum/__init__.py:2248
 #, python-format
 msgid "No Package found for %s"
 msgstr "Nie znaleziono pakietu %s"
 
-#: ../yum/__init__.py:2427
+#: ../yum/__init__.py:2425
 msgid "Package Object was not a package object instance"
 msgstr "Obiekt pakietu nie był instancją obiektu pakietu"
 
-#: ../yum/__init__.py:2431
+#: ../yum/__init__.py:2429
 msgid "Nothing specified to install"
 msgstr "Nie podano nic do zainstalowania"
 
-#. only one in there
-#: ../yum/__init__.py:2449
+#: ../yum/__init__.py:2445
 #, python-format
 msgid "Checking for virtual provide or file-provide for %s"
 msgstr "Sprawdzanie wirtualnych zależności lub plików dla %s"
 
-#: ../yum/__init__.py:2455 ../yum/__init__.py:2853
+#: ../yum/__init__.py:2451 ../yum/__init__.py:2704 ../yum/__init__.py:2874
 #, python-format
 msgid "No Match for argument: %s"
 msgstr "Brak wyników dla parametru: %s"
 
-#: ../yum/__init__.py:2521
+#: ../yum/__init__.py:2522
 #, python-format
 msgid "Package %s installed and not available"
 msgstr "Pakiet %s jest zainstalowany, ale nie jest dostępny"
 
-#: ../yum/__init__.py:2524
+#: ../yum/__init__.py:2525
 msgid "No package(s) available to install"
 msgstr "Brak pakietów dostępnych do instalacji"
 
@@ -1892,69 +1949,69 @@ msgstr "Brak pakietów dostępnych do instalacji"
 msgid "Package: %s  - already in transaction set"
 msgstr "Pakiet: %s  - jest już w zestawie transakcji"
 
-#: ../yum/__init__.py:2551
+#: ../yum/__init__.py:2552
+#, python-format
+msgid "Package %s is obsoleted by %s, trying to install %s instead"
+msgstr ""
+"Pakiet %s został zastąpiony przez %s, próbowanie instalacji %s zamiast niego"
+
+#: ../yum/__init__.py:2560
 #, python-format
 msgid "Package %s already installed and latest version"
 msgstr "Pakiet %s jest już zainstalowany w najnowszej wersji"
 
-#: ../yum/__init__.py:2558
+#: ../yum/__init__.py:2567
 #, python-format
 msgid "Package matching %s already installed. Checking for update."
 msgstr ""
 "Pakiet pasujący do %s jest już zainstalowany. Sprawdzanie aktualizacji."
 
-#: ../yum/__init__.py:2568
-#, python-format
-msgid "Package %s is obsoleted by %s, trying to install %s instead"
-msgstr ""
-"Pakiet %s został zastąpiony przez %s, próbowanie instalacji %s zamiast niego"
-
 #. update everything (the easy case)
-#: ../yum/__init__.py:2646
+#: ../yum/__init__.py:2648
 msgid "Updating Everything"
 msgstr "Aktualizowanie wszystkiego"
 
-#: ../yum/__init__.py:2658 ../yum/__init__.py:2758 ../yum/__init__.py:2780
-#: ../yum/__init__.py:2802
+#: ../yum/__init__.py:2666 ../yum/__init__.py:2776 ../yum/__init__.py:2797
+#: ../yum/__init__.py:2823
 #, python-format
 msgid "Not Updating Package that is already obsoleted: %s.%s %s:%s-%s"
 msgstr "Przestarzały pakiet nie zostanie zaktualizowany: %s.%s %s:%s-%s"
 
-#: ../yum/__init__.py:2749
+#: ../yum/__init__.py:2701 ../yum/__init__.py:2871
+#, python-format
+msgid "%s"
+msgstr "%s"
+
+#: ../yum/__init__.py:2767
 #, python-format
 msgid "Package is already obsoleted: %s.%s %s:%s-%s"
 msgstr "Pakiet został już zastąpiony: %s.%s %s:%s-%s"
 
-#: ../yum/__init__.py:2783 ../yum/__init__.py:2805
+#: ../yum/__init__.py:2800 ../yum/__init__.py:2826
 #, python-format
 msgid "Not Updating Package that is already updated: %s.%s %s:%s-%s"
 msgstr "Już zaktualizowany pakiet nie zostanie zaktualizowany: %s.%s %s:%s-%s"
 
-#: ../yum/__init__.py:2850
-#, python-format
-msgid "%s"
-msgstr "%s"
-
-#: ../yum/__init__.py:2866
+#: ../yum/__init__.py:2887
 msgid "No package matched to remove"
 msgstr "Brak pasujących pakietów do usunięcia"
 
-#: ../yum/__init__.py:2900
+#: ../yum/__init__.py:2921
 #, python-format
 msgid "Cannot open file: %s. Skipping."
 msgstr "Nie można otworzyć pliku: %s. Pomijanie."
 
-#: ../yum/__init__.py:2902
+#: ../yum/__init__.py:2924
 #, python-format
 msgid "Examining %s: %s"
 msgstr "Sprawdzanie %s: %s"
 
-#: ../yum/__init__.py:2910
+#: ../yum/__init__.py:2932
 #, python-format
 msgid "Cannot add package %s to transaction. Not a compatible architecture: %s"
 msgstr "Nie można dodać pakietu %s do transakcji. Niezgodna architektura: %s"
 
-#: ../yum/__init__.py:2918
+#: ../yum/__init__.py:2940
 #, python-format
 msgid ""
 "Package %s not installed, cannot update it. Run yum install to install it "
@@ -1963,83 +2020,83 @@ msgstr ""
 "Pakiet %s nie jest zainstalowany, nie można go zaktualizować. Uruchom yum "
 "install, aby go zainstalować."
 
-#: ../yum/__init__.py:2951
+#: ../yum/__init__.py:2973
 #, python-format
 msgid "Excluding %s"
 msgstr "Wykluczanie %s"
 
-#: ../yum/__init__.py:2955
+#: ../yum/__init__.py:2978
 #, python-format
 msgid "Marking %s to be installed"
 msgstr "Oznaczanie %s do zainstalowania"
 
-#: ../yum/__init__.py:2960
+#: ../yum/__init__.py:2984
 #, python-format
 msgid "Marking %s as an update to %s"
 msgstr "Oznaczanie %s jako aktualizacji %s"
 
-#: ../yum/__init__.py:2965
+#: ../yum/__init__.py:2991
 #, python-format
 msgid "%s: does not update installed package."
 msgstr "%s: nie aktualizuj zainstalowanego pakietu."
 
-#: ../yum/__init__.py:2982
+#: ../yum/__init__.py:3009
 msgid "Problem in reinstall: no package matched to remove"
 msgstr ""
 "Podczas ponownego instalowania wystąpił problem: brak pasujących pakietów do "
 "usunięcia"
 
-#: ../yum/__init__.py:2993
+#: ../yum/__init__.py:3021
 #, python-format
 msgid "Package %s is allowed multiple installs, skipping"
 msgstr "Pakiet %s może być wielokrotnie instalowany, pomijanie"
 
-#: ../yum/__init__.py:3000
+#: ../yum/__init__.py:3030
 msgid "Problem in reinstall: no package matched to install"
 msgstr ""
 "Podczas ponownego instalowania wystąpił problem: brak pasujących pakietów do "
 "zainstalowania"
 
-#: ../yum/__init__.py:3035
+#: ../yum/__init__.py:3065
 #, python-format
 msgid "Retrieving GPG key from %s"
 msgstr "Pobieranie klucza GPG z %s"
 
-#: ../yum/__init__.py:3055
+#: ../yum/__init__.py:3085
 msgid "GPG key retrieval failed: "
 msgstr "Pobranie klucza GPG nie powiodło się: "
 
-#: ../yum/__init__.py:3066
+#: ../yum/__init__.py:3096
 #, python-format
 msgid "GPG key parsing failed: key does not have value %s"
 msgstr ""
 "Przeanalizowanie klucza GPG nie powiodło się: klucz nie posiada wartości %s"
 
-#: ../yum/__init__.py:3098
+#: ../yum/__init__.py:3128
 #, python-format
 msgid "GPG key at %s (0x%s) is already installed"
 msgstr "Klucz GPG %s (0x%s) jest już zainstalowany"
 
 #. Try installing/updating GPG key
-#: ../yum/__init__.py:3103 ../yum/__init__.py:3164
+#: ../yum/__init__.py:3133 ../yum/__init__.py:3195
 #, python-format
 msgid "Importing GPG key 0x%s \"%s\" from %s"
 msgstr "Importowanie klucza GPG 0x%s \"%s\" z %s"
 
-#: ../yum/__init__.py:3119
+#: ../yum/__init__.py:3150
 msgid "Not installing key"
 msgstr "Klucz nie zostanie zainstalowany"
 
-#: ../yum/__init__.py:3125
+#: ../yum/__init__.py:3156
 #, python-format
 msgid "Key import failed (code %d)"
 msgstr "Zaimportowanie klucza nie powiodło się (kod %d)"
 
-#: ../yum/__init__.py:3126 ../yum/__init__.py:3186
+#: ../yum/__init__.py:3157 ../yum/__init__.py:3216
 msgid "Key imported successfully"
 msgstr "Klucz został pomyślnie zaimportowany"
 
-#: ../yum/__init__.py:3131 ../yum/__init__.py:3191
+#: ../yum/__init__.py:3162 ../yum/__init__.py:3221
 #, python-format
 msgid ""
 "The GPG keys listed for the \"%s\" repository are already installed but they "
@@ -2051,78 +2108,78 @@ msgstr ""
 "Sprawdź, czy dla tego repozytorium skonfigurowane są poprawne adresy do "
 "kluczy."
 
-#: ../yum/__init__.py:3140
+#: ../yum/__init__.py:3171
 msgid "Import of key(s) didn't help, wrong key(s)?"
 msgstr "Zaimportowanie kluczy nie pomogło, błędne klucze?"
 
-#: ../yum/__init__.py:3159
+#: ../yum/__init__.py:3190
 #, python-format
 msgid "GPG key at %s (0x%s) is already imported"
 msgstr "Klucz GPG %s (0x%s) został już zaimportowany"
 
-#: ../yum/__init__.py:3178
+#: ../yum/__init__.py:3210
 #, python-format
 msgid "Not installing key for repo %s"
 msgstr "Klucz dla repozytorium %s nie zostanie zainstalowany"
 
-#: ../yum/__init__.py:3185
+#: ../yum/__init__.py:3215
 msgid "Key import failed"
 msgstr "Zaimportowanie klucza nie powiodło się"
 
-#: ../yum/__init__.py:3275
+#: ../yum/__init__.py:3306
 msgid "Unable to find a suitable mirror."
 msgstr "Nie można znaleźć odpowiedniego serwera lustrzanego."
 
-#: ../yum/__init__.py:3277
+#: ../yum/__init__.py:3308
 msgid "Errors were encountered while downloading packages."
 msgstr "Podczas pobierania pakietów wystąpiły błędy."
 
-#: ../yum/__init__.py:3317
+#: ../yum/__init__.py:3349
 #, python-format
 msgid "Please report this error at %s"
 msgstr "Zgłoś ten błąd na %s"
 
-#: ../yum/__init__.py:3341
+#: ../yum/__init__.py:3373
 msgid "Test Transaction Errors: "
 msgstr "Błędy testu transakcji: "
 
 #. Mostly copied from YumOutput._outKeyValFill()
-#: ../yum/plugins.py:201
+#: ../yum/plugins.py:204
 msgid "Loaded plugins: "
 msgstr "Wczytane wtyczki: "
 
-#: ../yum/plugins.py:215 ../yum/plugins.py:221
+#: ../yum/plugins.py:218 ../yum/plugins.py:224
 #, python-format
 msgid "No plugin match for: %s"
 msgstr "Brak wyników dla wtyczki: %s"
 
-#: ../yum/plugins.py:251
+#: ../yum/plugins.py:254
 #, python-format
-msgid "\"%s\" plugin is disabled"
-msgstr "Wtyczka \"%s\" jest wyłączona"
+msgid "Not loading \"%s\" plugin, as it is disabled"
+msgstr "Wtyczka \"%s\" nie została wczytana, ponieważ jest wyłączona"
 
 #. Give full backtrace:
-#: ../yum/plugins.py:263
+#: ../yum/plugins.py:266
 #, python-format
 msgid "Plugin \"%s\" can't be imported"
 msgstr "Nie można zaimportować wtyczki \"%s\""
 
-#: ../yum/plugins.py:270
+#: ../yum/plugins.py:273
 #, python-format
 msgid "Plugin \"%s\" doesn't specify required API version"
 msgstr "Wtyczka \"%s\" nie określa wymaganej wersji API"
 
-#: ../yum/plugins.py:275
+#: ../yum/plugins.py:278
 #, python-format
 msgid "Plugin \"%s\" requires API %s. Supported API is %s."
 msgstr "Wtyczka \"%s\" wymaga API %s. Obsługiwane API to %s."
 
-#: ../yum/plugins.py:308
+#: ../yum/plugins.py:311
 #, python-format
 msgid "Loading \"%s\" plugin"
 msgstr "Wczytywanie wtyczki \"%s\""
 
-#: ../yum/plugins.py:315
+#: ../yum/plugins.py:318
 #, python-format
 msgid ""
 "Two or more plugins with the name \"%s\" exist in the plugin search path"
@@ -2130,19 +2187,19 @@ msgstr ""
 "Istnieją dwie lub więcej wtyczek o nazwie \"%s\" w ścieżce wyszukiwania "
 "wtyczek"
 
-#: ../yum/plugins.py:335
+#: ../yum/plugins.py:338
 #, python-format
 msgid "Configuration file %s not found"
 msgstr "Nie znaleziono pliku konfiguracji %s"
 
 #. for
 #. Configuration files for the plugin not found
-#: ../yum/plugins.py:338
+#: ../yum/plugins.py:341
 #, python-format
 msgid "Unable to find configuration file for plugin %s"
 msgstr "Nie można naleźć pliku konfiguracji dla wtyczki %s"
 
-#: ../yum/plugins.py:492
+#: ../yum/plugins.py:495
 msgid "registration of commands not supported"
 msgstr "rejestracja poleceń nie jest obsługiwana"
 
diff --git a/rpmUtils/arch.py b/rpmUtils/arch.py
index e3a036e..e88cbde 100644
--- a/rpmUtils/arch.py
+++ b/rpmUtils/arch.py
@@ -163,7 +163,7 @@ def getBestArchFromList(archlist, myarch=None):
         val1 = archDifference(myarch, thisarch)
         val2 = archDifference(myarch, arch)
         if val1 == 0 and val2 == 0:
-           continue
+            continue
         if val1 < val2:
             if val1 == 0:
                 thisarch = arch                
diff --git a/rpmUtils/miscutils.py b/rpmUtils/miscutils.py
index ee8cd79..0e04194 100644
--- a/rpmUtils/miscutils.py
+++ b/rpmUtils/miscutils.py
@@ -111,7 +111,11 @@ def pkgTupleFromHeader(hdr):
        None epoch to 0, as well."""
    
     name = hdr['name']
-    if hdr[rpm.RPMTAG_SOURCERPM]:
+
+    # RPMTAG_SOURCEPACKAGE: RPMTAG_SOURCERPM is not necessarily there for
+    # e.g. gpg-pubkeys imported with older rpm versions
+    # http://lists.baseurl.org/pipermail/yum/2009-January/022275.html
+    if hdr[rpm.RPMTAG_SOURCERPM] or hdr[rpm.RPMTAG_SOURCEPACKAGE] != 1:
         arch = hdr['arch']
     else:
         arch = 'src'
diff --git a/rpmUtils/oldUtils.py b/rpmUtils/oldUtils.py
index 1216ce4..8957685 100644
--- a/rpmUtils/oldUtils.py
+++ b/rpmUtils/oldUtils.py
@@ -6,12 +6,19 @@ import os
 import gzip
 import sys
 from gzip import write32u, FNAME
+from urlgrabber.grabber import URLGrabError
+from zlib import error as zlibError
 
+def log(num, msg):
+    print >>sys.stderr, msg
+errorlog = log
 
 def _(msg):
     return msg
     
 
+# pylint: disable-msg=E0602
+
 def checkheader(headerfile, name, arch):
     """check a header by opening it and comparing the results to the name and arch
        we believe it to be for. if it fails raise URLGrabError(-1)"""
@@ -168,6 +175,8 @@ def _gzipOpen(filename, mode="rb", compresslevel=9):
     return GzipFile(filename, mode, compresslevel)
 
 class RPM_Base_Work:
+    def __init__(self):
+        self.hdr = None
 
     def _getTag(self, tag):
         if self.hdr is None:
diff --git a/rpmUtils/updates.py b/rpmUtils/updates.py
index 5506273..0e697bc 100644
--- a/rpmUtils/updates.py
+++ b/rpmUtils/updates.py
@@ -335,7 +335,7 @@ class Updates:
                             try:
                                 newpkgs[(n, a)].remove((e, v, r))
                             except ValueError:
-                               pass
+                                pass
 
         # get rid of all the empty dict entries:
         for nakey in newpkgs.keys():
diff --git a/test/yum-leak-test.py b/test/yum-leak-test.py
index bce4550..299db51 100755
--- a/test/yum-leak-test.py
+++ b/test/yum-leak-test.py
@@ -1,6 +1,6 @@
 #! /usr/bin/python -tt
 
-import yum, os, sys, time, gc
+import yum, os, time, gc
 from urlgrabber.progress import format_number
 
 def out_mem(pid):
diff --git a/test/yum-pylintrc b/test/yum-pylintrc
new file mode 100644
index 0000000..f7aee50
--- /dev/null
+++ b/test/yum-pylintrc
@@ -0,0 +1,338 @@
+# lint Python modules using external checkers.
+# 
+# This is the main checker controling the other ones and the reports
+# generation. It is itself both a raw checker and an astng checker in order
+# to:
+# * handle message activation / deactivation at the module level
+# * handle some basic but necessary stats'data (number of classes, methods...)
+# 
+[MASTER]
+
+# Specify a configuration file.
+#rcfile=
+
+# Python code to execute, usually for sys.path manipulation such as
+# pygtk.require().
+#init-hook=="execfile('test/pylint-setup.py')"
+
+# Profiled execution.
+profile=no
+
+# Add <file or directory> to the black list. It should be a base name, not a
+# path. You may set this option multiple times.
+ignore=CVS
+
+# Pickle collected data for later comparisons.
+persistent=yes
+
+# Set the cache size for astng objects.
+cache-size=500
+
+# List of plugins (as comma separated values of python modules names) to load,
+# usually to register additional checkers.
+load-plugins=
+
+
+[MESSAGES CONTROL]
+
+# Enable only checker(s) with the given id(s). This option conflicts with the
+# disable-checker option
+#enable-checker=
+
+# Enable all checker(s) except those with the given id(s). This option
+# conflicts with the enable-checker option
+#disable-checker=
+
+# Enable all messages in the listed categories.
+#enable-msg-cat=
+
+# Disable all messages in the listed categories.
+disable-msg-cat=C,R
+
+# Enable the message(s) with the given id(s).
+#enable-msg=
+
+# Disable the message(s) with the given id(s).
+# E1101: *%s %r has no %r member* (The init-hook for do sys.path manipulation don't, so we cant find the utils module)
+# F0401: *Unable to import %r (%s)* (See above)
+# W0704: *Except doesn't do anything* ( Except xxxxxx,e : pass is ok)
+# W0612: *Unused variable %r* ( dont care if x,y,z = f() and y,z is not used) 
+# W0212: *Access to a protected member %s of a client class*  (if sucks, but we do that a lot)
+# W0613: *Unused argument %r* 
+# W0602: *Using global for %r but no assigment is done*
+# W0511:  Used when a warning note as FIXME or XXX is detected
+# W0401: *Wildcard import %s*
+# W0614: *Unused import %s from wildcard import*
+# W0232: *Class has no __init__ method*
+# W0201: *Attribute %r defined outside __init__*
+# W0603: *Using the global statement*
+# W0621: *Redefining name %r from outer scope (line %s)*
+# W0142: *Used * or ** magic*
+# W0102: *Dangerous default value %s as argument*
+# W0105: *String statement has no effect*
+# W0702: *No exception type(s) specified*
+# W0231: *__init__ method from base class %r is not called*
+# E0202: *An attribute inherited from %s hide this method*
+# W0622: *Redefining built-in %r*
+# W0403: *Relative import %r*
+# W0223: *Method %r is abstract in class %r but is not overridden*
+# W0104: *Statement seems to have no effect*
+# W1001: *Use of "property" on an old style class*
+# W0221: *Arguments number differs from %s method*
+# W0703: *Catch "Exception"*
+# W1010: *Exception doesn't inherit from standard "Exception" class* (give false positives on ex. KeyboardInterrupt)
+# W0631: *Using possibly undefined loop variable %r* (Gives to many false positives)
+disable-msg=E1101,F0401,W0704,W0612,W0212,W0613,W0602,W0511,W0401,W0614,W0232,W0201,W0603,W0621,W0142,W0102,W0105,W0702,W0231,E0202,W0622,W0403,W0223,W0104,W1001,W0221,W0703,W1010,W0631
+
+
+[REPORTS]
+
+# set the output format. Available formats are text, parseable, colorized, msvs
+# (visual studio) and html
+output-format=text
+
+# Include message's id in output
+include-ids=yes
+
+# Put messages in a separate file for each module / package specified on the
+# command line instead of printing them on stdout. Reports (if any) will be
+# written in a file name "pylint_global.[txt|html]".
+files-output=no
+
+# Tells wether to display a full report or only the messages
+reports=yes
+
+# Python expression which should return a note less than 10 (10 is the highest
+# note).You have access to the variables errors warning, statement which
+# respectivly contain the number of errors / warnings messages and the total
+# number of statements analyzed. This is used by the global evaluation report
+# (R0004).
+evaluation=10.0 - ((float(5 * error + warning + refactor + convention) / statement) * 10)
+
+# Add a comment according to your evaluation note. This is used by the global
+# evaluation report (R0004).
+comment=no
+
+# Enable the report(s) with the given id(s).
+#enable-report=
+
+# Disable the report(s) with the given id(s).
+#disable-report=
+
+
+# checks for :
+# * doc strings
+# * modules / classes / functions / methods / arguments / variables name
+# * number of arguments, local variables, branchs, returns and statements in
+# functions, methods
+# * required module attributes
+# * dangerous default values as arguments
+# * redefinition of function / method / class
+# * uses of the global statement
+# 
+[BASIC]
+
+# Required attributes for module, separated by a comma
+required-attributes=
+
+# Regular expression which should only match functions or classes name which do
+# not require a docstring
+no-docstring-rgx=__.*__
+
+# Regular expression which should only match correct module names
+module-rgx=(([a-z_][a-z0-9_\-]*)|([A-Z][a-zA-Z0-9]+))$
+
+# Regular expression which should only match correct module level names
+const-rgx=(([A-Z_a-z][A-Z1-9_a-z]*)|(__.*__))$
+
+# Regular expression which should only match correct class names
+class-rgx=[A-Z_][a-zA-Z0-9]+$
+
+# Regular expression which should only match correct function names
+function-rgx=[a-z_][a-z0-9_A-Z]{2,30}$
+
+# Regular expression which should only match correct method names
+method-rgx=[a-z_][a-z0-9_A-Z]{2,30}$
+
+# Regular expression which should only match correct instance attribute names
+attr-rgx=[a-z_][a-z0-9_A-Z]{2,30}$
+
+# Regular expression which should only match correct argument names
+argument-rgx=[a-z_][a-z0-9_A-Z]{0,30}$
+
+# Regular expression which should only match correct variable names
+variable-rgx=[a-z_][a-z0-9_A-Z]{0,30}$
+
+# Regular expression which should only match correct list comprehension /
+# generator expression variable names
+inlinevar-rgx=[A-Za-z_][A-Za-z0-9_]*$
+
+# Good variable names which should always be accepted, separated by a comma
+good-names=i,j,k,ex,Run,_,n,e,r,v,a,po,f,m,u,h,l
+
+# Bad variable names which should always be refused, separated by a comma
+bad-names=foo,bar,baz,toto,tutu,tata
+
+# List of builtins function names that should not be used, separated by a comma
+bad-functions=input
+
+
+# checks for
+# * unused variables / imports
+# * undefined variables
+# * redefinition of variable from builtins or from an outer scope
+# * use of variable before assigment
+# 
+[VARIABLES]
+
+# Tells wether we should check for unused import in __init__ files.
+init-import=no
+
+# A regular expression matching names used for dummy variables (i.e. not used).
+dummy-variables-rgx=_|dummy
+
+# List of additional names supposed to be defined in builtins. Remember that
+# you should avoid to define new builtins when possible.
+additional-builtins=
+
+
+# try to find bugs in the code using type inference
+# 
+[TYPECHECK]
+
+# Tells wether missing members accessed in mixin class should be ignored. A
+# mixin class is detected if its name ends with "mixin" (case insensitive).
+ignore-mixin-members=yes
+
+# List of classes names for which member attributes should not be checked
+# (useful for classes with attributes dynamicaly set).
+ignored-classes=SQLObject,NullTranslations
+
+# When zope mode is activated, consider the acquired-members option to ignore
+# access to some undefined attributes.
+zope=no
+
+# List of members which are usually get through zope's acquisition mecanism and
+# so shouldn't trigger E0201 when accessed (need zope=yes to be considered).
+acquired-members=REQUEST,acl_users,aq_parent
+
+
+# checks for
+# * external modules dependencies
+# * relative / wildcard imports
+# * cyclic imports
+# * uses of deprecated modules
+# 
+[IMPORTS]
+
+# Deprecated modules which should not be used, separated by a comma
+deprecated-modules=regsub,TERMIOS,Bastion,rexec
+
+# Create a graph of every (i.e. internal and external) dependencies in the
+# given file (report R0402 must not be disabled)
+import-graph=
+
+# Create a graph of external dependencies in the given file (report R0402 must
+# not be disabled)
+ext-import-graph=
+
+# Create a graph of internal dependencies in the given file (report R0402 must
+# not be disabled)
+int-import-graph=
+
+
+# checks for :
+# * methods without self as first argument
+# * overridden methods signature
+# * access only to existant members via self
+# * attributes not defined in the __init__ method
+# * supported interfaces implementation
+# * unreachable code
+# 
+[CLASSES]
+
+# List of interface methods to ignore, separated by a comma. This is used for
+# instance to not check methods defines in Zope's Interface base class.
+ignore-iface-methods=interrupt_callback
+
+# List of method names used to declare (i.e. assign) instance attributes.
+defining-attr-methods=__init__,__new__,setUp
+
+
+# checks for sign of poor/misdesign:
+# * number of methods, attributes, local variables...
+# * size, complexity of functions, methods
+# 
+[DESIGN]
+
+# Maximum number of arguments for function / method
+max-args=5
+
+# Maximum number of locals for function / method body
+max-locals=30
+
+# Maximum number of return / yield for function / method body
+max-returns=10
+
+# Maximum number of branch for function / method body
+max-branchs=25
+
+# Maximum number of statements in function / method body
+max-statements=100
+
+# Maximum number of parents for a class (see R0901).
+max-parents=7
+
+# Maximum number of attributes for a class (see R0902).
+max-attributes=7
+
+# Minimum number of public methods for a class (see R0903).
+min-public-methods=2
+
+# Maximum number of public methods for a class (see R0904).
+max-public-methods=100
+
+
+# checks for :
+# * unauthorized constructions
+# * strict indentation
+# * line length
+# * use of <> instead of !=
+# 
+[FORMAT]
+
+# Maximum number of characters on a single line.
+max-line-length=80
+
+# Maximum number of lines in a module
+max-module-lines=1000
+
+# String used as indentation unit. This is usually " " (4 spaces) or "\t" (1
+# tab).
+indent-string='    '
+
+
+# checks for similarities and duplicated code. This computation may be
+# memory / CPU intensive, so you should disable it if you experiments some
+# problems.
+# 
+[SIMILARITIES]
+
+# Minimum lines number of a similarity.
+min-similarity-lines=4
+
+# Ignore comments when computing similarities.
+ignore-comments=yes
+
+# Ignore docstrings when computing similarities.
+ignore-docstrings=yes
+
+
+# checks for:
+# * warning notes in the code like FIXME, XXX
+# * PEP 263: source code with non ascii character but no encoding declaration
+# 
+[MISCELLANEOUS]
+
+# List of note tags to take in consideration, separated by a comma.
+notes=FIXME,XXX,TODO
diff --git a/utils.py b/utils.py
index ab99a4c..5456c68 100644
--- a/utils.py
+++ b/utils.py
@@ -19,19 +19,27 @@ import time
 import yum
 from cli import *
 from yum import _
+from optparse import OptionGroup
 
 import yum.plugins as plugins
 
 class YumUtilBase(YumBaseCli):
     def __init__(self,name,ver,usage):
         YumBaseCli.__init__(self)
-        self._parser = YumOptionParser(base=self,usage=usage)
+        self._parser = YumOptionParser(base=self,utils=True,usage=usage)
         self._usage = usage
         self._utilName = name
         self._utilVer = ver
+        self._option_group = OptionGroup(self._parser, "%s options" % self._utilName,"")
+        self._parser.add_option_group(self._option_group)
+
         
     def getOptionParser(self):
         return self._parser        
+
+    def getOptionGroup(self):
+        """ Get an option group to add non inherited options"""
+        return self._option_group    
     
     def waitForLock(self):
         lockerr = ""
diff --git a/yum-updatesd.py b/yum-updatesd.py
index ac05f2b..f96940c 100644
--- a/yum-updatesd.py
+++ b/yum-updatesd.py
@@ -28,7 +28,6 @@
 # $ dbus-send --system --print-reply --type=method_call \
 #   --dest=edu.duke.linux.yum /Updatesd edu.duke.linux.yum.CheckNow
 
-import gettext
 import os
 import sys
 import time
@@ -40,7 +39,7 @@ import gobject
 import smtplib
 import threading
 from optparse import OptionParser
-from email.MIMEText import MIMEText
+from email.mime.text import MIMEText
 
 
 
@@ -84,8 +83,8 @@ class UpdateEmitter(object):
         pass
 
     def setupFailed(self, error, translation_domain):
-       """Emitted when plugin initialization failed."""
-       pass
+        """Emitted when plugin initialization failed."""
+        pass
  
 
 class SyslogUpdateEmitter(UpdateEmitter):
diff --git a/yum.spec b/yum.spec
index 0208cf1..f260ba9 100644
--- a/yum.spec
+++ b/yum.spec
@@ -22,6 +22,8 @@ Requires: pygpgme
 Prereq: /sbin/chkconfig, /sbin/service, coreutils
 Conflicts: yum-skip-broken
 Obsoletes: yum-basearchonly
+Obsoletes: yum-allow-downgrade < 1.1.20-0
+Obsoletes: yum-plugin-allow-downgrade < 1.1.22-0
 
 %description
 Yum is a utility that can check for and automatically download and
diff --git a/yum/Errors.py b/yum/Errors.py
index de777a6..322765e 100644
--- a/yum/Errors.py
+++ b/yum/Errors.py
@@ -86,6 +86,9 @@ class RemoveError(YumBaseError):
 class ReinstallError(YumBaseError):
     pass
 
+class DowngradeError(YumBaseError):
+    pass
+
 class RepoMDError(YumBaseError):
     pass
 
diff --git a/yum/__init__.py b/yum/__init__.py
index d71b2f3..94fb2c6 100644
--- a/yum/__init__.py
+++ b/yum/__init__.py
@@ -65,10 +65,10 @@ import callbacks
 import warnings
 warnings.simplefilter("ignore", Errors.YumFutureDeprecationWarning)
 
-from packages import parsePackages, YumAvailablePackage, YumLocalPackage, YumInstalledPackage
+from packages import parsePackages, YumAvailablePackage, YumLocalPackage, YumInstalledPackage, comparePoEVR
 from constants import *
 from yum.rpmtrans import RPMTransaction,SimpleCliCallBack
-from misc import to_unicode
+from yum.i18n import to_unicode
 
 import string
 
@@ -305,7 +305,7 @@ class YumBase(depsolve.Depsolve):
 
             if bad:
                 self.logger.warning("Bad id for repo: %s, byte = %s %d" %
-                                    (section, bad, section.find(byte)))
+                                    (section, bad, section.find(bad)))
                 continue
 
             try:
@@ -1565,7 +1565,7 @@ class YumBase(depsolve.Depsolve):
             ndinst = {} # Newest versions by name.arch
             for po in self.rpmdb.returnPackages(patterns=patterns,
                                                 ignore_case=ic):
-                dinst[po.pkgtup] = po;
+                dinst[po.pkgtup] = po
                 if showdups:
                     continue
                 key = (po.name, po.arch)
@@ -1578,10 +1578,10 @@ class YumBase(depsolve.Depsolve):
                                                     ignore_case=ic)
             else:
                 try:
-                  avail = self.pkgSack.returnNewestByNameArch(patterns=patterns,
+                    avail = self.pkgSack.returnNewestByNameArch(patterns=patterns,
                                                               ignore_case=ic)
                 except Errors.PackageSackError:
-                  avail = []
+                    avail = []
             
             for pkg in avail:
                 if showdups:
@@ -1627,10 +1627,10 @@ class YumBase(depsolve.Depsolve):
                                                     ignore_case=ic)
             else:
                 try:
-                  avail = self.pkgSack.returnNewestByNameArch(patterns=patterns,
+                    avail = self.pkgSack.returnNewestByNameArch(patterns=patterns,
                                                               ignore_case=ic)
                 except Errors.PackageSackError:
-                  avail = []
+                    avail = []
             
             for pkg in avail:
                 if showdups:
@@ -1683,10 +1683,10 @@ class YumBase(depsolve.Depsolve):
                                                     ignore_case=ic)
             else:
                 try:
-                  avail = self.pkgSack.returnNewestByNameArch(patterns=patterns,
+                    avail = self.pkgSack.returnNewestByNameArch(patterns=patterns,
                                                               ignore_case=ic)
                 except Errors.PackageSackError:
-                  avail = []
+                    avail = []
             
             for po in avail:
                 ftime = int(po.filetime)
@@ -1860,7 +1860,10 @@ class YumBase(depsolve.Depsolve):
                     canBeFile = True
             else:
                 isglob = True
-                canBeFile = True
+                if arg[0] != '/' and not misc.re_glob(arg[0]):
+                    canBeFile = False
+                else:
+                    canBeFile = True
                 
             if not isglob:
                 usedDepString = True
@@ -1883,7 +1886,7 @@ class YumBase(depsolve.Depsolve):
                     # then it is not a globbed file we have matched it precisely
                     tmpvalues.append(arg)
                     
-                if isglob:
+                if isglob and canBeFile:
                     self.verbose_logger.log(logginglevels.DEBUG_2,
                         _('searching in file entries'))
                     for thisfile in po.dirlist + po.filelist + po.ghostlist:
@@ -2185,7 +2188,6 @@ class YumBase(depsolve.Depsolve):
 
         if len(pkgs) == 0:
             raise Errors.DepError, _('Package tuple %s could not be found in packagesack') % str(pkgtup)
-            return None
             
         if len(pkgs) > 1: # boy it'd be nice to do something smarter here FIXME
             result = pkgs[0]
@@ -2241,18 +2243,22 @@ class YumBase(depsolve.Depsolve):
         #  either it is 'dep (some operator) e:v-r'
         #  or /file/dep
         #  or packagename
-        depname = depstring
-        depflags = None
-        depver = None
-        
-        if depstring[0] != '/':
-            # not a file dep - look at it for being versioned
-            dep_split = depstring.split()
-            if len(dep_split) == 3:
-                depname, flagsymbol, depver = dep_split
-                if not flagsymbol in SYMBOLFLAGS:
-                    raise Errors.YumBaseError, _('Invalid version flag')
-                depflags = SYMBOLFLAGS[flagsymbol]
+        # or a full dep tuple
+        if type(depstring) == types.TupleType:
+            (depname, depflags, depver) = depstring
+        else:
+            depname = depstring
+            depflags = None
+            depver = None
+        
+            if depstring[0] != '/':
+                # not a file dep - look at it for being versioned
+                dep_split = depstring.split()
+                if len(dep_split) == 3:
+                    depname, flagsymbol, depver = dep_split
+                    if not flagsymbol in SYMBOLFLAGS:
+                        raise Errors.YumBaseError, _('Invalid version flag')
+                    depflags = SYMBOLFLAGS[flagsymbol]
                 
         sack = self.whatProvides(depname, depflags, depver)
         results = sack.returnPackages()
@@ -2282,18 +2288,21 @@ class YumBase(depsolve.Depsolve):
         #  either it is 'dep (some operator) e:v-r'
         #  or /file/dep
         #  or packagename
-        depname = depstring
-        depflags = None
-        depver = None
-        
-        if depstring[0] != '/':
-            # not a file dep - look at it for being versioned
-            dep_split = depstring.split()
-            if len(dep_split) == 3:
-                depname, flagsymbol, depver = dep_split
-                if not flagsymbol in SYMBOLFLAGS:
-                    raise Errors.YumBaseError, _('Invalid version flag')
-                depflags = SYMBOLFLAGS[flagsymbol]
+        if type(depstring) == types.TupleType:
+            (depname, depflags, depver) = depstring
+        else:
+            depname = depstring
+            depflags = None
+            depver = None
+            
+            if depstring[0] != '/':
+                # not a file dep - look at it for being versioned
+                dep_split = depstring.split()
+                if len(dep_split) == 3:
+                    depname, flagsymbol, depver = dep_split
+                    if not flagsymbol in SYMBOLFLAGS:
+                        raise Errors.YumBaseError, _('Invalid version flag')
+                    depflags = SYMBOLFLAGS[flagsymbol]
 
         return self.rpmdb.getProvides(depname, depflags, depver).keys()
 
@@ -2425,6 +2434,21 @@ class YumBase(depsolve.Depsolve):
             tx_return.extend(txmbrs)
         return tx_return
 
+    #  Note that this returns available pkgs, and not txmbrs like the other
+    # _at_group* functions.
+    def _at_groupdowngrade(self, pattern):
+        " Do downgrade of a group via. leading @ on the cmd line."
+        assert pattern[0] == '@'
+        grpid = pattern[1:]
+
+        thesegroups = self.comps.return_groups(grpid)
+        if not thesegroups:
+            raise Errors.GroupsError, _("No Group named %s exists") % grpid
+        pkgnames = set()
+        for thisgroup in thesegroups:
+            pkgnames.update(thisgroup.packages)
+        return self.pkgSack.searchNames(pkgnames)
+
     def _find_obsoletees(self, po):
         """ Return the pkgs. that are obsoleted by the po we pass in. """
         for (obstup, inst_tup) in self.up.getObsoletersTuples(name=po.name):
@@ -2432,6 +2456,11 @@ class YumBase(depsolve.Depsolve):
                 installed_pkg =  self.rpmdb.searchPkgTuple(inst_tup)[0]
                 yield installed_pkg
 
+    def _add_prob_flags(self, *flags):
+        """ Add all of the passed flags to the tsInfo.probFilterFlags array. """
+        for flag in flags:
+            if flag not in self.tsInfo.probFilterFlags:
+                self.tsInfo.probFilterFlags.append(flag)
 
     def install(self, po=None, **kwargs):
         """try to mark for install the item specified. Uses provided package 
@@ -2501,23 +2530,23 @@ class YumBase(depsolve.Depsolve):
                 if rpmUtils.arch.isMultiLibArch():
                     if was_pattern or not nevra_dict['arch']: # and only if they
                                                               # they didn't specify an arch
-                       if self.conf.multilib_policy == 'best':
-                           pkgs_by_name = {}
-                           use = []
-                           not_added = []
-                           best = rpmUtils.arch.legitMultiArchesInSameLib()
-                           best.append('noarch')
-                           for pkg in pkgs:
-                               if pkg.arch in best:
-                                   pkgs_by_name[pkg.name] = 1    
-                                   use.append(pkg)  
-                               else:
-                                   not_added.append(pkg)
-                           for pkg in not_added:
-                               if not pkg.name in pkgs_by_name:
-                                   use.append(pkg)
+                        if self.conf.multilib_policy == 'best':
+                            pkgs_by_name = {}
+                            use = []
+                            not_added = []
+                            best = rpmUtils.arch.legitMultiArchesInSameLib()
+                            best.append('noarch')
+                            for pkg in pkgs:
+                                if pkg.arch in best:
+                                    pkgs_by_name[pkg.name] = 1    
+                                    use.append(pkg)  
+                                else:
+                                    not_added.append(pkg)
+                            for pkg in not_added:
+                                if not pkg.name in pkgs_by_name:
+                                    use.append(pkg)
                            
-                           pkgs = use
+                            pkgs = use
                            
                 pkgs = packagesNewestByNameArch(pkgs)
 
@@ -2533,6 +2562,7 @@ class YumBase(depsolve.Depsolve):
                     lst.extend(self.bestPackagesFromList(pkgs))
                 pkgs = lst
 
+
         if not pkgs:
             # Do we still want to return errors here?
             # We don't in the cases below, so I didn't here...
@@ -2545,8 +2575,8 @@ class YumBase(depsolve.Depsolve):
             # yum --disablerepo='*' install '*'
             # etc. ... see RHBZ#480402
             if False:
-              for pkg in pkgs:
-                self.verbose_logger.warning(_('Package %s installed and not available'), pkg)
+                for pkg in pkgs:
+                    self.verbose_logger.warning(_('Package %s installed and not available'), pkg)
             if pkgs:
                 return []
             raise Errors.InstallError, _('No package(s) available to install')
@@ -2589,8 +2619,15 @@ class YumBase(depsolve.Depsolve):
 
             # make sure we don't have a name.arch of this already installed
             # if so pass it to update b/c it should be able to figure it out
-            if self.rpmdb.contains(name=po.name, arch=po.arch) and not self.allowedMultipleInstalls(po):
-                if not self.tsInfo.getMembersWithState(po.pkgtup, TS_REMOVE_STATES):
+            # if self.rpmdb.contains(name=po.name, arch=po.arch) and not self.allowedMultipleInstalls(po):
+            if not self.allowedMultipleInstalls(po):
+                found = True
+                for ipkg in self.rpmdb.searchNevra(name=po.name, arch=po.arch):
+                    found = False
+                    if self.tsInfo.getMembersWithState(ipkg.pkgtup, TS_REMOVE_STATES):
+                        found = True
+                        break
+                if not found:
                     self.verbose_logger.warning(_('Package matching %s already installed. Checking for update.'), po)            
                     txmbrs = self.update(po=po)
                     tx_return.extend(txmbrs)
@@ -2602,8 +2639,13 @@ class YumBase(depsolve.Depsolve):
             # or some other oddity. If it is - then modify the problem filter to cope
             
             for ipkg in self.rpmdb.searchNevra(name=po.name, arch=po.arch):
-                if ipkg.EVR > po.EVR:
-                    self.tsInfo.probFilterFlags.append(rpm.RPMPROB_FILTER_OLDPACKAGE)
+                if ipkg.verEQ(po):
+                    self._add_prob_flags(rpm.RPMPROB_FILTER_REPLACEPKG,
+                                         rpm.RPMPROB_FILTER_REPLACENEWFILES,
+                                         rpm.RPMPROB_FILTER_REPLACEOLDFILES)
+                    break
+                if ipkg.verGT(po):
+                    self._add_prob_flags(rpm.RPMPROB_FILTER_OLDPACKAGE)
                     break
             
             # it doesn't obsolete anything. If it does, mark that in the tsInfo, too
@@ -2984,20 +3026,22 @@ class YumBase(depsolve.Depsolve):
                     installpkgs.append(po)
                 else:
                     donothingpkgs.append(po)
+            elif self.allowedMultipleInstalls(po):
+                installpkgs.append(po)
             else:
                 donothingpkgs.append(po)
 
         # handle excludes for a localinstall
         toexc = []
         if len(self.conf.exclude) > 0:
-           exactmatch, matched, unmatched = \
+            exactmatch, matched, unmatched = \
                    parsePackages(installpkgs + map(lambda x: x[0], updatepkgs),
                                  self.conf.exclude, casematch=1)
-           toexc = exactmatch + matched
+            toexc = exactmatch + matched
 
         if po in toexc:
-           self.verbose_logger.debug(_('Excluding %s'), po)
-           return tx_return
+            self.verbose_logger.debug(_('Excluding %s'), po)
+            return tx_return
 
         for po in installpkgs:
             self.verbose_logger.log(logginglevels.INFO_2,
@@ -3022,12 +3066,9 @@ class YumBase(depsolve.Depsolve):
         """Setup the problem filters to allow a reinstall to work, then
            pass everything off to install"""
            
-        if rpm.RPMPROB_FILTER_REPLACEPKG not in self.tsInfo.probFilterFlags:
-            self.tsInfo.probFilterFlags.append(rpm.RPMPROB_FILTER_REPLACEPKG)
-        if rpm.RPMPROB_FILTER_REPLACENEWFILES not in self.tsInfo.probFilterFlags:
-            self.tsInfo.probFilterFlags.append(rpm.RPMPROB_FILTER_REPLACENEWFILES)
-        if rpm.RPMPROB_FILTER_REPLACEOLDFILES not in self.tsInfo.probFilterFlags:
-            self.tsInfo.probFilterFlags.append(rpm.RPMPROB_FILTER_REPLACEOLDFILES)
+        self._add_prob_flags(rpm.RPMPROB_FILTER_REPLACEPKG,
+                             rpm.RPMPROB_FILTER_REPLACENEWFILES,
+                             rpm.RPMPROB_FILTER_REPLACEOLDFILES)
 
         tx_mbrs = []
         tx_mbrs.extend(self.remove(po, **kwargs))
@@ -3059,12 +3100,129 @@ class YumBase(depsolve.Depsolve):
         tx_mbrs.extend(new_members)
         return tx_mbrs
         
+    def downgrade(self, po=None, **kwargs):
+        """ Try to downgrade a package. Works like:
+            % yum shell <<EOL
+            remove  abcd
+            install abcd-<old-version>
+            run
+            EOL """
+
+        if not po and not kwargs:
+            raise Errors.DowngradeError, 'Nothing specified to remove'
 
+        doing_group_pkgs = False
+        if po:
+            apkgs = [po]
+        elif 'pattern' in kwargs:
+            if kwargs['pattern'][0] == '@':
+                apkgs = self._at_groupdowngrade(kwargs['pattern'])
+                doing_group_pkgs = True # Don't warn. about some things
+            else:
+                apkgs = self.pkgSack.returnPackages(patterns=[kwargs['pattern']],
+                                                   ignore_case=False)
+                if not apkgs:
+                    arg = kwargs['pattern']
+                    self.verbose_logger.debug(_('Checking for virtual provide or file-provide for %s'), 
+                        arg)
+
+                    try:
+                        apkgs = self.returnPackagesByDep(arg)
+                    except yum.Errors.YumBaseError, e:
+                        self.logger.critical(_('No Match for argument: %s') % arg)
+
+        else:
+            nevra_dict = self._nevra_kwarg_parse(kwargs)
+            apkgs = self.pkgSack.searchNevra(name=nevra_dict['name'], 
+                                             epoch=nevra_dict['epoch'],
+                                             arch=nevra_dict['arch'], 
+                                             ver=nevra_dict['version'],
+                                             rel=nevra_dict['release'])
+        if not apkgs:
+            # Do we still want to return errors here?
+            # We don't in the cases below, so I didn't here...
+            if 'pattern' in kwargs:
+                pkgs = self.rpmdb.returnPackages(patterns=[kwargs['pattern']],
+                                                 ignore_case=False)
+            if 'name' in kwargs:
+                pkgs = self.rpmdb.searchNevra(name=kwargs['name'])
+            if pkgs:
+                return []
+            raise Errors.DowngradeError, _('No package(s) available to downgrade')
+
+        warned_names = set()
+        # Skip kernel etc.
+        tapkgs = []
+        for pkg in apkgs:
+            if self.allowedMultipleInstalls(pkg):
+                if pkg.name not in warned_names:
+                    msg = _("Package %s is allowed multiple installs, skipping") % pkg
+                    self.verbose_logger.log(logginglevels.INFO_2, msg)
+                warned_names.add(pkg.name)
+                continue
+            tapkgs.append(pkg)
+        apkgs = tapkgs
+
+        # Find installed versions of "to downgrade pkgs"
+        apkg_names = set()
+        for pkg in apkgs:
+            apkg_names.add(pkg.name)
+        ipkgs = self.rpmdb.searchNames(list(apkg_names))
+
+        latest_installed = {}
+        for pkg in ipkgs:
+            latest_installed[pkg.name] = pkg
+
+        #  Find "latest downgrade", ie. latest available pkg before
+        # installed version.
+        downgrade_apkgs = {}
+        for pkg in sorted(apkgs):
+            if pkg.name not in latest_installed:
+                if pkg.name not in warned_names and not doing_group_pkgs:
+                    msg = _('No Match for available package: %s') % pkg
+                    self.logger.critical(msg)
+                warned_names.add(pkg.name)
+                continue
+            if pkg.verGE(latest_installed[pkg.name]):
+                if pkg.name not in warned_names:
+                    msg = _('Only Upgrade available on package: %s') % pkg
+                    self.logger.critical(msg)
+                warned_names.add(pkg.name)
+                continue
+            warned_names.add(pkg.name)
+            if (pkg.name in downgrade_apkgs and
+                pkg.verLE(downgrade_apkgs[pkg.name])):
+                continue # Skip older than "latest downgrade"
+            downgrade_apkgs[pkg.name] = pkg
+
+        tx_return = []
+        for po in ipkgs:
+            if po.name not in downgrade_apkgs:
+                continue
+            itxmbr = self.tsInfo.addErase(po)
+            atxmbr = self.tsInfo.addInstall(downgrade_apkgs[po.name])
+            if not atxmbr: # Fail?
+                self.tsInfo.remove(itxmbr.pkgtup)
+                continue
+            self._add_prob_flags(rpm.RPMPROB_FILTER_OLDPACKAGE)
+            tx_return.append(itxmbr)
+            tx_return.append(atxmbr)
+
+        return tx_return
         
     def _nevra_kwarg_parse(self, kwargs):
             
         returndict = {}
         
+        if 'pkgtup' in kwargs:
+            (n, a, e, v, r) = kwargs['pkgtup']
+            returndict['name'] = n
+            returndict['epoch'] = e
+            returndict['arch'] = a
+            returndict['version'] = v
+            returndict['release'] = r
+            return returndict
+
         returndict['name'] = kwargs.get('name')
         returndict['epoch'] = kwargs.get('epoch')
         returndict['arch'] = kwargs.get('arch')
@@ -3270,7 +3428,7 @@ class YumBase(depsolve.Depsolve):
                     installed = self.rpmdb.searchNevra(name=m.name)
                     if len(installed) >= self.conf.installonly_limit - 1: # since we're adding one
                         numleft = len(installed) - self.conf.installonly_limit + 1
-                        installed.sort(packages.comparePoEVR)
+                        installed.sort(comparePoEVR)
                         for po in installed:
                             if (po.version, po.release) == (cur_kernel_v, cur_kernel_r): 
                                 # don't remove running
@@ -3349,7 +3507,7 @@ class YumBase(depsolve.Depsolve):
                 # Verified ok, or verify not req'd
                 continue            
             elif result == 1:
-               self.getKeyForPackage(po, self._askForGPGKeyImport)
+                self.getKeyForPackage(po, self._askForGPGKeyImport)
             else:
                 raise Errors.YumGPGCheckError, errmsg
 
@@ -3398,7 +3556,7 @@ class YumBase(depsolve.Depsolve):
         if len( tserrors ) > 0:
             errstring =  _('Test Transaction Errors: ')
             for descr in tserrors:
-                 errstring += '  %s\n' % descr 
+                errstring += '  %s\n' % descr 
             raise Errors.YumTestTransactionError, errstring
 
         del self.ts
diff --git a/yum/comps.py b/yum/comps.py
index ac20652..2048c77 100755
--- a/yum/comps.py
+++ b/yum/comps.py
@@ -26,7 +26,8 @@ from Errors import CompsException
 # switch all compsexceptions to grouperrors after api break
 import fnmatch
 import re
-from yum.misc import to_unicode, get_my_lang_code
+from yum.i18n import to_unicode
+from misc import get_my_lang_code
 
 lang_attr = '{http://www.w3.org/XML/1998/namespace}lang'
 
@@ -517,7 +518,6 @@ class Comps(object):
                     self.add_category(category)
         except SyntaxError, e:
             raise CompsException, "comps file is empty/damaged"
-            del parser
             
         del parser
         
diff --git a/yum/depsolve.py b/yum/depsolve.py
index 2061376..fdf48a3 100644
--- a/yum/depsolve.py
+++ b/yum/depsolve.py
@@ -45,14 +45,14 @@ try:
     assert max(2, 4) == 4
 except:
     # Python-2.4.x doesn't have min/max ... *sigh*
-        def min(x, *args): 
-            for y in args:
-                if x > y: x = y
-            return x
-        def max(x, *args):
-            for y in args:
-                if x < y: x = y
-            return x
+    def min(x, *args): 
+        for y in args:
+            if x > y: x = y
+        return x
+    def max(x, *args):
+        for y in args:
+            if x < y: x = y
+        return x
 flags = {"GT": rpm.RPMSENSE_GREATER,
          "GE": rpm.RPMSENSE_EQUAL | rpm.RPMSENSE_GREATER,
          "LT": rpm.RPMSENSE_LESS,
diff --git a/yum/i18n.py b/yum/i18n.py
index 1a3d204..24c9825 100755
--- a/yum/i18n.py
+++ b/yum/i18n.py
@@ -72,13 +72,13 @@ def __utf8_bisearch(ucs, table):
         return False
 
     while max >= min:
-        mid = (min + max) / 2;
+        mid = (min + max) / 2
         if ucs > table[mid][1]:
-            min = mid + 1;
+            min = mid + 1
         elif ucs < table[mid][0]:
-            max = mid - 1;
+            max = mid - 1
         else:
-          return True
+            return True
 
     return False
 
@@ -294,6 +294,30 @@ def utf8_valid(msg):
             return False
     return True
 
+def _utf8_width_le(width, *args):
+    """ Minor speed hack, we often want to know "does X fit in Y". It takes
+        "a while" to work out a utf8_width() (see above), and we know that a
+        utf8 character is always <= byte. So given:
+
+        assert bytes >= characters
+        characters <= width?
+
+        ...we can change to:
+
+        bytes <= width or characters <= width
+
+        ...and bytes are much faster. """
+    # This assumes that all args. are utf8.
+    ret = 0
+    for arg in args:
+        ret += len(arg)
+    if ret <= width:
+        return True
+    ret = 0
+    for arg in args:
+        ret += utf8_width(arg)
+    return ret <= width
+
 def utf8_text_wrap(text, width=70, initial_indent='', subsequent_indent=''):
     """ Works like we want textwrap.wrap() to work, uses utf-8 data and
         doesn't screw up lists/blocks/etc. """
@@ -320,6 +344,8 @@ def utf8_text_wrap(text, width=70, initial_indent='', subsequent_indent=''):
             if byte != ' ':
                 break
             count += 1
+        if byte not in ("-", "*", ".", "o", '\xe2'):
+            return count, 0
         list_chr = utf8_width_chop(line[count:], 1)[1]
         if list_chr in ("-", "*", ".", "o",
                         "\xe2\x80\xa2", "\xe2\x80\xa3", "\xe2\x88\x98"):
@@ -362,7 +388,7 @@ def utf8_text_wrap(text, width=70, initial_indent='', subsequent_indent=''):
             line = line.lstrip(' ')
             cspc_indent = lspc_indent
 
-        if (utf8_width(indent) + utf8_width(line)) <= width:
+        if _utf8_width_le(width, indent, line):
             wrap_last = False
             ret.append(indent + line)
             indent = subsequent_indent
@@ -374,9 +400,9 @@ def utf8_text_wrap(text, width=70, initial_indent='', subsequent_indent=''):
         spcs = cspc_indent
         if not spcs and csab >= 4:
             spcs = csab
-        while words:
-            word = words.pop(0)
-            if (utf8_width(line) + utf8_width(word)) > width:
+        for word in words:
+            if (not _utf8_width_le(width, line, word) and
+                utf8_width(line) > utf8_width(subsequent_indent)):
                 ret.append(line.rstrip(' '))
                 line = subsequent_indent + ' ' * spcs
             line += word
diff --git a/yum/mdparser.py b/yum/mdparser.py
index e668744..c74608d 100644
--- a/yum/mdparser.py
+++ b/yum/mdparser.py
@@ -200,7 +200,6 @@ def test():
     for pkg in parser:
         print '-' * 40
         print pkg
-        pass
 
     print 'read: %s packages (%s suggested)' % (parser.count, parser.total)
 
diff --git a/yum/misc.py b/yum/misc.py
index e0d3388..6daf4f1 100644
--- a/yum/misc.py
+++ b/yum/misc.py
@@ -43,7 +43,10 @@ except ImportError:
             raise ValueError, "Bad checksum type"
 
 from Errors import MiscError
-from i18n import to_unicode, to_unicode_maybe, to_utf8, to_str
+# These are API things, so we can't remove them even if they aren't used here.
+# pylint: disable-msg=W0611
+from i18n import to_utf8, to_unicode
+# pylint: enable-msg=W0611
 
 _share_data_store   = {}
 _share_data_store_u = {}
@@ -308,8 +311,8 @@ def getFileList(path, ext, filelist):
             filelist = getFileList(path + '/' + d, ext, filelist)
         else:
             if d[-extlen:].lower() == '%s' % (ext):
-               newpath = os.path.normpath(path + '/' + d)
-               filelist.append(newpath)
+                newpath = os.path.normpath(path + '/' + d)
+                filelist.append(newpath)
                     
     return filelist
 
@@ -696,6 +699,7 @@ def seq_max_split(seq, max_entries):
     """ Given a seq, split into a list of lists of length max_entries each. """
     ret = []
     num = len(seq)
+    seq = list(seq) # Trying to use a set/etc. here is bad
     beg = 0
     while num > max_entries:
         end = beg + max_entries
diff --git a/yum/packageSack.py b/yum/packageSack.py
index bad2e62..f405217 100644
--- a/yum/packageSack.py
+++ b/yum/packageSack.py
@@ -609,7 +609,7 @@ class PackageSack(PackageSackBase):
         self._checkIndexes(failure='build')        
         returnList = []
         if name[0] == '/':
-             returnList.extend(self.searchFiles(name))
+            returnList.extend(self.searchFiles(name))
         if self.provides.has_key(name):
             returnList.extend(self.provides[name])
         return returnList
diff --git a/yum/packages.py b/yum/packages.py
index a7e81e6..f19b5f5 100644
--- a/yum/packages.py
+++ b/yum/packages.py
@@ -42,7 +42,6 @@ urlparse.uses_fragment.append("media")
 # For verify
 import pwd
 import grp
-import sys
 
 def comparePoEVR(po1, po2):
     """
@@ -522,6 +521,7 @@ class YumAvailablePackage(PackageObject, RpmBase):
         self.repo = repo
         self.state = None
         self._loadedfiles = False
+        self._verify_local_pkg_cache = None
 
         if pkgdict != None:
             self.importFromDict(pkgdict)
@@ -671,6 +671,21 @@ class YumAvailablePackage(PackageObject, RpmBase):
         """check the package checksum vs the localPkg
            return True if pkg is good, False if not"""
 
+        #  This is called a few times now, so we want some way to not have to
+        # read+checksum "large" datasets multiple times per. transaction.
+        try:
+            nst = os.stat(self.localPkg())
+        except OSError, e:
+            return False
+        if (hasattr(self, '_verify_local_pkg_cache') and
+            self._verify_local_pkg_cache):
+            ost = self._verify_local_pkg_cache
+            if (ost.st_ino   == nst.st_ino   and
+                ost.st_dev   == nst.st_dev   and
+                ost.st_mtime == nst.st_mtime and
+                ost.st_size  == nst.st_size):
+                return True
+
         (csum_type, csum) = self.returnIdSum()
         
         try:
@@ -681,6 +696,8 @@ class YumAvailablePackage(PackageObject, RpmBase):
         if filesum != csum:
             return False
         
+        self._verify_local_pkg_cache = nst
+
         return True
         
     def prcoPrintable(self, prcoTuple):
@@ -1076,6 +1093,9 @@ class YumHeaderPackage(YumAvailablePackage):
     def __getattr__(self, thing):
         #FIXME - if an error - return AttributeError, not KeyError 
         # ONLY FIX THIS AFTER THE API BREAK
+        if thing.startswith('__') and thing.endswith('__'):
+            if not hasattr(self, thing):
+                raise AttributeError, "%s has no attribute %s" % (self, thing)
         return self.hdr[thing]
 
     def doepoch(self):
@@ -1153,13 +1173,12 @@ class YumHeaderPackage(YumAvailablePackage):
            is a pre-requires or a not"""
         # FIXME this should probably be put in rpmUtils.miscutils since 
         # - that's what it is
-        newflag = flag
         if flag is not None:
-            newflag = flag & rpm.RPMSENSE_PREREQ
-            if newflag == rpm.RPMSENSE_PREREQ:
+            # Note: RPMSENSE_PREREQ == 0 since rpm-4.4'ish
+            if flag & (rpm.RPMSENSE_PREREQ |
+                       rpm.RPMSENSE_SCRIPT_PRE |
+                       rpm.RPMSENSE_SCRIPT_POST):
                 return 1
-            else:
-                return 0
         return 0
 
     def _requires_with_pre(self):
diff --git a/yum/pgpmsg.py b/yum/pgpmsg.py
index 04ab346..2d9e7d9 100644
--- a/yum/pgpmsg.py
+++ b/yum/pgpmsg.py
@@ -449,7 +449,7 @@ class public_key(pgp_packet) :
         idx_save = idx
         self.version, idx = get_whole_int(msg, idx, 1)
         if self.version != 2 and self.version != 3 and self.version != 4 :
-            raise 'unknown public key packet version %d at %d' % (self.version, idx_save)
+            raise RuntimeError('unknown public key packet version %d at %d' % (self.version, idx_save))
         if self.version == 2 : # map v2 into v3 for coding simplicity since they're structurally the same
             self.version = 3
         self.timestamp, idx = get_whole_number(msg, idx, 4)
@@ -471,7 +471,7 @@ class public_key(pgp_packet) :
             self.pk_elgamal_grp_gen_g, idx = get_mpi(msg, idx)
             self.pk_elgamal_pub_key, idx = get_mpi(msg, idx)
         else :
-            raise "unknown public key algorithm %d at %d" % (self.pk_algo, idx_save)
+            raise RuntimeError("unknown public key algorithm %d at %d" % (self.pk_algo, idx_save))
 
     def __str__(self) :
         sio = cStringIO.StringIO()
@@ -746,7 +746,7 @@ class signature(pgp_packet) :
                 sp, idx = self.deserialize_subpacket(msg, idx)
                 self.unhashed_subpaks.append(sp)
         else :
-            raise 'unknown signature packet version %d at %d' % (self.version, idx)
+            raise RuntimeError('unknown signature packet version %d at %d' % (self.version, idx))
         self.hash_frag, idx = get_whole_number(msg, idx, 2)
         if self.pk_algo == ALGO_PK_RSA_ENC_OR_SIGN or self.pk_algo == ALGO_PK_RSA_SIGN_ONLY :
             self.rsa_sig, idx = get_mpi(msg, idx)
@@ -754,7 +754,7 @@ class signature(pgp_packet) :
             self.dsa_sig_r, idx = get_mpi(msg, idx)
             self.dsa_sig_s, idx = get_mpi(msg, idx)
         else :
-            raise 'unknown public-key algorithm (%d) in signature at %d' % (self.pk_algo, idx)
+            raise RuntimeError('unknown public-key algorithm (%d) in signature at %d' % (self.pk_algo, idx))
         return idx
 
     def __str__(self) :
@@ -1079,7 +1079,7 @@ def decode(msg) :
             if debug :
                 debug.write(pkt.__str__() + "\n")
         else :
-            raise 'unknown pgp packet type %d at %d' % (pkt_typ, idx)
+            raise RuntimeError('unknown pgp packet type %d at %d' % (pkt_typ, idx))
 
         pkt_list.append(pkt)
 
diff --git a/yum/plugins.py b/yum/plugins.py
index cfc8bd6..cff1fa1 100644
--- a/yum/plugins.py
+++ b/yum/plugins.py
@@ -37,7 +37,7 @@ from weakref import proxy as weakref
 
 from yum import _
 
-from yum.i18n import utf8_width, utf8_width_fill
+from yum.i18n import utf8_width
 
 # TODO: expose rpm package sack objects to plugins (once finished)
 # TODO: allow plugins to use the existing config stuff to define options for
@@ -410,6 +410,9 @@ class PluginConduit:
         @return: the global optparse.OptionParser instance used by Yum. May be
             None if an OptionParser isn't in use.
         '''
+        # ' xemacs highlighting hack
+        # This isn't API compatible :(
+        # return self._parent.optparser.plugin_option_group
         return self._parent.optparser
 
     def confString(self, section, opt, default=None):
@@ -420,6 +423,7 @@ class PluginConduit:
         @param default: Value to read if option is missing.
         @return: String option value read, or default if option was missing.
         '''
+        # ' xemacs highlighting hack
         return config.getOption(self._conf, section, opt, config.Option(default))
 
     def confInt(self, section, opt, default=None):
diff --git a/yum/repos.py b/yum/repos.py
index 63d1493..0fba1c6 100644
--- a/yum/repos.py
+++ b/yum/repos.py
@@ -25,6 +25,18 @@ from packageSack import MetaSack
 
 from weakref import proxy as weakref
 
+class _wrap_ayum_getKeyForRepo:
+    """ This is a wrapper for calling YumBase.getKeyForRepo() because
+        otherwise we take a real reference through the bound method and
+        that is d00m (this applies to YumBase and RepoStorage, hence why
+        we have a seperate class).
+        A "better" fix might be to explicitly pass the YumBase instance to
+        the callback ... API change! """
+    def __init__(self, ayum):
+        self.ayum = weakref(ayum)
+    def __call__(self, repo, callback=None):
+        return self.ayum.getKeyForRepo(repo, callback)
+
 class RepoStorage:
     """This class contains multiple repositories and core configuration data
        about them."""
@@ -44,15 +56,9 @@ class RepoStorage:
         # need to be set from outside of the repos object to do anything
         # even quasi-useful
         # defaults to what is probably sane-ish
-        self.gpg_import_func = self._wrap_ayum_getKeyForRepo
+        self.gpg_import_func = _wrap_ayum_getKeyForRepo(ayum)
         self.confirm_func = None
 
-    def _wrap_ayum_getKeyForRepo(repo, callback=None):
-        """ This is a wrapper for calling self.ayum.getKeyForRepo() because
-            otherwise we take a real reference through the bound method and
-            that is d00m. """
-        return self.ayum.getKeyForRepo(repo, callback)
-
     def doSetup(self, thisrepo = None):
         
         self.ayum.plugins.run('prereposetup')
@@ -69,10 +75,9 @@ class RepoStorage:
         for repo in repos:
             repo.setup(self.ayum.conf.cache, self.ayum.mediagrabber,
                    gpg_import_func = self.gpg_import_func, confirm_func=self.confirm_func)
-            num += 1
-            
-        if self.callback and len(repos) > 0:
-            self.callback.progressbar(num, len(repos), repo.id)
+            num += 1            
+            if self.callback and len(repos) > 0:
+                self.callback.progressbar(num, len(repos), repo.id)
 
         self._setup = True
         self.ayum.plugins.run('postreposetup')
diff --git a/yum/rpmsack.py b/yum/rpmsack.py
index 171ae92..1abe6b6 100644
--- a/yum/rpmsack.py
+++ b/yum/rpmsack.py
@@ -28,7 +28,7 @@ from packageSack import PackageSackBase
 import fnmatch
 import re
 
-from misc import to_unicode
+from yum.i18n import to_unicode
 import constants
 
 class RPMInstalledPackage(YumInstalledPackage):
@@ -54,15 +54,22 @@ class RPMInstalledPackage(YumInstalledPackage):
 
         ts = self.rpmdb.readOnlyTS()
         mi = ts.dbMatch(0, self.idx)
-        return mi.next()
-        return self.hdr
+        try:
+            return mi.next()
+        except StopIteration:
+            raise Errors.PackageSackError, 'Rpmdb changed underneath us'
 
     def __getattr__(self, varname):
         self.hdr = val = self._get_hdr()
         self._has_hdr = True
+        if varname.startswith('__') and varname.endswith('__'):
+            if not hasattr(self, varname):
+                raise AttributeError, "%s has no attribute %s" % (self, varname)
+            
         if varname != 'hdr':   #  This is unusual, for anything that happens
             val = val[varname] # a lot we should preload at __init__.
                                # Also note that pkg.no_value raises KeyError.
+
         return val
 
 
diff --git a/yum/sqlitesack.py b/yum/sqlitesack.py
index 07f402b..8919fbd 100644
--- a/yum/sqlitesack.py
+++ b/yum/sqlitesack.py
@@ -33,8 +33,8 @@ import rpmUtils.miscutils
 import sqlutils
 import constants
 import operator
-import time
-from yum.misc import seq_max_split, to_utf8, to_unicode
+from yum.misc import seq_max_split
+from yum.i18n import to_utf8, to_unicode
 import sys
 
 def catchSqliteException(func):
@@ -71,6 +71,7 @@ class YumAvailablePackageSqlite(YumAvailablePackage, PackageObject, RpmBase):
         self.repo = repo
         self.state = None
         self._loadedfiles = False
+        self._files = None
         self._read_db_obj(db_obj)
         # for stupid metadata created without epochs listed in the version tag
         # die die
@@ -83,6 +84,7 @@ class YumAvailablePackageSqlite(YumAvailablePackage, PackageObject, RpmBase):
 
         self._changelog = None
         self._hash = None
+        
 
     files = property(fget=lambda self: self._loadFiles())
 
@@ -141,6 +143,10 @@ class YumAvailablePackageSqlite(YumAvailablePackage, PackageObject, RpmBase):
                          'license' : 'rpm_license',
                          'checksum_value' : 'pkgId',
                         }
+
+        if varname.startswith('__') and varname.endswith('__'):
+            if not hasattr(self, varname):
+                raise AttributeError, varname
         
         dbname = varname
         if db2simplemap.has_key(varname):
@@ -223,7 +229,7 @@ class YumAvailablePackageSqlite(YumAvailablePackage, PackageObject, RpmBase):
     
         
     def returnIdSum(self):
-            return (self.checksum_type, self.pkgId)
+        return (self.checksum_type, self.pkgId)
     
     def returnChangelog(self):
         self._loadChangelog()
@@ -879,7 +885,7 @@ class YumSqlitePackageSack(yumRepo.YumPackageSack):
         return self._search("requires", name, flags, version)
 
     @catchSqliteException
-    def searchNames(self, names):
+    def searchNames(self, names=[]):
         """return a list of packages matching any of the given names. This is 
            only a match on package name, nothing else"""
         
@@ -930,7 +936,7 @@ class YumSqlitePackageSack(yumRepo.YumPackageSack):
         # If it's not a provides or a filename, we are done
         if prcotype != "provides":
             return results
-        if not glob and name[0] != '/':
+        if name[0] != '/' and (not glob or not misc.re_glob(name[0])):
             return results
 
         # If it is a filename, search the primary.xml file info
@@ -1013,7 +1019,6 @@ class YumSqlitePackageSack(yumRepo.YumPackageSack):
 
     def db2class(self, db, nevra_only=False):
         print 'die die die die die db2class'
-        pass
         class tmpObject:
             pass
         y = tmpObject()
diff --git a/yum/sqlutils.py b/yum/sqlutils.py
index 58b63ab..fda380e 100644
--- a/yum/sqlutils.py
+++ b/yum/sqlutils.py
@@ -25,112 +25,112 @@ except ImportError:
     import sqlite
 
 class TokenizeError(Exception):
-	"""Tokenizer error class"""
-	pass
+    """Tokenizer error class"""
+    pass
 
 def Tokenize(str, whitespace=" \t\r\n", quotes="\"", escapes="\\"):
-	"""String tokenizer
-
-	This function tokenizes a string while taking quotation and
-	escaping into account.
-
-	  >>> import dhm.strtools
-	  >>> dhm.strtools.Tokenize("this is a test")
-	  ['this', 'is', 'a', 'test']
-	  >>> dhm.strtools.Tokenize("this \"is a\" test")
-	  ['this', 'is a', 'test']
-	  >>> dhm.strtools.Tokenize("this \\\"is\\\" a test")
-	  ['this', '"is"', 'a', 'test']
-	  >>> dhm.strtools.Tokenize("this \"is a test")
-	  Traceback (most recent call last):
-	    File "<stdin>", line 1, in ?
-	    File "/usr/local/lib/python2.2/site-packages/dhm/strtools.py", line 80, in Tokenize
-	      raise TokenizeError, "Unexpected end of string in quoted text"
-	  dhm.strtools.TokenizeError: Unexecpted end of string in quoted text
-
-	@param        str: string to tokenize
-	@type         str: string
-	@param whitespace: whitespace characters seperating tokens
-	@type  whitespace: string
-	@param     quotes: legal quoting characters
-	@type      quotes: string
-	@param    escapes: characters which can escape quoting characters
-	@type     escapes: string
-	@return: list of tokens
-	@rtype:  sequence of strings
-	"""
-	(buffer, tokens, curtoken, quote)=(str, [], None, None)
-
-	try:
-		while buffer:
-			if buffer[0]==quote:
-				quote=None
-			elif (quote==None) and (buffer[0] in quotes):
-				quote=buffer[0]
-			elif buffer[0] in whitespace:
-				if quote!=None:
-					curtoken+=buffer[0]
-				else:
-					tokens.append(curtoken)
-					curtoken=None
-					while buffer[1] in whitespace:
-						buffer=buffer[1:]
-			elif buffer[0] in escapes:
-				if curtoken==None:
-					curtoken=buffer[1]
-				else:
-					curtoken+=buffer[1]
-				buffer=buffer[1:]
-			else:
-				if curtoken==None:
-					curtoken=buffer[0]
-				else:
-					curtoken+=buffer[0]
-
-			buffer=buffer[1:]
-	except IndexError:
-		raise TokenizeError, "Unexpected end of string"
-	
-	if quote:
-		raise TokenizeError, "Unexpected end of string in quoted text"
-
-	if curtoken!=None:
-		tokens.append(curtoken)
-
-	return tokens
+    """String tokenizer
+
+    This function tokenizes a string while taking quotation and
+    escaping into account.
+
+      >>> import dhm.strtools
+      >>> dhm.strtools.Tokenize("this is a test")
+      ['this', 'is', 'a', 'test']
+      >>> dhm.strtools.Tokenize("this \"is a\" test")
+      ['this', 'is a', 'test']
+      >>> dhm.strtools.Tokenize("this \\\"is\\\" a test")
+      ['this', '"is"', 'a', 'test']
+      >>> dhm.strtools.Tokenize("this \"is a test")
+      Traceback (most recent call last):
+        File "<stdin>", line 1, in ?
+        File "/usr/local/lib/python2.2/site-packages/dhm/strtools.py", line 80, in Tokenize
+          raise TokenizeError, "Unexpected end of string in quoted text"
+      dhm.strtools.TokenizeError: Unexecpted end of string in quoted text
+
+    @param        str: string to tokenize
+    @type         str: string
+    @param whitespace: whitespace characters seperating tokens
+    @type  whitespace: string
+    @param     quotes: legal quoting characters
+    @type      quotes: string
+    @param    escapes: characters which can escape quoting characters
+    @type     escapes: string
+    @return: list of tokens
+    @rtype:  sequence of strings
+    """
+    (buffer, tokens, curtoken, quote)=(str, [], None, None)
+
+    try:
+        while buffer:
+            if buffer[0]==quote:
+                quote=None
+            elif (quote==None) and (buffer[0] in quotes):
+                quote=buffer[0]
+            elif buffer[0] in whitespace:
+                if quote!=None:
+                    curtoken+=buffer[0]
+                else:
+                    tokens.append(curtoken)
+                    curtoken=None
+                    while buffer[1] in whitespace:
+                        buffer=buffer[1:]
+            elif buffer[0] in escapes:
+                if curtoken==None:
+                    curtoken=buffer[1]
+                else:
+                    curtoken+=buffer[1]
+                buffer=buffer[1:]
+            else:
+                if curtoken==None:
+                    curtoken=buffer[0]
+                else:
+                    curtoken+=buffer[0]
+
+            buffer=buffer[1:]
+    except IndexError:
+        raise TokenizeError, "Unexpected end of string"
+    
+    if quote:
+        raise TokenizeError, "Unexpected end of string in quoted text"
+
+    if curtoken!=None:
+        tokens.append(curtoken)
+
+    return tokens
 
 
 def QmarkToPyformat(query, params):
-	"""Convert from qmark to pyformat parameter style.
-
-	The python DB-API 2.0 specifies four different possible parameter
-	styles that can be used by drivers. This function convers from the
-	qmark style to pyformat style.
-
-	@param  query: SQL query to transform
-	@type   query: string
-	@param params: arguments to query
-	@type  params: sequence of strings
-	@return: converted query and parameters
-	@rtype:  tuple with the new command and a dictionary of arguments
-	"""
-	tokens=Tokenize(query, quotes="'")
-	output=[]
-	count=1
-	for token in tokens:
-		if token.endswith("?"):
-			output.append(token[:-1] + "%%(param%d)s" % count)
-			count+=1
-		else:
-			output.append(token)
-
-	dict={}
-	count=1
-	for param in params:
-		dict["param%d" % count]=param
-		count+=1
-	
-	return (" ".join(output), dict)
+    """Convert from qmark to pyformat parameter style.
+
+    The python DB-API 2.0 specifies four different possible parameter
+    styles that can be used by drivers. This function convers from the
+    qmark style to pyformat style.
+
+    @param  query: SQL query to transform
+    @type   query: string
+    @param params: arguments to query
+    @type  params: sequence of strings
+    @return: converted query and parameters
+    @rtype:  tuple with the new command and a dictionary of arguments
+    """
+    tokens=Tokenize(query, quotes="'")
+    output=[]
+    count=1
+    for token in tokens:
+        if token.endswith("?"):
+            output.append(token[:-1] + "%%(param%d)s" % count)
+            count+=1
+        else:
+            output.append(token)
+
+    dict={}
+    count=1
+    for param in params:
+        dict["param%d" % count]=param
+        count+=1
+    
+    return (" ".join(output), dict)
 
 
 def executeSQLPyFormat(cursor, query, params=None):
@@ -168,4 +168,3 @@ else:
     executeSQL = executeSQLPyFormat
 
 
-
diff --git a/yum/transactioninfo.py b/yum/transactioninfo.py
index 3bb616b..6f78ac5 100644
--- a/yum/transactioninfo.py
+++ b/yum/transactioninfo.py
@@ -313,7 +313,7 @@ class TransactionData:
            takes a packages object and returns a TransactionMember Object"""
 
         if self._allowedMultipleInstalls(po):
-           return self.addTrueInstall(po)
+            return self.addTrueInstall(po)
     
         txmbr = TransactionMember(po)
         txmbr.current_state = TS_AVAILABLE
@@ -355,7 +355,7 @@ class TransactionData:
            takes a packages object and returns a TransactionMember Object"""
         
         if self._allowedMultipleInstalls(po):
-           return self.addTrueInstall(po)
+            return self.addTrueInstall(po)
             
         txmbr = TransactionMember(po)
         txmbr.current_state = TS_AVAILABLE
diff --git a/yum/update_md.py b/yum/update_md.py
index bd87c31..9b1f07b 100644
--- a/yum/update_md.py
+++ b/yum/update_md.py
@@ -27,6 +27,7 @@ import gzip
 from yum.i18n import utf8_text_wrap, to_utf8
 from yum.yumRepo import YumRepository
 from yum.misc import to_xml
+import Errors
 
 import rpmUtils.miscutils
 
@@ -295,11 +296,16 @@ class UpdateMetadata(object):
     The root update metadata object.
     """
 
-    def __init__(self):
+    def __init__(self, repos=[]):
         self._notices = {}
         self._cache = {}    # a pkg nvr => notice cache for quick lookups
         self._no_cache = {}    # a pkg name only => notice list
         self._repos = []    # list of repo ids that we've parsed
+        for repo in repos:
+            try: # attempt to grab the updateinfo.xml.gz from the repodata
+                self.add(repo)
+            except Errors.RepoMDError:
+                continue # No metadata found for this repo
 
     def get_notices(self, name=None):
         """ Return all notices. """
diff --git a/yum/yumRepo.py b/yum/yumRepo.py
index e5774bb..71741db 100644
--- a/yum/yumRepo.py
+++ b/yum/yumRepo.py
@@ -344,15 +344,6 @@ class YumRepository(Repository, config.RepoConf):
             thisdata = self.repoXML.getData('group')
         return thisdata.location
 
-
-    def __cmp__(self, other):
-        if self.id > other.id:
-            return 1
-        elif self.id < other.id:
-            return -1
-        else:
-            return 0
-
     def __str__(self):
         return self.id
 
@@ -830,6 +821,10 @@ class YumRepository(Repository, config.RepoConf):
             if self.metalink and not os.path.exists(mlfn):
                 self._metadataCurrent = False
         if self._metadataCurrent is None:
+            repomdfn = self.cachedir + '/' + 'repomd.xml'
+            if not os.path.exists(repomdfn):
+                self._metadataCurrent = False
+        if self._metadataCurrent is None:
             self._metadataCurrent = self.withinCacheAge(self.metadata_cookie,
                                                         self.metadata_expire)
         return self._metadataCurrent
@@ -1525,7 +1520,7 @@ class YumRepository(Repository, config.RepoConf):
         self.interrupt_callback = callback
         self._callbacks_changed = True
 
-    def _readMirrorList(self, fo):
+    def _readMirrorList(self, fo, url=None):
         """ read the mirror list from the specified file object """
         returnlist = []
 
@@ -1534,7 +1529,9 @@ class YumRepository(Repository, config.RepoConf):
             try:
                 content = fo.readlines()
             except Exception, e:
-                print "Could not read mirrorlist %s error was \n%s" %(url, e)
+                if url is None: # Shouldn't happen
+                    url = "<unknown>"
+                print "Could not read mirrorlist %s, error was \n%s" %(url, e)
                 content = []
             for line in content:
                 if re.match('^\s*\#.*', line) or re.match('^\s*$', line):
@@ -1560,6 +1557,7 @@ class YumRepository(Repository, config.RepoConf):
         if self.withinCacheAge(self.mirrorlist_file, self.mirrorlist_expire):
             cacheok = True
             fo = open(self.mirrorlist_file, 'r')
+            url = 'file://' + self.mirrorlist_file # just to keep self._readMirrorList(fo,url) happy
         else:
             url = self.mirrorlist
             scheme = urlparse.urlparse(url)[0]
@@ -1571,7 +1569,7 @@ class YumRepository(Repository, config.RepoConf):
                 print "Could not retrieve mirrorlist %s error was\n%s" % (url, e)
                 fo = None
 
-        (returnlist, content) = self._readMirrorList(fo)
+        (returnlist, content) = self._readMirrorList(fo, url)
 
         if returnlist:
             if not self.cache and not cacheok:
@@ -1616,10 +1614,11 @@ class YumRepository(Repository, config.RepoConf):
         """attempts to copy the metadata file from the system-wide cache,
            if possible"""
         return self._preload_file_from_system_cache(filename)
+    
     def _preload_pkg_from_system_cache(self, pkg):
         """attempts to copy the package from the system-wide cache,
            if possible"""
-        return self._preload_file_from_system_cache(filename,subdir='packages/')
+        return self._preload_file_from_system_cache(pkg.localPkg(),subdir='packages/')
 
 
 def getMirrorList(mirrorlist, pdict = None):
diff --git a/yumcommands.py b/yumcommands.py
index fee8060..aa459e6 100644
--- a/yumcommands.py
+++ b/yumcommands.py
@@ -28,8 +28,7 @@ import operator
 import locale
 import fnmatch
 import time
-from yum.misc import to_unicode
-from yum.i18n import utf8_width, utf8_width_fill
+from yum.i18n import utf8_width, utf8_width_fill, to_unicode
 
 def checkRootUID(base):
     """
@@ -105,7 +104,6 @@ def checkShellArg(base, basecmd, extcmds):
     """
     if len(extcmds) == 0:
         base.verbose_logger.debug(_("No argument to shell"))
-        pass
     elif len(extcmds) == 1:
         base.verbose_logger.debug(_("Filename passed to shell: %s"), 
             extcmds[0])              
@@ -736,11 +734,11 @@ class DepListCommand(YumCommand):
         checkPackageArg(base, basecmd, extcmds)
 
     def doCommand(self, base, basecmd, extcmds):
-       self.doneCommand(base, _("Finding dependencies: "))
-       try:
-          return base.deplist(extcmds)
-       except yum.Errors.YumBaseError, e:
-          return 1, [str(e)]
+        self.doneCommand(base, _("Finding dependencies: "))
+        try:
+            return base.deplist(extcmds)
+        except yum.Errors.YumBaseError, e:
+            return 1, [str(e)]
 
 
 class RepoListCommand(YumCommand):
@@ -859,6 +857,10 @@ class RepoListCommand(YumCommand):
                     if repo.metalink:
                         out += [base.fmtKeyValFill(_("Repo-metalink: "),
                                                    repo.metalink)]
+                        if enabled:
+                            ts = repo.metalink_data.repomd.timestamp
+                            out += [base.fmtKeyValFill(_("  Updated    : "),
+                                                       time.ctime(ts))]
                     elif repo.mirrorlist:
                         out += [base.fmtKeyValFill(_("Repo-mirrors: "),
                                                    repo.mirrorlist)]
@@ -1003,11 +1005,13 @@ class ReInstallCommand(YumCommand):
         self.doneCommand(base, _("Setting up Reinstall Process"))
         oldcount = len(base.tsInfo)
         try:
+            # FIXME: Due to not having reinstallPkgs() we don't get
+            #        localreinstall and maybe_you_meant features.
             for item in extcmds:
                 base.reinstall(pattern=item)
 
             if len(base.tsInfo) > oldcount:
-                return 2, [_('Package(s) to install')]
+                return 2, [_('Package(s) to reinstall')]
             return 0, [_('Nothing to do')]            
             
         except yum.Errors.YumBaseError, e:
@@ -1016,6 +1020,30 @@ class ReInstallCommand(YumCommand):
     def getSummary(self):
         return _("reinstall a package")
 
+    def needTs(self, base, basecmd, extcmds):
+        return False
+        
+class DowngradeCommand(YumCommand):
+    def getNames(self):
+        return ['downgrade']
+
+    def getUsage(self):
+        return "PACKAGE..."
+
+    def doCheck(self, base, basecmd, extcmds):
+        checkRootUID(base)
+        checkGPGKey(base)
+        checkPackageArg(base, basecmd, extcmds)
+
+    def doCommand(self, base, basecmd, extcmds):
+        self.doneCommand(base, _("Setting up Downgrade Process"))
+        try:
+            return base.downgradePkgs(extcmds)
+        except yum.Errors.YumBaseError, e:
+            return 1, [str(e)]
+
+    def getSummary(self):
+        return _("downgrade a package")
 
     def needTs(self, base, basecmd, extcmds):
         return False
diff --git a/yummain.py b/yummain.py
index 4d330af..93cea0a 100755
--- a/yummain.py
+++ b/yummain.py
@@ -28,7 +28,7 @@ from yum import Errors
 from yum import plugins
 from yum import logginglevels
 from yum import _
-from yum.misc import to_unicode
+from yum.i18n import to_unicode
 import yum.misc
 import cli
 
commit 2eb83ba8fc4fd0104c68a9c532069fd484c2590a
Author: Seth Vidal <skvidal@fedoraproject.org>
Date:   Mon Apr 6 17:27:46 2009 -0400

    add comment about yum-utils to y-c-t msg

diff --git a/yum/__init__.py b/yum/__init__.py
index 8ce96ef..ee27ce4 100644
--- a/yum/__init__.py
+++ b/yum/__init__.py
@@ -693,7 +693,8 @@ class YumBase(depsolve.Depsolve):
         if (unfinished_transactions_check and
             misc.find_unfinished_transactions(yumlibpath=self.conf.persistdir)):
             msg = _('There are unfinished transactions remaining. You might ' \
-                    'consider running yum-complete-transaction first to finish them.' )
+                    'consider running yum-complete-transaction (found in the ' \
+                    'yum-utils package) first to finish them.' )
             self.logger.critical(msg)
             time.sleep(3)
 
commit 61fe5b2c4560f4ea8e4bc15e75ed35d6af5f9335
Author: James Antill <james@and.org>
Date:   Mon Apr 6 17:37:38 2009 -0400

     Add message function about pkgs that are in yum-utils, BZ 494432.

diff --git a/yum/__init__.py b/yum/__init__.py
index ee27ce4..6a22e85 100644
--- a/yum/__init__.py
+++ b/yum/__init__.py
@@ -687,15 +687,28 @@ class YumBase(depsolve.Depsolve):
             self.verbose_logger.log(logginglevels.INFO_2, msg)
             self.repos.populateSack(mdtype='filelists')
            
+    def yumUtilsMsg(self, func, prog):
+        """ Output a message that the tool requires the yum-utils package,
+            if not installed. """
+        if self.rpmdb.contains(name="yum-utils"):
+            return
+
+        hibeg, hiend = "", ""
+        if hasattr(self, 'term'):
+            hibeg, hiend = self.term.MODE['bold'], self.term.MODE['normal']
+
+        func(_("The program %s%s%s is found in the yum-utils package.") %
+             (hibeg, prog, hiend))
+
     def buildTransaction(self, unfinished_transactions_check=True):
         """go through the packages in the transaction set, find them in the
            packageSack or rpmdb, and pack up the ts accordingly"""
         if (unfinished_transactions_check and
             misc.find_unfinished_transactions(yumlibpath=self.conf.persistdir)):
             msg = _('There are unfinished transactions remaining. You might ' \
-                    'consider running yum-complete-transaction (found in the ' \
-                    'yum-utils package) first to finish them.' )
+                    'consider running yum-complete-transaction first to finish them.' )
             self.logger.critical(msg)
+            base.yumUtilsMsg(self.logger.critical, "yum-complete-transaction")
             time.sleep(3)
 
         self.plugins.run('preresolve')
diff --git a/yummain.py b/yummain.py
index 93cea0a..30fb831 100755
--- a/yummain.py
+++ b/yummain.py
@@ -241,6 +241,7 @@ def main(args):
         verbose_logger.info(_(" You could try running: package-cleanup --problems\n"
                               "                        package-cleanup --dupes\n"
                               "                        rpm -Va --nofiles --nodigest"))
+        base.yumUtilsMsg(verbose_logger.info, "package-cleanup")
         if unlock(): return 200
         return 1
     elif result == 2:
commit 7d80461524e471b04fd8583f6388e68967010b25
Author: James Antill <james@and.org>
Date:   Tue Apr 7 17:12:32 2009 -0400

    Make sure .conf.obsoletes is off for reinstall()

diff --git a/yum/__init__.py b/yum/__init__.py
index 313d96a..a6a84b8 100644
--- a/yum/__init__.py
+++ b/yum/__init__.py
@@ -3117,8 +3117,13 @@ class YumBase(depsolve.Depsolve):
                 self.verbose_logger.log(logginglevels.INFO_2, msg)
                 continue
             
+            #  Make sure obsoletes processing is off, so we can reinstall()
+            # pkgs that are obsolete.
+            old_conf_obs = self.conf.obsoletes
+            self.conf.obsoletes = False
             members = self.install(name=item.name, arch=item.arch,
                            ver=item.version, release=item.release, epoch=item.epoch)
+            self.conf.obsoletes = old_conf_obs
             if len(members) == 0:
                 self.tsInfo.remove(item.pkgtup)
                 tx_mbrs.remove(item)
commit dfc451464b7646d0932e976dab9fc2679961def3
Author: James Antill <james@and.org>
Date:   Tue Apr 7 19:06:44 2009 -0400

    Fix copy and paste typo

diff --git a/yum/__init__.py b/yum/__init__.py
index a6a84b8..45378e1 100644
--- a/yum/__init__.py
+++ b/yum/__init__.py
@@ -708,7 +708,7 @@ class YumBase(depsolve.Depsolve):
             msg = _('There are unfinished transactions remaining. You might ' \
                     'consider running yum-complete-transaction first to finish them.' )
             self.logger.critical(msg)
-            base.yumUtilsMsg(self.logger.critical, "yum-complete-transaction")
+            self.yumUtilsMsg(self.logger.critical, "yum-complete-transaction")
             time.sleep(3)
 
         self.plugins.run('preresolve')
commit 5707418282b787fa5c825808b027213758616f85
Author: Seth Vidal <skvidal@fedoraproject.org>
Date:   Tue Apr 7 11:08:13 2009 -0400

    - revert the copy_local change
    - fix the duplicate / in config dirs when they get the installroot prepended
    - make the unlinking check to see if the file is in the cachedir and only
      unlink it if it is.

diff --git a/yum/__init__.py b/yum/__init__.py
index 6a22e85..313d96a 100644
--- a/yum/__init__.py
+++ b/yum/__init__.py
@@ -1215,8 +1215,12 @@ class YumBase(depsolve.Depsolve):
             cursize = os.stat(fo)[6]
             totsize = long(po.size)
             if cursize >= totsize and not po.repo.cache:
-                os.unlink(fo)
-                                                                                             
+                # if the path to the file is NOT inside the cachedir then don't
+                # unlink it b/c it is probably a file:// url and possibly
+                # unlinkable
+                if fo.startswith(po.repo.cachedir):
+                    os.unlink(fo)
+
             if raiseError:
                 raise URLGrabError(-1, _('Package does not match intended download'))
             else:
diff --git a/yum/config.py b/yum/config.py
index d3ace8f..9a47f1c 100644
--- a/yum/config.py
+++ b/yum/config.py
@@ -800,7 +800,10 @@ def readMainConfig(startupconf):
     # Apply the installroot to directory options
     for option in ('cachedir', 'logfile', 'persistdir'):
         path = getattr(yumconf, option)
-        setattr(yumconf, option, yumconf.installroot + path)
+        ir_path = yumconf.installroot + path
+        ir_path = ir_path.replace('//', '/') # os.path.normpath won't fix this and
+                                             # it annoys me
+        setattr(yumconf, option, ir_path)
     
     # Add in some extra attributes which aren't actually configuration values 
     yumconf.yumvar = yumvars
diff --git a/yum/yumRepo.py b/yum/yumRepo.py
index 71741db..d9e2d77 100644
--- a/yum/yumRepo.py
+++ b/yum/yumRepo.py
@@ -253,7 +253,7 @@ class YumRepository(Repository, config.RepoConf):
         # throw in some stubs for things that will be set by the config class
         self.basecachedir = ""
         self.cost = 1000
-        self.copy_local = 1
+        self.copy_local = 0
         # holder for stuff we've grabbed
         self.retrieved = { 'primary':0, 'filelists':0, 'other':0, 'group':0,
                            'updateinfo':0}
